Interfaces
----------

The following are the types of interfaces you can provision.

+----------------------+------------------------+----------------------------------------------+----------------------+
| Interface Scheme     | Syntax Convention      | Range                                        | Example              |
+======================+========================+==============================================+======================+
| fab-<nce>X-Y/Z/W     | NCE: Node type         | NCP: fabric interface on NCP (NCP-to-NCF)    | fab-ncp400-1/0/3     |
|                      |                        | NCF: fabric interface on NCF (NCF-to-NCP)    | fab-ncf400-1/0/20    |
|                      +------------------------+----------------------------------------------+                      |
|                      | X: Interface speed     | 400 GbE                                      |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | Y: Node ID             | NCP: 0..249                                  |                      |
|                      |                        | NCF: 0..611                                  |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | Z: Slot ID             | 0                                            |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | W: Port ID             | As displayed on the hardware panel           |                      |
+----------------------+------------------------+----------------------------------------------+----------------------+
| mgmt-<nce>-X/Y       | NCE: Node type         | NCC management interface                     | mgmt-ncc-0           |
|                      |                        | NCP management interface                     | mgmt-ncp-3/0         |
|                      |                        | NCF management interface                     | mgmt-ncf-1-0         |
|                      +------------------------+----------------------------------------------+                      |
|                      | X: Node ID             | NCC: 0..1                                    |                      |
|                      |                        | NCP: 0..249                                  |                      |
|                      |                        | NCF: 0..611                                  |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | Y: Eth. port ID        | 0                                            |                      |
+----------------------+------------------------+----------------------------------------------+----------------------+
| ctrl-<nce>-X/Y       | NCE: Node type         | NCC control interface                        | ctrl-ncc-1/0         |
|                      |                        | NCP control interface                        | ctrl-ncp-3/1         |
|                      |                        | NCF control interface                        | ctrl-ncf-0/0         |
|                      |                        | NCM control interface                        | ctrl-ncm-B0/1        |
|                      +------------------------+----------------------------------------------+                      |
|                      | X: Node ID             | NCC: 0..1                                    |                      |
|                      |                        | NCP: 0..249                                  |                      |
|                      |                        | NCF: 0..611                                  |                      |
|                      |                        | NCM: A0, B0, A1, B1                          |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | Y: Eth. port ID        | 0..1                                         |                      |
+----------------------+------------------------+----------------------------------------------+----------------------+
| ipmi-<nce>-X/Y       | NCE: Node type         | NCC IPMI interface                           | ipmi-ncc-0/0         |
|                      |                        | NCP IPMI interface                           | ipmi-ncp-1/0         |
|                      |                        | NCF IPMI interface                           | ipmi-ncf-0/0         |
|                      +------------------------+----------------------------------------------+                      |
|                      | X: Node ID             | NCC: 0..1                                    |                      |
|                      |                        | NCP: 0..249                                  |                      |
|                      |                        | NCF: 0..611                                  |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | Y: Port ID             | 0                                            |                      |
+----------------------+------------------------+----------------------------------------------+----------------------+
| console-<nce>-X/Y    | NCE: Node type         | NCC console interface                        | console-ncc-0/0      |
|                      |                        | NCP console interface                        | console-ncp-2/0      |
|                      |                        | NCF console interface                        | console-ncf-0/0      |
|                      +------------------------+----------------------------------------------+                      |
|                      | X: Node ID             | NCC: 0..1                                    |                      |
|                      |                        | NCP: 0..249                                  |                      |
|                      |                        | NCF: 0..611                                  |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | Y: Port ID             | 0                                            |                      |
+----------------------+------------------------+----------------------------------------------+----------------------+
| mgmt0                | Logical out-of-band management interface                                                     |
+----------------------+------------------------+----------------------------------------------+----------------------+
| geX-f/n/p            | X: Interface speed     | 10, 25, 40, 50, 100                          | ge100-1/0/39         |
|                      +------------------------+----------------------------------------------+                      |
|                      | f: NCP ID              | 0..255                                       |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | n: Slot ID             | 0..255                                       |                      |
|                      +------------------------+----------------------------------------------+                      |
|                      | p: Port ID             | 0..255                                       |                      |
+----------------------+------------------------+----------------------------------------------+----------------------+
| bundle-x             | x: bundle-id           | 1..1023                                      | bundle-2             |
+----------------------+------------------------+----------------------------------------------+----------------------+
| .y                   | y: Sub-interface ID    | 1..65535                                     | ge100-1/0/39.2057    |
|                      |                        |                                              +----------------------+
|                      |                        |                                              | bundle-2.102         |
+----------------------+------------------------+----------------------------------------------+----------------------+
| loX                  | X: Loopback ID         | 0..65535                                     | lo0                  |
+----------------------+------------------------+----------------------------------------------+----------------------+
| gre-X                | X: GRE tunnel ID       | 0..4                                         | gre-1                |
+----------------------+------------------------+----------------------------------------------+----------------------+
| irbX                 | X: IRB ID              | 1..65535                                     | irb1                 |
+----------------------+------------------------+----------------------------------------------+----------------------+


**Physical Interfaces**
=======================

DNOS supports a highly modular range of high-speed Ethernet interfaces in a wide range of speeds, as follows.

- 1 GbE
- 10 GbE
- 25 GbE
- 100 GbE
- 400 GbE

This solution requires fewer physical interconnects, accelerating provisioning and reducing deployment and sparing costs.

**Name: ge100-<f>/<n>/<p>**

**f** - ncp id

**n** - NIC slot id

**p** - port id

The NIC id is the physical slot.

The physical interfaces of an NCP is set by system after assigning an NCP ID in the cluster.


**Bundle Interfaces**
=====================

**Name: bundle-<bundle id>**

Link aggregation (LAG) is a process of inter-connecting two devices with two or more links between them, so that multiple links are combined into one bigger virtual link that can carry a higher (combined) bandwidth. All these multiple links participating in a LAG (bundle) act as a single large (virtual) link.

Assigning a bundle-id to an interface adds the interface to an existing bundle interface. When a bundle is created, all other configurations/sub-interfaces under the physical member are removed. You should always create a bundle on both the router side and at the other end of the link.

In DNOS, the bundle interfaces in the DNOS system are providing datapath connectivity between NCPs. The bundle interfaces are the customer/core interfaces that the user is provisioning. Each bundle has a representation (member) in each of the NCPs, so that all the NCPs are able to send traffic from any ingress interface to any egress interface.

<INSERT 01_interfaces>


**Physical/Bundle vLAN Sub-interfaces**
=======================================

**Name: bundle-<id.subinterface>**
**Name: ge100-<f>/<n>/<p>.<subinterface>**

Sub-interfaces are created by subdividing the physical interface into two or more virtual interfaces on which you can assign unique Layer 3 network addresses such as IP subnets. With sub-interfaces, the IP routing protocols see the network connection to each remote networking device as a separate physical interface even though the sub-interfaces share a common physical interface.

Sub-interfaces are identified by a prefix that consists of the hardware interface descriptor or bundle interface descriptor followed by a period and then by a number that is unique for that prefix. The full sub-interface number must be unique to the cluster. For example, the first sub-interface for Ethernet interface ge100-1/2/1 might be named ge100-1/2/1.100 where .100 indicates the sub-interface.

**GRE-tunnel Interfaces**
=========================

**Name: gre-tunnel-<id>**

Generic Routing Encapsulation (GRE) is a tunneling mechanism that encapsulates packets of any protocol inside IP packets delivered to a destination endpoint. The GRE tunnel behaves as a virtual point-to-point connection between the two endpoints (identified as tunnel source and tunnel destination).

In DNOS, the GRE interfaces provide a control plane interface in order to establish IS-IS adjacency with a remote neighbor over a connected interface.
The GRE interfaces are not used to solve routes.

**IRB Interfaces**
=========================

**Name: irb<id>**

Integrated Routing and Bridging (IRB) interfaces are interfaces that can be associated with a single layer 2 bridge domain and a layer 3 VRF. The IRB interface acts as a gateway for the bridge domain and allows inter connectivity between bridge domains or routing domains.

**Interface Command List**
==========================

The following table displays the interface commands and the interfaces types to which they apply.

+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| Command               | Bundle | Bundle vlan | Physical | Physical VLAN | lo | Bundle member | Mgmt0 | Mgmt-ncc-X/0 | Console-ncc-X/0 | IPMI | ctrl-ncX-0/0 | fab-ncX-0/0 | GRE tunnel  | IRB |
+=======================+========+=============+==========+===============+====+===============+=======+==============+=================+======+==============+=============+=============+=====+
| admin-state           | -      | -           | -        | -             | -  | -             | -     | -            | -               | -    | -            | -           |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| mtu                   | -      | -           | -        | -             |    |               | -     |              |                 |      |              |             | -           | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| ipv4-address          | -      | -           | -        | -             | -  |               | -     | -            |                 |      |              |             | -           | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| ipv6-address          | -      | -           | -        | -             | -  |               | -     | -            |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| description           | -      | -           | -        | -             | -  | -             |       | -            |                 |      | -            |             | -           | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| mac-address           | -      |             | -        |               |    |               |       | -            |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| mpls                  | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| urpf                  | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| vlan-tags             |        | -           |          | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| vlan-id               |        | -           |          | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| untagged              |        | -           |          | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| bundle-id             |        |             | -        |               |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| access-list           | -      | -           | -        | -             |    |               | -     |              |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| qos policy            | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| arp                   | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| ndp                   | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| carrier-delay         |        |             | -        |               |    | -             |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| port-priority         |        |             |          |               |    | -             |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| source                |        |             |          |               |    |               |       |              |                 |      |              |             | -           |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| destination           |        |             |          |               |    |               |       |              |                 |      |              |             | -           |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| flowspec              | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| flow-monitoring       | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             | -   |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| l2-service            |        | -           |          | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| if-dampening          |        |             | -        |               |    | -             |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| speed                 |        |             | -        |               |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| ber                   |        |             | -        |               |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| priority-flow-control |        |             | -        |               |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+
| qppb                  | -      | -           | -        | -             |    |               |       |              |                 |      |              |             |             |     |
+-----------------------+--------+-------------+----------+---------------+----+---------------+-------+--------------+-----------------+------+--------------+-------------+-------------+-----+