# System Configuration and High Availability Complete Aggregation

This file contains the complete content from all RST files in:
1. System folder
2. High-availability folder

This comprehensive documentation covers:
- System configuration and management
- High availability features and configurations
- Node clustering and redundancy
- System monitoring and alarms
- Performance management
- User authentication and security
- System maintenance and diagnostics


---

# SECTION 1: SYSTEM

Files from System folder:      623 files

## aaa-server/aaa-server overview.rst

System AAA Overview
-------------------

TACACS+ and RADIUS are security protocols that provide a central validation of users attempting to gain access to a router or network access server. The protocols enable remote Authentication, Authorization, and Accounting (AAA) services to be handled separately on different servers (DNOS supports RADIUS only for authentication).

Authentication - when a user attempts to log in to DNOS (TACACS+/RADIUS client), the authentication request is sent to the TACACS+/RADIUS server. The server determines if the user is allowed access to the system.
Authentication servers must all be of the same type,
Authorization - if the user is granted access by the TACACS+/RADIUS authentication server, the authorization request is sent to the TACACS+ server. The server determines the level of access to grant the user based on the configuration.
Accounting - the user's actions and the connection time is logged for billing and auditing. TACACS+ tracks login requests, configuration changes and entered commands.

The supported AAA combinations are:
+--------+----------------+---------------+------------+
| Option | Authentication | Authorization | Accounting |
+--------+----------------+---------------+------------+
| 1      | RADIUS         | TACACS        | TACACS     |
+--------+----------------+---------------+------------+
| 2      | TACACS         | TACACS        | TACACS     |
+--------+----------------+---------------+------------+

You can configure multiple TACACS+ servers for each function or multiple RADIUS servers for authentication. On each TACACS+ server you can enable each function separately, e.g. you can have separate TACACS+ servers for authorization and separate for accounting.

If you have multiple authentication servers configured, and the first server on the list is unreachable or the router doesn't receive its replies, the user authentication will be done against the other servers on the list until the router receives a response from one of them. Similarly, if you have multiple authorization or accounting servers configured, the user authorization or accounting will be performed against the servers on the list until a response is received from one of them.

If some of the servers for a specific function are down (such as all Authentication servers), there will be a fallback to local.
---

## aaa-server/aaa-server.rst

system aaa-server
-----------------

**Minimum user role:** admin

**Command mode:** config

**Command syntax: aaa-server** 


You can configure all AAA functions (authentication, authorization, and accounting) in a single AAA TACACS+ server  with all its parameters, configure any function or any two functions on separate TACACS+ servers, or use a RADIUS server for authentication, and TACACS+ for authorization and accounting. 
The steps required for setting up a AAA server are:

1. Define users:
   * For local authentication, define users locally. See system login user.
   * For remote authentication, define users in the TACACS+/RADIUS server.

   **Note** - Authentication uses the PAP protocol.

2. Assign users with roles:
   * For local authentication, define roles locally. See system login user role.
   * For remote authentication, assign roles in the TACACS+ server (assign a viewer, operator, or administrator role (lowercase)).
      
   **Note** - If you already have roles defined in the TACACS+ server, please make sure that the roles are in lowercase. Make sure you have a user with techsupport role assigned to it. This user will have access directly to the system OS and have sudo permissions. **This user is for DriveNets use only, to provide technical support.**

   An authenticated user is granted access according to the user's assigned role (see system login user role). 
   You can expand the users' profiles by assigning users to groups and setting exceptions and limitations to the permissions granted by the role. 
   You can also set these exceptions and limitations on a user level, but group profiles are easier to manage.
   
   To create such profiles:

   -. Create groups in the TACACS+ server. Refer to the TACACS+ server documentation. 

     The following is an example of a group definition named "MyGroupA".
      ::

	group = MyGroupA {
        login = PAM
        service = TTY {
        default attribute = permit

   -. Add the following code to the group definition:
      ::

	dnRouter# configure
         role = 
         cmd_deny = 
         cmd_allow = 
         cmd_limit =	

   **role** - specify the role for all members of the group. 
      The available roles are:
      * Tech-support - has full control.
      * Admin - has full control except request system recovery commands.
      * Operator - has full control, except request system restart commands.
      * Viewer - can execute show commands only.

   The minimum user role required for each command is specified for every command in this manual, as follows:
      The minimum user role required for this command:
      * Support - Only Tech-support can execute the command.
      * Administrator - Administrators and Tech-support can execute the command.
      * Operator - Operators, Administrators, and Tech-support can execute the command.
      * Viewer - Viewers, Operators, and Administrators can execute the command.


   **cmd_deny** - enables to set exceptions to the commands permitted by the role. For example, say that you assign MyGroupA with the "Operator" role. This grants members of this group permission to execute a specific list of commands (see CLI-TACACS Command Mapping reference guide). If, for example, you don't want members of MyGroupA to make change the configured TACACS+ servers (contrary to the default permissions of the role), you must specify all the commands relating to the TACACS+ servers in the cmd_deny row. 

   **cmd_allow** - enables to set exceptions to the commands denied by the role. For example, say that you want members of MyGroupA to perform system restart, contrary to what is allowed by the role. You can add the system restart command in the cmd_allow row. 
   Commands must be entered in the form as described in the CLI-TACACS Command Mapping reference guide in the TACACS+ column. The commands are separated by a semicolon (;) (e.g. system.tacacs; no.system.tacacs). 

   **cmd_limit** - enables to set limitations on the value that group members can set to permitted commands. The value you want to limit can be greater than, less than, equals, or is not (>, <, =, !=), or it can be an "if... then... statement. 
   For example, say that members of MyGroupA are allowed to configure MTU for interfaces. You can set limitations on the value that they can set. 
   Here are some examples:

   * interface.mtu > 2500: this statement will not allow group members to set a value lower than 2500 for an interface MTU.
   * interface.mtu = 3000: this statement only allows group members to set a value of 3000 for interface MTU.
   * if interface.mtu > 2000 then interface.mtu > 2500: this statement allows group members to set the interface MTU to a value higher than 2500 only if it is already higher than 2000.


   -. Assign users to groups. Refer to the TACACS+ documentation.

**Example** 
   Using the examples above, the code for MyGroupA in the TACACS+ server is:
      ::

	group = MyGroupA {
   
      login = PAM
      
      service = TTY
      default attribute = permit
      role = Operator
      cmd_deny = system.tacacs; no.system.tacacs
      cmd_allow = request.system.restart
      cmd_limit = "if interface.mtu > 2000 then interface.mtu > 2500"


To enter AAA configuration mode:

::
   dnRouter(cfg-system)# aaa-server
   dnRouter(cfg-system-aaa)



**Command History**

+---------+----------------------------------------------+
| Release | Modification                                 |
+=========+==============================================+
| 6.0     | Command introduced                           |
+---------+----------------------------------------------+
| 13.0    | Added support for RADIUS                     |
+---------+----------------------------------------------+


---

## aaa-server/admin-state.rst

system aaa-server admin-state
-----------------------------

**Minimum user role:** admin

Configure the admin state of remote AAA. To enable the aaa-server:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Note**
 - If aaa-server admin-state is enabled, each AAA request will be sent to one of the AAA servers enabled for the required AAA function.
 - Servers can be separately enabled or disabled for each one of the three AAA functions.
 - If no AAA server is enabled for one of the functions, no AAA requests will be sent at all, and local users will be used for login.
 - If aaa-server admin-state is disabled, local users will be used for login.


**Parameter table**

+-------------+---------------------------------------------+--------------+----------+
| Parameter   | Description                                 | Range        | Default  |
+=============+=============================================+==============+==========+
| admin-state | The desired state of the AAA server service | | enabled    | disabled |
|             |                                             | | disabled   |          |
+-------------+---------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# admin-state enabled
    dnRouter(cfg-system-aaa)# admin-state disabled


**Removing Configuration**

To revert the admin-state to default:
::

    dnRouter(system-aaa)# no admin-state

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 6.0     | Command introduced                     |
+---------+----------------------------------------+
| 11.2    | Admin-state default changed to enabled |
+---------+----------------------------------------+

---

## aaa-server/authentication-order.rst

system aaa-server authentication-order
--------------------------------------

**Minimum user role:** admin

Configure the authentication order of authentication methods:

**Command syntax: authentication-order [authentication-order]**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Note**
- The following authentication order cases are supported: AAA - Local, Local - AAA and Local only.
- If fallback-on-reject is enabled, authentication will be performed against the secondary method (if configured) if the first method attempt is rejected
- If fallback-on-reject is disabled, authentication will be performed against the secondary method (if configured) only if the first method is not available

**Parameter table**

+----------------------+-------------------------------------------------+---------------+-----------+
| Parameter            | Description                                     | Range         | Default   |
+======================+=================================================+===============+===========+
| authentication-order | The desired order of AAA authentication methods | | local-aaa   | aaa-local |
|                      |                                                 | | aaa-local   |           |
|                      |                                                 | | local       |           |
+----------------------+-------------------------------------------------+---------------+-----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# authentication-order aaa-local


**Removing Configuration**

To revert the authentication-order to default:
::

    dnRouter(system-aaa-tacacs)# no authentication-order

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## aaa-server/class-of-service.rst

system aaa-server class-of-service
----------------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority.

To configure a CoS for all outgoing TACACS+ and RADIUS messages:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Note**
- The configuration is global for all outgoing TACACS+ and RADIUS messages.

.. - Configuration is global for all outgoing TACACS+ and RADIUS messages

- Value is the dscp value on the ip header

**Parameter table**

+------------------+-------------------------------------+-------+---------+
| Parameter        | Description                         | Range | Default |
+==================+=====================================+=======+=========+
| class-of-service | Differentiated Services Code Point. | 0-56  | 16      |
+------------------+-------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# class-of-service 12


**Removing Configuration**

To revert the class-of-service to default:
::

    dnRouter(system-aaa-tacacs)# no class-of-service

**Command History**

+---------+--------------------------+
| Release | Modification             |
+=========+==========================+
| 11.0    | Command introduced       |
+---------+--------------------------+
| 13.0    | Added support for RADIUS |
+---------+--------------------------+

---

## aaa-server/fallback-on-reject.rst

system aaa-server fallback-on-reject
------------------------------------

**Minimum user role:** admin

When enabled, allows automatic fallback to the secondary authentication method (if configured) also in the case of a rejected primary method attempt

**Command syntax: fallback-on-reject [fallback-on-reject]**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Note**
- If fallback-on-reject is enabled, authentication will be performed against the secondary method (if configured) if the first method attempt is rejected
- If fallback-on-reject is disabled, authentication will be performed against the secondary method (if configured) only if the first method is not available

**Parameter table**

+--------------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter          | Description                                                                      | Range        | Default  |
+====================+==================================================================================+==============+==========+
| fallback-on-reject | When enabled, this option allows fallback on secondary authentication method as  | | enabled    | disabled |
|                    | configured by authentication-order if the first one is rejected                  | | disabled   |          |
+--------------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# fallback-on-reject enabled


**Removing Configuration**

To revert the fallback-on-reject to default:
::

    dnRouter(system-aaa-tacacs)# no fallback-on-reject

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/radius.rst

system aaa-server radius
------------------------

**Minimum user role:** operator

To define a remote RADIUS server, enter AAA RADIUS configuration mode:

**Command syntax: radius**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)#


**Removing Configuration**

To delete the radius configuration:
::

    dnRouter(cfg-system-aaa)# no radius

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/authentication.rst

system aaa-server radius server priority address authentication
---------------------------------------------------------------

**Minimum user role:** admin

You need to enable the RADIUS server to use it for authentication. If no server is enabled for authentication, local users will be used for login authentication.

To enable/disable the RADIUS authentication server:

**Command syntax: authentication [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**
- Notice the change in prompt.

- RADIUS and TACACS+ authentication servers may not be enabled simultaneously.

.. - 'no' command sets default authentication admin-state value.


**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | Enable/disable authentication on this server. If enabled, authentication         | | enabled    | disabled |
|             | requests may be sent to this server. If disabled, authentication requests will   | | disabled   |          |
|             | not be sent to this server. If no RADIUS server is enabled for authentication,   |              |          |
|             | local users will be used for login.                                              |              |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# authentication enabled


**Removing Configuration**

To revert the admin-state to the default:
::

    dnRouter(cfg-aaa-radius-server)# no authentication

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/authorization.rst

system aaa-server radius server priority address authorization
--------------------------------------------------------------

**Minimum user role:** admin

To configure the admin state of authorization using the RADIUS server:

**Command syntax: authorization [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**
- Notice the change in prompt.

- Validation: RADIUS authorization allowed to be enabled only if RADIUS authentication is enabled.

.. - 'no' command sets default authorization admin-state value.


**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | Enable/disable authorization on this server. If enabled, authorization requests  | | enabled    | disabled |
|             | may be sent to this server. If disabled, authorization requests will not be sent | | disabled   |          |
|             | to this server. If no RADIUS server is enabled for authorization, local users    |              |          |
|             | will be used for login.                                                          |              |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# authorization enabled


**Removing Configuration**

To revert authorization to default:
::

    dnRouter(cfg-aaa-radius-server)# no authorization

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.1    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/password.rst

system aaa-server radius server priority address password
---------------------------------------------------------

**Minimum user role:** operator


Configure a password for the RADIUS server.

The password must match the password configured on the AAA server. You can enter the password in plain-text, but it will be displayed in an encrypted form with an enc- prefix in any show command. The encryption is performed with the same key used by the system to decrypt the password during load/copy of configuration.

If you do not enter a password, you will be prompted for the (unencrypted) password.

To define a password for the remote RADIUS server:


**Command syntax: password [password]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**

- Notice the change in prompt.

- You will not be able to commit the configuration without a configured password.

.. -  Password configuration is mandatory for radius server (clear or encrypted):

  -  password can made up of ASCII alphanumeric characters ([A-Za-z0-9])

  -  password must be between 1 to 64 character

  -  at least 1 alphabet character must be configured

  -  if password is not configured, commit will fail

  -  password cannot be removed


**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------------------------+---------+
| Parameter | Description                                                                      | Range                   | Default |
+===========+==================================================================================+=========================+=========+
| password  | The shared secret between the device and the AAA server that is used to          | string 1..64 characters | \-      |
|           | authenticate requests and replies.                                               |                         |         |
|           | The length of the password must be between 1 and 64 ASCII alphanumeric           |                         |         |
|           | characters (A-Z, a-z, 0-9), with at least one letter.                            |                         |         |
+-----------+----------------------------------------------------------------------------------+-------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# password enc-!@#$%
    dnRouter(cfg-aaa-radius-server)# password
    Enter password
    Enter password for verifications


**Removing Configuration**

Once configured, the password cannot be deleted, only changed.
::

    \-


**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/port.rst

system aaa-server radius server priority address port
-----------------------------------------------------

**Minimum user role:** operator

To configure the UDP port for the remote RADIUS server:


**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**

- Notice the change in prompt.

- no command reverts to default value

- Up to 5 radius servers are supported


**Parameter table**

+-----------+-----------------------------------------------------------------------------+-----------+---------+
| Parameter | Description                                                                 | Range     | Default |
+===========+=============================================================================+===========+=========+
| port      | The destination port number to use when sending requests to the AAA server. | 1..65,535 | 1812    |
+-----------+-----------------------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# port 49


**Removing Configuration**

To revert the port number to the default value:
::

    dnRouter(cfg-aaa-radius-server)# no port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/retries.rst

system aaa-server radius server priority address retries
--------------------------------------------------------

**Minimum user role:** operator


When the system sends a request to the RADIUS server, the expectation is for the server to respond. If no response is received, the system will wait for the configured retry-interval before attempting again. It will attempt to send the request the configured maximum number of retries, after which it will mark the RADIUS server as "unavailable" and send the request to the next available RADIUS server (according to the configured priority).

To configure the maximum number of retries:


**Command syntax: retries [retries]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**

- Notice the change in prompt.

- no command reverts to default value

- Up to 5 radius servers are supported


**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| retries   | The number of times DNOS must send request to the RADIUS server before giving up | 1-50  | 3       |
|           | if it doesn't receive any response from the server                               |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# retries 4


**Removing Configuration**

To revert the retry count to the default value:
::

    dnRouter(cfg-aaa-radius-server)# no retries

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/retry-interval.rst

system aaa-server radius server priority address retry-interval
---------------------------------------------------------------

**Minimum user role:** operator


When the system sends a request to the RADIUS server, it will wait a configured length of time for a response from the RADIUS server before resending the request if no response is received.

To configure the interval to wait for a response from the RADIUS server:


**Command syntax: retry-interval [retry-interval]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**

- Notice the change in prompt.

- no command reverts to default value

- Up to 5 radius servers are supported


**Parameter table**

+----------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter      | Description                                                                      | Range  | Default |
+================+==================================================================================+========+=========+
| retry-interval | Interval in seconds between request retries in case DNOS doesn't receive any     | 1-1000 | 5       |
|                | response from the RADIUS server                                                  |        |         |
+----------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# retry-interval 30


**Removing Configuration**

To revert the retry interval to the default value:
::

    dnRouter(cfg-aaa-radius-server)# no retry-interval

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/server/server.rst

system aaa-server radius server priority address
------------------------------------------------

**Minimum user role:** operator

To define a remote RADIUS server and enter its configuration mode:

**Command syntax: server priority [priority] address [address]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius

**Note**
- Notice the change in prompt.

- You can configure up to 5 RADIUS servers.

.. - Up to 5 in-band (vrf default) and 5 out-of-band (vrf mgmt0) RADIUS servers are supported

	- Out-of-band packets will be sent with mgmt0 ip address.

	- Source IP address family will be matching the destination IP address family, both IPv6 or IPv4.

	- Changing address per specific priority changes only the address configuration, all other configurations remain intact

	- "no radius server priority [priority]" removes the RADIUS server configuration


**Parameter table**

+-----------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter | Description                                                                      | Range        | Default |
+===========+==================================================================================+==============+=========+
| priority  | Sets the priority of the RADIUS server. When multiple servers are configured,    | 1-255        | \-      |
|           | the server with the higher priority (lower configured number) will be attempted  |              |         |
|           | first.                                                                           |              |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+
| address   | The IPv4/IPv6 address of the server.                                             | | A.B.C.D    | \-      |
|           | Changing the address for a specific priority, changes only the address           | | x:x::x:x   |         |
|           | configuration. All other configurations remain intact.                           |              |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 192.168.1.1
    dnRouter(cfg-aaa-radius-server)# vrf default
    dnRouter(cfg-aaa-radius-server)# password enc-!@#$%
    dnRouter(cfg-aaa-radius-server)# authentication enabled
    dnRouter(cfg-aaa-radius-server)# port 100
    dnRouter(cfg-aaa-radius-server)# retries 3
    dnRouter(cfg-aaa-radius-server)# retry-interval 20
    dnRouter(cfg-system-aaa-radius)# server priority 2 address 192.168.1.2
    dnRouter(cfg-aaa-radius-server)# vrf mgmt0
    dnRouter(cfg-aaa-radius-server)# password enc-!@#$%
    dnRouter(cfg-aaa-radius-server)# authentication enabled
    dnRouter(cfg-aaa-radius-server)# port 100
    dnRouter(cfg-aaa-radius-server)# retries 5
    dnRouter(cfg-aaa-radius-server)# retry-interval 15
    dnRouter(cfg-system-aaa-radius)# server priority 5 address 192.168.1.3
    dnRouter(cfg-aaa-radius-server)# vrf mgmt0
    dnRouter(cfg-aaa-radius-server)# password enc-!@#$%
    dnRouter(cfg-aaa-radius-server)# authentication enabled
    dnRouter(cfg-aaa-radius-server)# port 100
    dnRouter(cfg-aaa-radius-server)# retries 5
    dnRouter(cfg-aaa-radius-server)# retry-interval 15


**Removing Configuration**

To delete the radius server configuration:
::

    dnRouter(cfg-system-aaa-radius)# no server

**Command History**

+---------+----------------------------------------------+
| Release | Modification                                 |
+=========+==============================================+
| 13.0    | Command introduced                           |
+---------+----------------------------------------------+
| 13.1    | Added support for OOB management (VRF mgmt0) |
+---------+----------------------------------------------+
| 15.1    | Added support for IPv6 address format        |
+---------+----------------------------------------------+

---

## aaa-server/radius/server/vrf.rst

system aaa-server radius server priority address vrf
----------------------------------------------------

**Minimum user role:** operator

To configure the RADIUS server VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius server priority address

**Note**

-  Up to 5 in-band (vrf default) and 5 out-of-band (vrf mgmt0) RADIUS servers are supported

-  Out-of-band packets will be sent with mgmt0 ip address.

-  no command resets the vrf to default value


**Parameter table**

+-----------+-----------------------------------+-------------+---------+
| Parameter | Description                       | Range       | Default |
+===========+===================================+=============+=========+
| vrf-name  | The name of the RADIUS server VRF | | default   | \-      |
|           |                                   | | mgmt0     |         |
+-----------+-----------------------------------+-------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-radius-server)# vrf mgmt0


**Removing Configuration**

To reset the vrf to the default value:
::

    dnRouter(cfg-aaa-radius-server)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/timers/hold-down.rst

system aaa-server radius timers hold-down
-----------------------------------------

**Minimum user role:** operator


Hold-down - prevents all requests from being sent to any AAA servers, as all AAA is performed locally based on locally configured users. It is triggered when all RADIUS servers are unavailable: requests are suppressed for a period of time in order to avoid delay on user login while waiting for a reply from unavailable servers.

To configure the RADIUS hold-down timer:


**Command syntax: hold-down [hold-down]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius timers

**Note**

- Hold-down - prevent all radius requests from being sent to any radius servers.

- The hold-down delay is triggered when all radius servers are found to be in an unavailable state.

- The purpose of this delay is to limit unnecessary delays due to radius requests being sent to unavailable servers incurring the connection timeout.

- If the delay is set to zero, the hold down delay is disabled and all radius servers are attempted

- no command returns hold-down timers to their default values

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| hold-down | The hold-down timer is triggered when all the authentication or all the          | 60-1200 | 600     |
|           | authoriztion or all the accounting servers are found to be in an unavailable     |         |         |
|           | state. Hold-down state prevents all AAA requests from being sent to any AAA      |         |         |
|           | servers.The purpose of this delay is to limit unnecessary delays due to AAA      |         |         |
|           | requests being sent to unavailable servers incurring the connection timeout. If  |         |         |
|           | the delay is set to zero, the hold down timer is disabled and AAA requests are   |         |         |
|           | sent to servers                                                                  |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# timers
    dnRouter(cfg-aaa-radius-timers)# hold-down 300


**Removing Configuration**

To revert the hold-time to the default value:
::

    dnRouter(cfg-aaa-radius-timers)# no hold-down

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/timers/retry-time.rst

system aaa-server radius timers retry-time
------------------------------------------

**Minimum user role:** operator


Retry-time - prevents a failed server from being retried too soon. If a server is marked as "failed", it will not be used for requests until the retry time has expired. Once the retry time expires, the server may be marked as available to accept new requests.

To configure the retry-timer for all RADIUS servers:

**Command syntax: retry-time [retry-time]**

**Command mode:** config

**Hierarchies**

- system aaa-server radius timers

**Note**

- Notice the change in prompt.

- Retry-time -prevent a failed radius server from being retried too soon.

- If a radius server is marked as failed, it will not be used for radius requests until the retry time has expired.

- Once the retry time has expired, the radius server may be marked as available to accept new requests.

- If the delay is set to zero, the retry delay is disabled and radius server is always attempted

- no command returns retry-timer to the default value

**Parameter table**

+------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                                      | Range   | Default |
+============+==================================================================================+=========+=========+
| retry-time | prevent a failed AAA server from being retried too soon. If a AAA server is      | 60-3600 | 1200    |
|            | marked as failed, it will not be used for AAA requests until the retry time has  |         |         |
|            | expired. Once the retry time has expired, the AAA server may be marked as        |         |         |
|            | available to accept AAA new requests                                             |         |         |
+------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# timers
    dnRouter(cfg-aaa-radius-timers)# retry-time 600


**Removing Configuration**

To revert the retry-time to the default:
::

    dnRouter(cfg-aaa-radius-timers)# no retry-time

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/radius/timers/timers.rst

system aaa-server radius timers
-------------------------------

**Minimum user role:** operator


RADIUS servers have two timers that can be configured individually:

Retry-time - prevents a failed server from being retried too soon. If a server is marked as "failed", it will not be used for requests until the retry time has expired. Once the retry time expires, the server may be marked as available to accept new requests.

Hold-down - prevents all requests from being sent to any servers. It is triggered when all servers are unavailable: requests are suppressed for a period of time in order to avoid a connection timeout.

To configure the RADIUS timers, enter the timers configuration mode:

**Command syntax: timers**

**Command mode:** config

**Hierarchies**

- system aaa-server radius

**Note**

- Notice the change in prompt.

.. - Retry-time -prevent a failed RADIUS server from being retried too soon.

  - If a RADIUS server is marked as failed, it will not be used until the retry time has expired.

  - Once the retry time has expired, the RADIUS server may be marked as available to accept new requests.

  - If the delay is set to zero, the retry delay is disabled and RADIUS server is always attempted

  - Hold-down - prevent all RADIUS requests from being sent to any RADIUS servers.

  - The hold-down delay is triggered when all RADIUS servers are found to be in an unavailable state.

  - The purpose of this delay is to limit unnecessary delays due to RADIUS requests being sent to unavailable servers incurring the connection timeout.

  - If the delay is set to zero, the hold down delay is disabled and all RADIUS servers are attempted

  - Retry-time and hold-down can be set individually, together and in any order.

  -  no command returns timers to their default values

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# radius
    dnRouter(cfg-system-aaa-radius)# timers
    dnRouter(cfg-aaa-radius-timers)#


**Removing Configuration**

To revert RADIUS timers to default:
::

    dnRouter(cfg-aaa-radius-timers)# no timers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/source-interface.rst

system aaa-server source-interface
----------------------------------

**Minimum user role:** operator

An AAA client selects a random interface as the egress interface for AAA messages. The selected interface's IP address is used as source-address in the packets' headers. You can change this behavior by setting a source-interface whose IP address will be used for all AAA messages outgoing to in-band AAA servers. The egress interface will be selected according to the routing table route lookup.

To configure the AAA server's source interface:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Note**
 - The following configuration can be overridden under the specific server source-interface config, and applies only for the VRF default.
	 - If you do not configure an NTP source interface, the system in-band-management source-interface will be used.
	 - If you do not have an system in-band-management source-interface configured, NTP messages will not be generated.
	 - Exception: Supported by TACACS Only: in case source-interface isn't configured on any of above, and there is at least 1 interface configured with DHCP enabled that acquired an address
		 and a default route in the 'default' VRF context, it will be used for all the outgoing NTP messages.
 - Support Validation that ipv4 or/and IPv6 address must be configured on the interface configuration.


**Parameter table**

+------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+
| Parameter        | Description                                                    | Range                                                                            | Default                                    |
+==================+================================================================+==================================================================================+============================================+
| source-interface | The source interface whose IP address is used for AAA messages | Any interface in the default VRF with an IPv4/IPv6 address, except GRE tunnel    | system in-band-management source-interface |
|                  |                                                                | interfaces                                                                       |                                            |
+------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# source-interface lo0


**Removing Configuration**

To revert the source-interface to default:
::

    dnRouter(system-aaa)# no source-interface

**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 11.0    | Command introduced                    |
+---------+---------------------------------------+
| 15.1    | Added support for IPv6 address format |
+---------+---------------------------------------+

---

## aaa-server/tacacs/authorization-type.rst

system aaa-server tacacs authorization-type
-------------------------------------------

**Minimum user role:** operator

To configure the authorization type using the TACACS server:


**Command syntax: authorization-type [authorization-type]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs

**Note**

- If the TACACS server is unreachable, the timeout logic will be applied.

- If a 'command' type is used, every cli command will be sent to be authorized by the server.

- If a 'command' type is used, every cli command will be sent to be authorized by the server.

- If a 'session' type is used, the authorization requests will be done according to the authorization as was received from the server.

- If a 'session-and-command' type is used, the session authorization will be applied first, then the command authorization will be performed for every cli command executed by the user.

- TACACS message arguments are limited to 255 characters per argument.

**Parameter table**

+--------------------+------------------------------------------------+-------------------------+---------+
| Parameter          | Description                                    | Range                   | Default |
+====================+================================================+=========================+=========+
| authorization-type |  the authorization-type for all tacacs servers | | session               | session |
|                    |                                                | | command               |         |
|                    |                                                | | session-and-command   |         |
+--------------------+------------------------------------------------+-------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# authorization-type command
    dnRouter(cfg-system-aaa-tacacs)#


**Removing Configuration**

To revert the authorization-type to default:
::

    dnRouter(system-aaa-tacacs)# no authorization-type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/server/accounting.rst

system aaa-server tacacs server priority address accounting
-----------------------------------------------------------

**Minimum user role:** operator

Use this command to enable/disable accounting on the TACACS+ server. When accounting is explicitly enabled and accounting is unavailable, the server will move to the hold-down state. If accounting is disabled, the availability of the remote accounting will not affect the hold-time state considerations.

To configure the admin-state of accounting using the TACACS server:


**Command syntax: accounting [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Notice the change in prompt.

.. - 'no' command sets default admin-state value.


**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | Enable/disable accounting on this server. If enabled, accounting requests may be | | enabled    | disabled |
|             | sent to this server. If disabled, accounting requests will not be sent to this   | | disabled   |          |
|             | server. If no TACACS server is enabled for accounting, only local accounting     |              |          |
|             | will be used; no fallback for authorization/authontication will be used for user |              |          |
|             | login.                                                                           |              |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# accounting enabled


**Removing Configuration**

To revert the admin-state to the default:
::

    dnRouter(cfg-aaa-tacacs-server)# no accounting

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/server/admin-state.rst

system aaa-server tacacs server priority address admin-state
------------------------------------------------------------

**Minimum user role:** admin

You can use this command to configure the admin state of remote AAA TACACS server. To enable the TACACS server:


**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Validation: the commit fails if more than one in-band management non-default VRF is configured with an admin-state enabled knob.


**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                                      | Range        | Default |
+=============+==================================================================================+==============+=========+
| admin-state | Configure the admin state of remote AAA. If aaa-server admin-state is enabled,   | | enabled    | enabled |
|             | each AAA request will be sent to one of the AAA servers that are enabled for the | | disabled   |         |
|             | required AAA function. Servers can be separately enabled or disabled for each    |              |         |
|             | one of the three AAA functions.                                                  |              |         |
|             | If no AAA server is enabled for one of the functions, no AAA requests will be    |              |         |
|             | sent at all, and local users will be used for login. If aaa-server admin-state   |              |         |
|             | is disabled, local users will be used for login.                                 |              |         |
+-------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# admin-state enabled


**Removing Configuration**

To revert to the default admin-state:
::

    dnRouter(cfg-aaa-tacacs-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/server/authentication-protocol.rst

system aaa-server tacacs server priority address authentication-protocol
------------------------------------------------------------------------

**Minimum user role:** admin

To configure the authentication protocol to be used:

**Command syntax: authentication-protocol [authentication-protocol]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Notice the change in prompt.

.. - 'no authentication-protocol' command sets default authentication-protocol value which is 'pap'


**Parameter table**

+-------------------------+------------------------------------------------------------+-----------+---------+
| Parameter               | Description                                                | Range     | Default |
+=========================+============================================================+===========+=========+
| authentication-protocol | Set the authentication protocol used by the TACACS server. | | pap     | pap     |
|                         |                                                            | | chap    |         |
|                         |                                                            | | ascii   |         |
+-------------------------+------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# authentication-protocol ascii


**Removing Configuration**

To revert the authentication protocol to the default value:
::

    dnRouter(cfg-aaa-tacacs-server)# no authentication-protocol

**Command History**

+---------+----------------------+
| Release | Modification         |
+=========+======================+
| 16.2    | Command introduced   |
+---------+----------------------+
| 17.0    | Added ASCII to range |
+---------+----------------------+

---

## aaa-server/tacacs/server/authentication.rst

system aaa-server tacacs server priority address authentication
---------------------------------------------------------------

**Minimum user role:** operator

To configure the admin state of authentication using the TACACS server:

**Command syntax: authentication [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Notice the change in prompt.

.. - 'no authentication' command sets default authentication value


**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | Enable/disable authentication on this server. If enabled, authentication         | | enabled    | disabled |
|             | requests may be sent to this server. If disabled, authentication requests will   | | disabled   |          |
|             | not be sent to this server. If no TACACS server is enabled for authentication,   |              |          |
|             | local users will be used for login.                                              |              |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# authentication enabled


**Removing Configuration**

To revert the admin-state to the default:
::

    dnRouter(cfg-aaa-tacacs-server)# no authentication

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/server/authorization.rst

system aaa-server tacacs server priority address authorization
--------------------------------------------------------------

**Minimum user role:** operator

To configure the admin state of authorization using the TACACS server:

**Command syntax: authorization [admin-state]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Notice the change in prompt.

.. - 'no' command sets default admin-state value.


**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | Enable/disable authorization on this server. If enabled, authorization requests  | | enabled    | disabled |
|             | may be sent to this server. If disabled, authorization requests will not be sent | | disabled   |          |
|             | to this server. If no TACACS server is enabled for authorization, local users    |              |          |
|             | will be used for login.                                                          |              |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# authorization enabled


**Removing Configuration**

To revert authorization to default:
::

    dnRouter(cfg-aaa-tacacs-server)# no authorization

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/server/password.rst

system aaa-server tacacs server priority address password
---------------------------------------------------------

**Minimum user role:** operator

Configure a password for the TACACS+ server.

The password must match the password configured on the AAA server. You can enter the password in plain-text, but it will be displayed in an encrypted form with an enc-prefix in any show command. The encryption is performed with the same key used by the system to decrypt the password during load/copy of configuration.

If you do not enter a password, you will be prompted for the (unencrypted) password.

To define a password for the remote TACACS+ server:


**Command syntax: password [password]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- You will not be able to commit the configuration without a configured password.

-  The password configuration is optional for a TACACS+ server (clear or encrypted). This means that you can configure a TACACS+ server without a shared key at both the client device and the security server if you do not want the connection to be encrypted. This might be useful for a lab or training environment but is strongly discouraged in a production environment.

..

  -  The password can be made up of ASCII alphanumeric characters ([A-Za-z0-9]).

  -  The password must be between 1 to 64 characters.

  -  At least 1 alphabet character must be configured.

  -  If a password is not configured, the commit fails.


**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------------------------+---------+
| Parameter | Description                                                                      | Range                   | Default |
+===========+==================================================================================+=========================+=========+
| password  | The shared secret between the device and the AAA server that is used to          | string 1..64 characters | \-      |
|           | authenticate requests and replies.                                               |                         |         |
|           | The length of the password must be between 1 and 64 ASCII alphanumeric           |                         |         |
|           | characters (A-Z, a-z, 0-9), with at least one letter.                            |                         |         |
+-----------+----------------------------------------------------------------------------------+-------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# password enc-!@#$%
    dnRouter(cfg-aaa-tacacs-server)# password
    Enter password
    Enter password for verifications


**Removing Configuration**

Once configured, the password cannot be deleted, only changed.
::

    \-


**Command History**

+---------+---------------------------------------------------------------------------+
| Release | Modification                                                              |
+=========+===========================================================================+
| 5.1.0   | Command introduced                                                        |
+---------+---------------------------------------------------------------------------+
| 6.0     | Replaced "secret" with "password" in syntax                               |
|         | Applied new hierarchy                                                     |
+---------+---------------------------------------------------------------------------+
| 10.0    | Applied new hierarchy                                                     |
+---------+---------------------------------------------------------------------------+
| 11.0    | Changed the minimum length of the password, moved to "server" hierarchy   |
+---------+---------------------------------------------------------------------------+
| 15.2    | Password is now optional                                                  |
+---------+---------------------------------------------------------------------------+

---

## aaa-server/tacacs/server/port.rst

system aaa-server tacacs server priority address port
-----------------------------------------------------

**Minimum user role:** operator

To configure the TCP port for the remote TACACS+ server:


**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Notice the change in prompt.

.. - no command reverts to default value

    - Up to 5 TACACS servers are supported


**Parameter table**

+-----------+-----------------------------------------------------------------------------+-----------+---------+
| Parameter | Description                                                                 | Range     | Default |
+===========+=============================================================================+===========+=========+
| port      | The destination port number to use when sending requests to the AAA server. | 1..65,535 | 49      |
+-----------+-----------------------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# port 49


**Removing Configuration**

To revert the port number to the default value:
::

    dnRouter(cfg-aaa-tacacs-server)# no port

**Command History**

+---------+-----------------------------------------------+
| Release | Modification                                  |
+=========+===============================================+
| 5.1.0   | Command introduced                            |
+---------+-----------------------------------------------+
| 6.0     | Replaced "secret" with "password" in syntax   |
|         | Applied new hierarchy                         |
+---------+-----------------------------------------------+
| 10.0    | Applied new hierarchy                         |
+---------+-----------------------------------------------+
| 11.0    | Moved to "server" hierarchy"                  |
+---------+-----------------------------------------------+

---

## aaa-server/tacacs/server/server.rst

system aaa-server tacacs server priority address
------------------------------------------------

**Minimum user role:** operator

To define a remote TACACS+ server:


**Command syntax: server priority [priority] address [address]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs

**Note**
- Notice the change in prompt.

- Supporting up to 5 TACACS remote servers configurations over in-band (vrf default and non-default-vrf) and out-of-band (vrf mgmt0).

    - Validation: the commit is required to fail if more than 3 non-default VRFs are configured in general.

..  - Out-of-band packets will be sent with an mgmt0 ip address.

    - The IP source address family must match the destination IP address family, both IPv6 or IPv4.

    - Changing the address per specific priority changes only the address configuration, all other configurations remain intact.

    - "no tacacs priority [priority]" removes the tacacs server configuration.

In-band management applications (e.g. SSH, NETCONF, gRPC, FTP) that require authentication, use in-band TACACS servers only. If no in-band TACACS server is configured or available, the in-band management applications will use DNOS local users for authentication.

Out-of-band management applications (e.g. SSH, NETCONF) that require authentication, use out-of-band TACACS servers only. If no out-of-band TACACS server is configured or available, the out-of-band management applications will use DNOS local users for authentication.

A management application is considered out-of-band when:

- A session is established via the mgmt0, mgmt-ncc-0, or mgmt-ncc-1 interface.

- Login to the DNOS CLI is done via the serial console interface on the active NCC.

- Login to the DNOS CLI is done via the Serial-on-LAN (SoL) IPMI interface.

- Login via the the serial console interface of NCP, NCF, or stand-by NCC to the hostOS shell does not support TACACS authentication and uses hostOS local users.


**Parameter table**

+-----------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter | Description                                                                      | Range        | Default |
+===========+==================================================================================+==============+=========+
| priority  | Sets the priority of the TACACS+ server. When multiple servers are configured,   | 1-255        | \-      |
|           | the server with the higher priority (lower configured number) will be attempted  |              |         |
|           | first.                                                                           |              |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+
| address   | The IPv4/IPv6 address of the server.                                             | | A.B.C.D    | \-      |
|           | Changing the address for a specific priority, changes only the address           | | x:x::x:x   |         |
|           | configuration. All other configurations remain intact.                           |              |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 192.168.1.1
    dnRouter(cfg-aaa-tacacs-server)# vrf default
    dnRouter(cfg-aaa-tacacs-server)# password enc-!@#$%
    dnRouter(cfg-aaa-tacacs-server)# port 100
    dnRouter(cfg-aaa-tacacs-server)# timeout 20
    dnRouter(cfg-system-aaa-tacacs)# server priority 2 address 192.168.1.2
    dnRouter(cfg-aaa-tacacs-server)# vrf default
    dnRouter(cfg-aaa-tacacs-server)# password enc-!@#$%
    dnRouter(cfg-aaa-tacacs-server)# port 100
    dnRouter(cfg-aaa-tacacs-server)# timeout 20
    dnRouter(cfg-system-aaa-tacacs)# server priority 3 address 192.168.1.3
    dnRouter(cfg-aaa-tacacs-server)# vrf my_vrf
    dnRouter(cfg-aaa-tacacs-server)# password enc-!@#$%
    dnRouter(cfg-aaa-tacacs-server)# port 100
    dnRouter(cfg-aaa-tacacs-server)# timeout 20
    dnRouter(cfg-system-aaa-tacacs)# server priority 5 address 1134:1134::1
    dnRouter(cfg-aaa-tacacs-server)# vrf mgmt0
    dnRouter(cfg-aaa-tacacs-server)# password enc-!@#$%
    dnRouter(cfg-aaa-tacacs-server)# port 100
    dnRouter(cfg-aaa-tacacs-server)# timeout 20


**Removing Configuration**

To delete the radius server configuration:
::

    dnRouter(cfg-system-aaa-tacacs)# no server

**Command History**

+---------+----------------------------------------------+
| Release | Modification                                 |
+=========+==============================================+
| 11.0    | Command introduced                           |
+---------+----------------------------------------------+
| 13.1    | Added support for OOB management (VRF mgmt0) |
+---------+----------------------------------------------+
| 15.1    | Added support for IPv6 address format        |
+---------+----------------------------------------------+

---

## aaa-server/tacacs/server/source-interface.rst

system aaa-server tacacs server priority address source-interface
-----------------------------------------------------------------

**Minimum user role:** operator

An AAA client selects a random interface as the source-interface for AAA messages per server. The selected interface's IP address is used as source-address in the packets' headers. You can change this behavior by setting a source-interface whose IP address will be used for all AAA messages outgoing to in-band AAA servers. The egress interface will be selected according to the routing table route lookup.

To configure the AAA server's source interface:


**Command syntax: source-interface [interface-name]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- The source-interface configuration, by default used global configuration for source interface under "system inband source-interface" for VRF default and "network-services vrf instance in-band-management source-interface" for non-default in-band management VRF.
- If the source-interface under the TACACS server is specified it will override the global source-interface config for that server.
- Validation: the source-interface is associated with the same VRF as the TACACS server, otherwise the commit fails validation.
- Validation that ip address must be configured on the interface configuration.
- The source-interface must be configured with the same address type as the remote SNMP server otherwise the TACACS packets won't be sent.
- Only an mgmt0 source-interface can be supported for mgmt0 VRF and it is the default value.
- 'no source-interface' - remove source-interface configuration, if the global source-inteface is configured it will be used.


**Parameter table**

+----------------+----------------------------------------------------------------------------------+-------------------------------------------------------+---------+
| Parameter      | Description                                                                      | Range                                                 | Default |
+================+==================================================================================+=======================================================+=========+
| interface-name | The name of the interface whose source IP address will be used for all TACACS    | | A configured interface:                             | \-      |
|                | packets, towards the current server.                                             | | ge<interface speed>-<A>/<B>/<C>                     |         |
|                | This interface must be configured with an IPv4 or/and IPv6 address.              | | e<interface speed>-<A>/<B>/<C>.<sub-interface id>   |         |
|                | The source-interface must be configured with the same address type as the remote | | bundle-<bundle id>                                  |         |
|                | snmp server, otherwise the TACACS packets won't be sent.                         | | bundle-<bundle id>.<sub-interface id>               |         |
|                |                                                                                  | | lo<lo-interface id>. irb<irb-interface id>          |         |
+----------------+----------------------------------------------------------------------------------+-------------------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# source-interface lo1


**Removing Configuration**

To delete the source-interface configuration:
::

    dnRouter(cfg-aaa-tacacs-server)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/server/timeout.rst

system aaa-server tacacs server priority address timeout
--------------------------------------------------------

**Minimum user role:** operator

Timeout determines the length of time that the system must wait for a connection to be established to a TACACS+server or for a response to be returned from the TACACS+ server. If the connection is terminated during a connection attempt, the current TACACS+ server will be marked as unavailable. The TACACS+request will be attempted on the next available TACACS+ server.

To define a timeout for the server:


**Command syntax: timeout [timeout]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
- Notice the change in prompt

.. - no command reverts timeout to default value


**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| timeout   | The amount of time (in seconds) the device waits to receive a response from the  | 1..1000 | 5       |
|           | AAA server before it assumes that the server is unavailable.                     |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# timeout 60


**Removing Configuration**

To revert the timeout period to the default value:
::

    dnRouter(cfg-aaa-tacacs-server)# no timeout

**Command History**

+---------+-----------------------------------------------+
| Release | Modification                                  |
+=========+===============================================+
| 5.1.0   | Command introduced                            |
+---------+-----------------------------------------------+
| 6.0     | Replaced "secret" with "password" in syntax   |
|         | Applied new hierarchy                         |
+---------+-----------------------------------------------+
| 10.0    | Applied new hierarchy                         |
+---------+-----------------------------------------------+
| 11.0    | Moved to "server" hierarchy                   |
+---------+-----------------------------------------------+

---

## aaa-server/tacacs/server/vrf.rst

system aaa-server tacacs server priority address vrf
----------------------------------------------------

**Minimum user role:** operator

To configure the TACACS server VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs server priority address

**Note**
-  Out-of-band packets will be sent with mgmt0 ip address.

-  The no command resets the vrf to default value.

-  Validation: is required to fail the commit if more than 3 non-default VRFs are configured in general.

-  Validation: fail the commit if more than one in-band management non-default VRF is configured with admin-state enabled knob.


**Parameter table**

+-----------+-----------------------------------+---------------------+---------+
| Parameter | Description                       | Range               | Default |
+===========+===================================+=====================+=========+
| vrf-name  | The name of the TACACS server VRF | | default           | \-      |
|           |                                   | | non-default-vrf   |         |
|           |                                   | | mgmt0             |         |
+-----------+-----------------------------------+---------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# server priority 1 address 1.1.1.1
    dnRouter(cfg-aaa-tacacs-server)# vrf mgmt0


**Removing Configuration**

To reset the vrf to the default value:
::

    dnRouter(cfg-aaa-tacacs-server)# no vrf

**Command History**

+---------+---------------------+
| Release | Modification        |
+=========+=====================+
| 13.0    | Command introduced  |
+---------+---------------------+
| 19.1    | Added NDVRF Support |
+---------+---------------------+

---

## aaa-server/tacacs/tacacs.rst

system aaa-server tacacs
------------------------

**Minimum user role:** operator

To define a remote TACACS+ server:

**Command syntax: tacacs**

**Command mode:** config

**Hierarchies**

- system aaa-server

**Note**
.. - "no tacacs" removes TACACS AAA configuration


**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)#


**Removing Configuration**

To delete the tacacs configuration:
::

    dnRouter(cfg-system-aaa)# no tacacs

**Command History**

+---------+----------------------------------------------+
| Release | Modification                                 |
+=========+==============================================+
| 11.0    | Command introduced                           |
+---------+----------------------------------------------+
| 13.1    | Added support for OOB management (VRF mgmt0) |
+---------+----------------------------------------------+
| 15.1    | Added support for IPv6 address format        |
+---------+----------------------------------------------+

---

## aaa-server/tacacs/timers/hold-down.rst

system aaa-server tacacs timers hold-down
-----------------------------------------

**Minimum user role:** operator

Hold-down prevents all requests from being sent to any AAA servers. It is triggered when all the TACACS authentication, or all TACACS authorization, or all TACACS accounting servers with admin-state 'enabled' are in unavailable state: requests are suppressed for a period of time in order to avoid a connection timeout.

If the delay is set to zero, the hold-down delay is disabled ans all TACACS servers are attempted.

For TACACS+, the timer is triggered when all the servers of a specific type are unavailable (e.g. all authentication servers, all authorization servers, or all accounting servers).

If a RADIUS server is used for authentication, the RADIUS hold-down timer is configured separately. The purpose of this state is to prevent unnecessary delays due to AAA requests being sent to unavailable servers incurring the connection timeout.

To configure the TACACS+ hold-down timer:


**Command syntax: hold-down [hold-down]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs timers

**Note**
- Notice the change in prompt.

.. -  Hold-down - prevent all AAA requests from being sent to any AAA servers. The TACACS hold-down timer is triggered when all the TACACS authentication, or all the TACACS authorization, or all the TACACS accounting servers are found to be in an unavailable state. If a RADIUS authentication is used, the RADIUS hold-down timer is configured separately. The purpose of this state is to prevent unnecessary delays due to AAA requests being sent to unavailable servers incurring the connection timeout.

    - If the delay is set to zero, the hold down delay is disabled and all TACACS servers are attempted.

    - The no command returns hold-down timers to their default values.


**Parameter table**

+-----------+----------------------------------------------------------------------------------+----------+---------+
| Parameter | Description                                                                      | Range    | Default |
+===========+==================================================================================+==========+=========+
| hold-down | The time (in seconds) that the system suppresses any AAA requests to any AAA     | 60..1200 | 600     |
|           | servers.                                                                         |          |         |
|           | A value of zero disables the hold-down delay and all servers are attempted.      |          |         |
+-----------+----------------------------------------------------------------------------------+----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# timers
    dnRouter(cfg-aaa-tacacs-timers)# hold-down 60


**Removing Configuration**

To revert the hold-time to the default value:
::

    dnRouter(cfg-aaa-tacacs-timers)# no hold-down

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/timers/retry-time.rst

system aaa-server tacacs timers retry-time
------------------------------------------

**Minimum user role:** operator

Prevents a failed TACACS server from being retried too soon. If an TACACS server is marked as failed, it will not be used for TACACS requests until the retry time has expired. Once the retry time has expired, the TACACS server may be marked as available to accept new TACACS requests

**Command syntax: retry-time [retry-time]**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs timers

**Note**
- Notice the change in prompt.

.. - Retry-time -prevent a failed TACACS server from being retried too soon. If a TACACS server is marked as failed, it will not be used for TACACS requests until the retry time has expired. Once the retry time has expired, the TACACS server may be marked as available to accept TACACS new requests

    - If the delay is set to zero, the retry delay is disabled and TACACS server is always attempted

    - no command returns retry-timer to the default value


**Parameter table**

+------------+----------------------------------------------------------------------------------+----------+---------+
| Parameter  | Description                                                                      | Range    | Default |
+============+==================================================================================+==========+=========+
| retry-time | The time (in seconds) that the system waits after a server is marked as failed,  | 60..3600 | 1200    |
|            | before reattempting to connect to it.                                            |          |         |
|            | A value of zero disables the retry-time delay and all servers are always         |          |         |
|            | attempted.                                                                       |          |         |
+------------+----------------------------------------------------------------------------------+----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# timers
    dnRouter(cfg-aaa-tacacs-timers)# retry-time 60


**Removing Configuration**

To revert the retry-time to the default:
::

    dnRouter(cfg-aaa-tacacs-timers)# no retry-time

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## aaa-server/tacacs/timers/timers.rst

system aaa-server tacacs timers
-------------------------------

**Minimum user role:** operator

TACACS+ servers have two timers that can be configured individually:

Retry-time  prevents a failed server from being retried too soon. If a server is marked as "failed", it will not be used for requests until the retry time has expired. Once the retry time expires, the server may be marked as available to accept new requests.

Hold-down - prevents all requests from being sent to any AAA servers. It is triggered when all the TACACS authentication, or all TACACS authorization, or all TACACS accounting servers are in unavailable state: requests are suppressed for a period of time in order to avoid a connection timeout.

If the delay is set to zero, the hold-down delay is disabled ans all TACACS servers are attempted.

To configure the TACACS+ timers, enter timers configuration mode:


**Command syntax: timers**

**Command mode:** config

**Hierarchies**

- system aaa-server tacacs

**Note**
- Notice the change in prompt.

.. - Retry-time -prevent a failed TACACS server from being retried too soon. If a TACACS server is marked as failed, it will not be used for TACACS requests until the retry time has expired. Once the retry time has expired, the TACACS server may be marked as available to accept TACACS new requests.

    - If the delay is set to zero, the retry delay is disabled and TACACS server is always attempted

    - Hold-down - prevent all TACACS requests from being sent to any TACACS servers. The hold-down delay is triggered when all the TACACS authentication, or all the TACACS authorization, or all the TACACS accounting servers are found to be in an unavailable state. The purpose of this delay is to limit unnecessary delays due to TACACS requests being sent to unavailable servers incurring the connection timeout.

    - If the delay is set to zero, the hold down delay is disabled and all TACACS servers are attempted

    - Retry-time and hold-down can be set individually, together and in any order.

    - no command returns timers to their default values


**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# aaa-server
    dnRouter(cfg-system-aaa)# tacacs
    dnRouter(cfg-system-aaa-tacacs)# timers
    dnRouter(cfg-aaa-tacacs-timers)#


**Removing Configuration**

To revert TACACS timers to default:
::

    dnRouter(cfg-aaa-tacacs-timers)# no timers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## alarms/admin-state.rst

system alarms admin-state
-------------------------

**Minimum user role:** operator

A global 'admin-state' enabled/disabled switch is provided to enable or disable the DNOS alarms. When this global switch is set to 'enabled', the alarms fault management monitoring is enabled, alarms are raised and cleard according to the system behavior. When this global switch is set to 'disabled', the alarms manager will be disabled, all raised alarms (active) alarms will be cleared (moved to alarms-history) and no new alarms will be raised.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system alarms

**Parameter table**

+-------------+-----------------------------------------+--------------+----------+
| Parameter   | Description                             | Range        | Default  |
+=============+=========================================+==============+==========+
| admin-state | DNOS Alarms admin-state enable/disabled | | enabled    | disabled |
|             |                                         | | disabled   |          |
+-------------+-----------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-alarms)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## alarms/alarms.rst

system alarms
-------------

**Minimum user role:** operator

Alarms hierarchy of configuration. The alarms can be collected based on the network management interface (gNMI).

To configure alarms, enter the alarms configuration mode:

**Command syntax: alarms**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)#


**Removing Configuration**

To revert all alarms configuration to default:
::

    dnRouter(cfg-system)# no alarms

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## alarms/clearable-admin-state.rst

system alarms clearable timer clearable-admin-state
---------------------------------------------------

**Minimum user role:** operator

A global 'clearable admin-state' enabled/disabled switch is provided to enable or disable the automatic clearance of the clearable alarms from the active alarms list, once the clearable timer has passed.
The timer counting starts once the admin-state was set to enabled alarms clearable timer functionality.
Setting the clearable to admin-state 'disabled', will cancel the clearable functionality.

**Command syntax: clearable timer clearable-admin-state [clearable-admin-state]**

**Command mode:** config

**Hierarchies**

- system alarms

**Parameter table**

+-----------------------+---------------------------------------------------+------------+----------+
| Parameter             | Description                                       | Range      | Default  |
+=======================+===================================================+============+==========+
| clearable-admin-state | DNOS Alarms clearable admin-state enable/disabled | enabled    | disabled |
|                       |                                                   | disabled   |          |
+-----------------------+---------------------------------------------------+------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# clearable clearable-admin-state disabled


**Removing Configuration**

To revert clearable admin-state to default:
::

    dnRouter(cfg-system-alarms-clearable)# no clearable-admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/clearable-timer-state.rst

system alarms clearable-timer-state
-----------------------------------

**Minimum user role:** operator

Global switch that enables or disables the automatic clearance of the clearable-alarms from the active alarms list, once the clearable-timer has passed.
The timer starts counting once clearable-timer-state was enabled.
Setting the clearable clearable-timer-state to 'disabled', will cancel the clearable functionality.

**Command syntax: clearable-timer-state [clearable-admin-state]**

**Command mode:** config

**Hierarchies**

- system alarms

**Parameter table**

+-----------------------+-----------------------------------+--------------+----------+
| Parameter             | Description                       | Range        | Default  |
+=======================+===================================+==============+==========+
| clearable-admin-state | DNOS clearable alarms admin-state | | enabled    | disabled |
|                       |                                   | | disabled   |          |
+-----------------------+-----------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# clearable-timer-state disabled


**Removing Configuration**

Reverts clearable admin-state to default:
::

    dnRouter(cfg-system-alarms-clearable)# no clearable-timer-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/clearable-timer-time.rst

system alarms clearable-timer-time
----------------------------------

**Minimum user role:** operator

"A global timer that specifies the amount of time in minutes from rise-time after which a clearable alarm should be cleared.

**Command syntax: clearable-timer-time [clearable-timer]**

**Command mode:** config

**Hierarchies**

- system alarms

**Parameter table**

+-----------------+------------------------------------------------------------------------------+---------+---------+
| Parameter       | Description                                                                  | Range   | Default |
+=================+==============================================================================+=========+=========+
| clearable-timer | Specifies the timer that starts when alarm that is manually clearable raise. | 1-10800 | 1440    |
+-----------------+------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# clearable-timer-time 120


**Removing Configuration**

To revert timer to default:
::

    dnRouter(cfg-system-alarms)# no clearable-timer-time

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/clearable-timer.rst

system alarms clearable timer
-----------------------------

**Minimum user role:** operator

"A global timer that specifies the amount of time in minutes from rise-time after which a clearable alarm should be cleared.

**Command syntax: clearable timer [clearable-timer]**

**Command mode:** config

**Hierarchies**

- system alarms

**Parameter table**

+-----------------+------------------------------------------------------------------------------+---------+---------+
| Parameter       | Description                                                                  | Range   | Default |
+=================+==============================================================================+=========+=========+
| clearable-timer | Specifies the timer that starts when alarm that is manually clearable raise. | 1-10800 | 1440    |
+-----------------+------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# clearable timer 120


**Removing Configuration**

To revert timer to default:
::

    dnRouter(cfg-system-alarms)# no clearable timer

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/inventory/alarm/admin-state.rst

system alarms inventory alarm admin-state
-----------------------------------------

**Minimum user role:** operator

To set the disable/enable for a specific alarm.
When the admin-state of an alarm is disabled, the alarm will not rise and
all active alarms of this alarm should be moved to the history.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system alarms inventory alarm

**Note**

- Setting the admin-state for the entire module is equal to setting the admin-state for each alarm separately.

**Parameter table**

+-------------+-----------------------------------------+--------------+---------+
| Parameter   | Description                             | Range        | Default |
+=============+=========================================+==============+=========+
| admin-state | DNOS Alarms admin-state enable/disabled | | enabled    | enabled |
|             |                                         | | disabled   |         |
+-------------+-----------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# inventory
    dnRouter(cfg-system-alarms-inventory)# alarm <alarm-module> <alarm-name>
    dnRouter(cfg-alarms-inventory-alarm)# admin-state disabled


**Removing Configuration**

To set the admin-state to default:
::

    dnRouter(cfg-alarms-inventory-alarm)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/inventory/alarm/alarm.rst

system alarms inventory alarm
-----------------------------

**Minimum user role:** operator

To configure the alarm.

**Command syntax: alarm [alarm-type-id] [alarm-type-qualifier]**

**Command mode:** config

**Hierarchies**

- system alarms inventory

**Note**

- Alarms are pre-loaded, new alarms can't be created.

**Parameter table**

+----------------------+----------------------------------------------------+------------------------------+---------+
| Parameter            | Description                                        | Range                        | Default |
+======================+====================================================+==============================+=========+
| alarm-type-id        |  alarm module and alarmm name hierarchy parameters | | dnos-alarms                | \-      |
|                      |                                                    | | communications-alarm       |         |
|                      |                                                    | | quality-of-service-alarm   |         |
|                      |                                                    | | processing-error-alarm     |         |
|                      |                                                    | | equipment-alarm            |         |
|                      |                                                    | | environmental-alarm        |         |
|                      |                                                    | | bfd                        |         |
|                      |                                                    | | bgp                        |         |
|                      |                                                    | | efm-oam                    |         |
|                      |                                                    | | cfm-oam                    |         |
|                      |                                                    | | management                 |         |
|                      |                                                    | | isis                       |         |
|                      |                                                    | | pcep                       |         |
|                      |                                                    | | l2vpn                      |         |
|                      |                                                    | | aaa                        |         |
|                      |                                                    | | rib                        |         |
|                      |                                                    | | segment-routing            |         |
|                      |                                                    | | static-route               |         |
|                      |                                                    | | ldp                        |         |
|                      |                                                    | | rsvp                       |         |
|                      |                                                    | | fib-manager                |         |
|                      |                                                    | | transaction                |         |
|                      |                                                    | | interfaces                 |         |
|                      |                                                    | | lacp                       |         |
|                      |                                                    | | system                     |         |
|                      |                                                    | | diagnostics                |         |
|                      |                                                    | | platform                   |         |
+----------------------+----------------------------------------------------+------------------------------+---------+
| alarm-type-qualifier | The alarm name                                     | \-                           | \-      |
+----------------------+----------------------------------------------------+------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# inventory
    dnRouter(cfg-system-alarms-inventory)# alarm <alarm-module> <alarm-name>
    dnRouter(cfg-alarms-inventory-alarm)#


**Removing Configuration**

To delete the configuration changes.
::

    dnRouter(cfg-system-alarms-inventory)# no alarm

**Command History**

+---------+--------------------------+
| Release | Modification             |
+=========+==========================+
| 18.0    | Command introduced       |
+---------+--------------------------+
| 19.10   | Added transaction module |
+---------+--------------------------+

---

## alarms/inventory/alarm/severity.rst

system alarms inventory alarm severity
--------------------------------------

**Minimum user role:** operator

Configures the alarm severity.

**Command syntax: severity [severity]**

**Command mode:** config

**Hierarchies**

- system alarms inventory alarm

**Note**

- Once the severity is updated all the active alarms matching the alarm name shall be updated with the new severity.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter | Description                                                                      | Range        | Default |
+===========+==================================================================================+==============+=========+
| severity  | Indicates the severity level of this alarm type. To provide a relevant severity  | | warning    | \-      |
|           | level based on a dynamic state and context, the severity level needs to be       | | minor      |         |
|           | defined by the instrumentation on the dynamic state, rather than being defined   | | major      |         |
|           | by the alarm type. Note that clear is not a severity type.                     | | critical   |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# inventory
    dnRouter(cfg-system-alarms-inventory)# alarm <alarm-module> <alarm-name>
    dnRouter(cfg-alarms-inventory-alarm)# severity minor


**Removing Configuration**

To delete the severity configuration under the specific alarm:
::

    dnRouter(cfg-alarms-inventory-alarm)# no severity

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## alarms/inventory/inventory.rst

system alarms inventory
-----------------------

**Minimum user role:** operator

To configure the alarms inventory, enter the inventory configuration mode:

**Command syntax: inventory**

**Command mode:** config

**Hierarchies**

- system alarms

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# inventory
    dnRouter(cfg-system-alarms-inventory)#


**Removing Configuration**

To revert all alarms configuration to default:
::

    dnRouter(cfg-system-alarms)# no inventory

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## alarms/max-alarm-history.rst

system alarms max-alarm-history
-------------------------------

**Minimum user role:** operator

Configures the maximum amount of alarms that will be stored per resource in the alarms history.

**Command syntax: max-alarm-history [max-alarm-history]**

**Command mode:** config

**Hierarchies**

- system alarms

**Note**

- Reducing this number might impact the alarms history, in case there are more alarm occurances that will be configured with the new value, the oldest alarms will be deleted.

- increasing the number won't case alarms deletion.

- Setting the alarms history to 0, will disable alarms history support.

**Parameter table**

+-------------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter         | Description                                                                      | Range | Default |
+===================+==================================================================================+=======+=========+
| max-alarm-history | Specifies the maximum amount of alarms that will be stored per resource in the   | 0-100 | 1       |
|                   | alarms history.                                                                  |       |         |
+-------------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# max-alarm-history 32


**Removing Configuration**

To revert max-alarm-history to default:
::

    dnRouter(cfg-system-alarms)# no max-alarm-history

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## alarms/max-boot-delay.rst

system alarms max-boot-delay
----------------------------

**Minimum user role:** operator

To configure the maximum system boot delay before the alarm monitoring starts.

**Command syntax: max-boot-delay [max-boot-delay]**

**Command mode:** config

**Hierarchies**

- system alarms

**Note**

- Alarms conditions will be verified after the max-boot-delay time, the time units are in seconds.

- This delay will be applied after system restart/upgrade, in case the alarms admin-state is enabled.

**Parameter table**

+----------------+----------------------------------------------------------------------------------+-----------+---------+
| Parameter      | Description                                                                      | Range     | Default |
+================+==================================================================================+===========+=========+
| max-boot-delay | Specifies the maximum time that alarms engine will wait before starting the      | 100-18000 | 300     |
|                | monitoring after system boot, in seconds.                                        |           |         |
+----------------+----------------------------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# max-boot-delay 300


**Removing Configuration**

To revert max-boot-delay to default:
::

    dnRouter(cfg-system-alarms)# no max-boot-delay

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## alarms/shelve/admin-state.rst

system alarms shelve admin-state
--------------------------------

**Minimum user role:** operator

Shelve 'admin-state' enabled/disabled switch is provided to enable or disable shelve policy.
When this switch is set to 'enabled', all alarms matching the one of the rules under the shelve will be shelved.
When this switch is set to 'disabled', all the alarms shelved by this shelve will be will be un-shelved.
Shelve disable/enable doesn't affect the history records, but in case an active alarm will be shelved, once it will be cleared and move to the alarm history the shelved entry will be updated in the history.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system alarms shelve

**Parameter table**

+-------------+-----------------------------------------+--------------+----------+
| Parameter   | Description                             | Range        | Default  |
+=============+=========================================+==============+==========+
| admin-state | DNOS Alarms admin-state enable/disabled | | enabled    | disabled |
|             |                                         | | disabled   |          |
+-------------+-----------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# shelve my_shelve
    dnRouter(cfg-system-alarms-shelve)# admin-state enabled
    dnRouter(cfg-system-alarms-shelve)#


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-alarms-shelve)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/shelve/description.rst

system alarms shelve description
--------------------------------

**Minimum user role:** operator

To add an optional description of the shelve policy.

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system alarms shelve

**Note**

- The legal string length is 1..255 characters.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter   | Description                                                                      | Range | Default |
+=============+==================================================================================+=======+=========+
| description | Add a description for the Alarms Shelve Policy.                                  | \-    | \-      |
|             | Enter free-text description with spaces in between quotation marks. If you do    |       |         |
|             | not use quotation marks, do not use spaces. For example:                         |       |         |
|             | ... description "My long description"                                            |       |         |
|             | ... description My_long_description                                              |       |         |
+-------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# shelve my_shelve
    dnRouter(cfg-system-alarms-shelve)# description My-description
    dnRouter(cfg-system-alarms-shelve)#


**Removing Configuration**

To remove the description:
::

    dnRouter(cfg-system-alarms-shelve)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/shelve/rule/alarm-type-id.rst

system alarms shelve rule module
--------------------------------

**Minimum user role:** operator

To configure the shelve policy rule matching the alarm component module.

**Command syntax: module [alarm-type-id]** alarm [alarm-type-qualifier]

**Command mode:** config

**Hierarchies**

- system alarms shelve rule

**Note**
Alarms will be matched by the alarm component module.

- A specific alarm or module can be listed under one shelve only.
  Error: The alarm already exists in <shelve-name>.

- In case a module is shelved, all alarms that belong to that module will be shelved as well.

**Parameter table**

+----------------------+----------------------------------------------------------------------------------+------------------------------+---------+
| Parameter            | Description                                                                      | Range                        | Default |
+======================+==================================================================================+==============================+=========+
| alarm-type-id        | Shelve all alarms that have an 'alarm-type-id' that is equal to or derived from  | | dnos-alarms                | \-      |
|                      | the given 'alarm-type-id'.                                                       | | communications-alarm       |         |
|                      |                                                                                  | | quality-of-service-alarm   |         |
|                      |                                                                                  | | processing-error-alarm     |         |
|                      |                                                                                  | | equipment-alarm            |         |
|                      |                                                                                  | | environmental-alarm        |         |
|                      |                                                                                  | | bfd                        |         |
|                      |                                                                                  | | bgp                        |         |
|                      |                                                                                  | | efm-oam                    |         |
|                      |                                                                                  | | cfm-oam                    |         |
|                      |                                                                                  | | management                 |         |
|                      |                                                                                  | | isis                       |         |
|                      |                                                                                  | | pcep                       |         |
|                      |                                                                                  | | l2vpn                      |         |
|                      |                                                                                  | | aaa                        |         |
|                      |                                                                                  | | rib                        |         |
|                      |                                                                                  | | segment-routing            |         |
|                      |                                                                                  | | static-route               |         |
|                      |                                                                                  | | ldp                        |         |
|                      |                                                                                  | | rsvp                       |         |
|                      |                                                                                  | | fib-manager                |         |
|                      |                                                                                  | | transaction                |         |
|                      |                                                                                  | | interfaces                 |         |
|                      |                                                                                  | | lacp                       |         |
|                      |                                                                                  | | system                     |         |
|                      |                                                                                  | | diagnostics                |         |
|                      |                                                                                  | | platform                   |         |
+----------------------+----------------------------------------------------------------------------------+------------------------------+---------+
| alarm-type-qualifier | The optionally dynamically defined alarm type identifier for this possible       | \-                           | \-      |
|                      | alarm.                                                                           |                              |         |
+----------------------+----------------------------------------------------------------------------------+------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# shelve my_shelve
    dnRouter(cfg-system-alarms-shelve)# rule 8
    dnRouter(cfg-alarms-shelve-rule)# module pcep

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# shelve my_shelve
    dnRouter(cfg-system-alarms-shelve)# rule 1
    dnRouter(cfg-alarms-shelve-rule)# module platform alarm bfd_micro_bfd_state_down


**Removing Configuration**

To delete the configured module
::

    dnRouter(cfg-alarms-shelve-rule)# no module

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/shelve/rule/rule.rst

system alarms shelve rule
-------------------------

**Minimum user role:** operator

You can create multiple rules per policy.
The rule values should be in the range of [1..100].

**Command syntax: rule [rule]**

**Command mode:** config

**Hierarchies**

- system alarms shelve

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| rule      | the unique entry id. lower id means higher priority match Each entry defines the | 1-100 | \-      |
|           | criteria for shelving alarms. Criteria are ANDed.  If no criteria are specified, |       |         |
|           | all alarms will be shelved.                                                      |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# shelve my_shelve
    dnRouter(cfg-system-alarms-shelve)# rule 8
    dnRouter(cfg-alarms-shelve-rule)#


**Removing Configuration**

To delete the rule:
::

    dnRouter(cfg-alarms-shelve-rule)# no rule 1

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## alarms/shelve/shelve.rst

system alarms shelve
--------------------

**Minimum user role:** operator

To configure alarm shelve policy.

**Command syntax: shelve [shelve]**

**Command mode:** config

**Hierarchies**

- system alarms

**Note**
- The shelve name is a string with a legal length of 1..255 characters.
- Illegal characters include any whitespace, non-ascii, and the following special characters (separated by commas): #,!,',,\\"
- When the shelve is deleted all the shelved alarms matching the shelve rule will be un-shelved.

**Parameter table**

+-----------+-------------+------------------+---------+
| Parameter | Description | Range            | Default |
+===========+=============+==================+=========+
| shelve    | shelve      | | string         | \-      |
|           |             | | length 1-255   |         |
+-----------+-------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# alarms
    dnRouter(cfg-system-alarms)# shelve my_shelve
    dnRouter(cfg-system-alarms-shelve)#


**Removing Configuration**

To delete the a specific shelve:
::

    dnRouter(cfg-system-alarms)# no shelve my_shelve

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## cprl/acl_log/acl_log.rst

system cprl acl-log
-------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for access-lists logs:

**Command syntax: acl-log**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# acl-log
    dnRouter(cfg-system-cprl-acl-log)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for access-lists logs:
::

    dnRouter(cfg-system-cprl)# no acl-log

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## cprl/acl_log/burst.rst

system cprl acl-log burst
-------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for access-lists logs:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl acl-log

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-10000 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# acl-log
    dnRouter(cfg-system-cprl-acl-log)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value:
::

    dnRouter(cfg-system-cprl-acl-log)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## cprl/acl_log/rate.rst

system cprl acl-log rate
------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for access-lists logs:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl acl-log

**Parameter table**

+------------+-----------------------------------------------------------+--------+---------+
| Parameter  | Description                                               | Range  | Default |
+============+===========================================================+========+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-1000 | 10      |
+------------+-----------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# acl-log
    dnRouter(cfg-system-cprl-acl-log)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the protocol:
::

    dnRouter(cfg-system-cprl-acl-log)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## cprl/all_hosts/all_hosts.rst

system cprl all-hosts
---------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for all hosts:

**Command syntax: all-hosts**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# all-hosts
    dnRouter(cfg-system-cprl-all-hosts)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for all hosts:
::

    dnRouter(cfg-system-cprl)# no all-hosts

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/all_hosts/burst.rst

system cprl all-hosts burst
---------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for all hosts:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl all-hosts

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# all-hosts
    dnRouter(cfg-system-cprl-all-hosts)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value:
::

    dnRouter(cfg-system-cprl-all-hosts)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/all_hosts/rate.rst

system cprl all-hosts rate
--------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for all hosts:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl all-hosts

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# all-hosts
    dnRouter(cfg-system-cprl-all-hosts)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the protocol:
::

    dnRouter(cfg-system-cprl-all-hosts)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/all_routers/all_routers.rst

system cprl all-routers
-----------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for all routers:

**Command syntax: all-routers**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# all-routers
    dnRouter(cfg-system-cprl-all-routers)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for all routers:
::

    dnRouter(cfg-system-cprl)# no all-routers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/all_routers/burst.rst

system cprl all-routers burst
-----------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for all routers:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl all-routers

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# all-routers
    dnRouter(cfg-system-cprl-all-routers)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value:
::

    dnRouter(cfg-system-cprl-all-routers)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/all_routers/rate.rst

system cprl all-routers rate
----------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for all routers:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl all-routers

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# all-routers
    dnRouter(cfg-system-cprl-all-routers)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value:
::

    dnRouter(cfg-system-cprl-all-routers)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/arp/arp.rst

system cprl arp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the ARP protocol:

**Command syntax: arp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# arp
    dnRouter(cfg-system-cprl-arp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the ARP protocol:
::

    dnRouter(cfg-system-cprl)# no arp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/arp/burst.rst

system cprl arp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the ARP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl arp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# arp
    dnRouter(cfg-system-cprl-arp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the ARP protocol:
::

    dnRouter(cfg-system-cprl-arp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/arp/rate.rst

system cprl arp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the ARP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl arp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# arp
    dnRouter(cfg-system-cprl-arp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the ARP protocol:
::

    dnRouter(cfg-system-cprl-arp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/bfd/bfd.rst

system cprl bfd
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the BFD protocol:

**Command syntax: bfd**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# bfd
    dnRouter(cfg-system-cprl-bfd)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the BFD protocol:
::

    dnRouter(cfg-system-cprl)# no bfd

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 10.0    | Command introduced                     |
+---------+----------------------------------------+
| 15.1    | Updated the default CPRL value for BFD |
+---------+----------------------------------------+

---

## cprl/bfd/burst.rst

system cprl bfd burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the BFD protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl bfd

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 2000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# bfd
    dnRouter(cfg-system-cprl-bfd)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the BFD protocol:
::

    dnRouter(cfg-system-cprl-bfd)# no burst

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 10.0    | Command introduced                     |
+---------+----------------------------------------+
| 15.1    | Updated the default CPRL value for BFD |
+---------+----------------------------------------+

---

## cprl/bfd/rate.rst

system cprl bfd rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the BFD protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl bfd

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 4000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# bfd
    dnRouter(cfg-system-cprl-bfd)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the BFD protocol:
::

    dnRouter(cfg-system-cprl-bfd)# no rate

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 10.0    | Command introduced                     |
+---------+----------------------------------------+
| 15.1    | Updated the default CPRL value for BFD |
+---------+----------------------------------------+

---

## cprl/bgp/bgp.rst

system cprl bgp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the BGP protocol:

**Command syntax: bgp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# bgp
    dnRouter(cfg-system-cprl-bgp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the BGP protocol:
::

    dnRouter(cfg-system-cprl)# no bgp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/bgp/burst.rst

system cprl bgp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the BGP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl bgp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# bgp
    dnRouter(cfg-system-cprl-bgp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the BGP protocol:
::

    dnRouter(cfg-system-cprl-bgp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/bgp/rate.rst

system cprl bgp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the BGP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl bgp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 5000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# bgp
    dnRouter(cfg-system-cprl-bgp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the BGP protocol:
::

    dnRouter(cfg-system-cprl-bgp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/cfm_oam/burst.rst

system cprl cfm-oam burst
-------------------------

**Minimum user role:** operator

To set the burst limit of the control traffic to the 802.1ag CFM OAM protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl cfm-oam

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# cfm
    dnRouter(cfg-system-cprl-cfm)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the 802.1ag CFM OAM protocol:
::

    dnRouter(cfg-system-cprl-cfm)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## cprl/cfm_oam/cfm_oam.rst

system cprl cfm-oam
-------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the 802.1ag CFM OAM protocol:

**Command syntax: cfm-oam**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# cfm
    dnRouter(cfg-system-cprl-cfm)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the 802.1ag CFM OAM protocol:
::

    dnRouter(cfg-system-cprl)# no cfm

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## cprl/cfm_oam/rate.rst

system cprl cfm-oam rate
------------------------

**Minimum user role:** operator

To set the rate limit of the control traffic for the 802.1ag CFM OAM protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl cfm-oam

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# cfm
    dnRouter(cfg-system-cprl-cfm)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the 802.1ag CFM OAM protocol:
::

    dnRouter(cfg-system-cprl-cfm)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## cprl/cprl.rst

system cprl
-----------

**Minimum user role:** operator

Control plane rate limit (CPRL) is a protection mechanism that limits the rate of control plane traffic sent from the NCP to the NCC (internal or external) in order to protect the NCC from overload caused by DoS/DDoS attacks and network misconfiguration events.

All control protocols packets received from the network are classified according to classification rules based on default well-known L4 ports, IP-protocol values and destination IP/MAC addresses:

Each control management protocol has a configurable rate limit and burst size. The rate and burst are assured by applying egress policers per each control protocol in the NCPs, before control traffic is transmitted towards the NCC. The control plane rate limiting is performed only on control traffic that is received from the network. No rate limit is performed on control plane traffic that is generated by the NCC.

When the NCP traps control protocols to the NCC, it performs DSCP marking on the packet according to its control class of service.

Use the following command to enter the CPRL configuration mode for the specified protocol:

**Default CPRL values:**

+-----------------------+-------+--------+
| Protocol              | Rate  | Burst  |
+=======================+=======+========+
| All-Hosts             |   500 |   1000 |
+-----------------------+-------+--------+
| All-Routers           |   500 |   1000 |
+-----------------------+-------+--------+
| ARP                   |   250 |    300 |
+-----------------------+-------+--------+
| MAC-Unresolved        |    50 |     50 |
+-----------------------+-------+--------+
| BFD                   |  4000 |   2000 |
+-----------------------+-------+--------+
| BGP                   |  5000 |   1000 |
+-----------------------+-------+--------+
| DHCP                  |   500 |    500 |
+-----------------------+-------+--------+
| DNS                   |   250 |    300 |
+-----------------------+-------+--------+
| ESMC                  |  1000 |   1000 |
+-----------------------+-------+--------+
| EFM-OAM               |  1000 |   1000 |
+-----------------------+-------+--------+
| Flow-Monitor          |    50 |     50 |
+-----------------------+-------+--------+
| FTP                   |  1000 |   1000 |
+-----------------------+-------+--------+
| GRE                   |   500 |   1000 |
+-----------------------+-------+--------+
| GRPC                  |    50 |     50 |
+-----------------------+-------+--------+
| ICMP                  |   250 |    300 |
+-----------------------+-------+--------+
| ICMPv6                |   250 |    300 |
+-----------------------+-------+--------+
| IGMP                  |   300 |    600 |
+-----------------------+-------+--------+
| IP-Fragments          |   500 |   1000 |
+-----------------------+-------+--------+
| IP-Options            |   500 |   1000 |
+-----------------------+-------+--------+
| IPv4-PMTUD            |  1000 |   1000 |
+-----------------------+-------+--------+
| IPv4-To-Be-Fragmented |  1000 |    500 |
+-----------------------+-------+--------+
| IPv6-PMTUD            |  1000 |   1000 |
+-----------------------+-------+--------+
| IS-IS                 |   500 |   1000 |
+-----------------------+-------+--------+
| LACP                  |   250 |    300 |
+-----------------------+-------+--------+
| LDP                   |   500 |   1000 |
+-----------------------+-------+--------+
| LLDP                  |   300 |    300 |
+-----------------------+-------+--------+
| Micro-Bfd             |  2000 |   1000 |
+-----------------------+-------+--------+
| MPLS-OAM              |   250 |    300 |
+-----------------------+-------+--------+
| MSDP                  |   400 |    800 |
+-----------------------+-------+--------+
| NDP                   |   250 |    300 |
+-----------------------+-------+--------+
| Netconf               |  1000 |   1000 |
+-----------------------+-------+--------+
| NTP                   |   110 |    550 |
+-----------------------+-------+--------+
| OSPF                  |   500 |   1000 |
+-----------------------+-------+--------+
| OSPFv3                |   500 |   1000 |
+-----------------------+-------+--------+
| PCEP                  |   500 |   1000 |
+-----------------------+-------+--------+
| PIM                   |   600 |   1200 |
+-----------------------+-------+--------+
| PTP                   |  1000 |   1000 |
+-----------------------+-------+--------+
| Punted-Ip-Multicast   |  3000 |   6000 |
+-----------------------+-------+--------+
| RSVP                  |   500 |   1000 |
+-----------------------+-------+--------+
| Simple-TWAMP          |  2000 |   2000 |
+-----------------------+-------+--------+
| SNMP                  |  2000 |   4000 |
+-----------------------+-------+--------+
| SSH                   |  1000 |   1000 |
+-----------------------+-------+--------+
| Syslog                |   110 |    550 |
+-----------------------+-------+--------+
| TACACS                |   110 |    550 |
+-----------------------+-------+--------+
| Telnet                |  1000 |   1000 |
+-----------------------+-------+--------+
| TTL-Expired           |   500 |    500 |
+-----------------------+-------+--------+
| TWAMP                 |   110 |    550 |
+-----------------------+-------+--------+
| Unmatched             |  2000 |   1000 |
+-----------------------+-------+--------+
| VRRP                  |  1000 |   2000 |
+-----------------------+-------+--------+

**Command syntax: cprl**

**Command mode:** config

**Hierarchies**

- system

**Note**

- IPv6 PMTUD control rate of punted IPv6 data plane packets with size that exceeds egress IF MTU.

- IPv4 PMTUD control rate of punted IPv4 data plane packets with size that exceeds egress IF MTU and set DF.

- The control plane rate limitation is enforced at the hardware level by each NCP forwarding core. The amount of traffic designated to control (NCC) is the aggregated traffic from all NCPs after the rate limit has been imposed.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for all protocols:
::

    dnRouter(cfg-system)# no cprl

**Command History**

+---------+--------------------------------------------------------------------------------------------------------------------+
| Release | Modification                                                                                                       |
+=========+====================================================================================================================+
| 10.0    | Command introduced                                                                                                 |
+---------+--------------------------------------------------------------------------------------------------------------------+
| 11.4    | Added support for the following protocols: Flow-monitor, Micro-BFD, gRPC, DNS, IP-Fragments, IP-Options, Unmatched |
+---------+--------------------------------------------------------------------------------------------------------------------+
| 12.0    | Added support for multicast                                                                                        |
+---------+--------------------------------------------------------------------------------------------------------------------+
| 13.0    | Added support for ICMPv6                                                                                           |
+---------+--------------------------------------------------------------------------------------------------------------------+
| 15.0    | Added support for TTL-expired                                                                                      |
+---------+--------------------------------------------------------------------------------------------------------------------+

---

## cprl/dhcp/burst.rst

system cprl dhcp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the DHCP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl dhcp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 500     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dhcp
    dnRouter(cfg-system-cprl-dhcp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the DHCP protocol:
::

    dnRouter(cfg-system-cprl-dns)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## cprl/dhcp/dhcp.rst

system cprl dhcp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the DHCP protocol:

**Command syntax: dhcp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dhcp
    dnRouter(cfg-system-cprl-dhcp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the DHCP protocol:
::

    dnRouter(cfg-system-cprl)# no dhcp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## cprl/dhcp/rate.rst

system cprl dhcp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the DHCP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl dhcp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dhcp
    dnRouter(cfg-system-cprl-dhcp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the DHCP protocol:
::

    dnRouter(cfg-system-cprl-dhcp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## cprl/dhcpv6/burst.rst

system cprl dhcpv6 burst
------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the IPv6 DHCP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl dhcpv6

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 500     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dhcpv6
    dnRouter(cfg-system-cprl-dhcpv6)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the IPv6 DHCP protocol:
::

    dnRouter(cfg-system-cprl-dns)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## cprl/dhcpv6/dhcpv6.rst

system cprl dhcpv6
------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the IPv6 DHCP protocol:

**Command syntax: dhcpv6**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dhcpv6
    dnRouter(cfg-system-cprl-dhcpv6)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the IPv6 DHCP protocol:
::

    dnRouter(cfg-system-cprl)# no dhcpv6

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## cprl/dhcpv6/rate.rst

system cprl dhcpv6 rate
-----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the IPv6 DHCP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl dhcpv6

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dhcpv6
    dnRouter(cfg-system-cprl-dhcpv6)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the IPv6 DHCP protocol:
::

    dnRouter(cfg-system-cprl-dhcpv6)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## cprl/dns/burst.rst

system cprl dns burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the DNS protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl dns

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dns
    dnRouter(cfg-system-cprl-dns)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the DNS protocol:
::

    dnRouter(cfg-system-cprl-dns)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/dns/dns.rst

system cprl dns
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the DNS protocol:

**Command syntax: dns**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dns
    dnRouter(cfg-system-cprl-dns)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the DNS protocol:
::

    dnRouter(cfg-system-cprl)# no dns

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/dns/rate.rst

system cprl dns rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the DNS protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl dns

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# dns
    dnRouter(cfg-system-cprl-dns)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the DNS protocol:
::

    dnRouter(cfg-system-cprl-dns)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/efm_oam/burst.rst

system cprl efm-oam burst
-------------------------

**Minimum user role:** operator

To set the burst limit of the control traffic to the 802.3ah EFM OAM protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl efm-oam

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# efm-oam
    dnRouter(cfg-system-cprl-efm-oam)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the 802.3ah EFM OAM protocol:
::

    dnRouter(cfg-system-cprl-efm-oam)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.0    | Command introduced |
+---------+--------------------+

---

## cprl/efm_oam/efm_oam.rst

system cprl efm-oam
-------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the 802.3ah EFM OAM protocol:

**Command syntax: efm-oam**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# efm-oam
    dnRouter(cfg-system-cprl-efm-oam)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the 802.3ah EFM OAM protocol:
::

    dnRouter(cfg-system-cprl)# no efm-oam

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.0    | Command introduced |
+---------+--------------------+

---

## cprl/efm_oam/rate.rst

system cprl efm-oam rate
------------------------

**Minimum user role:** operator

To set the rate limit of the control traffic for the 802.3ah EFM OAM protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl efm-oam

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# efm-oam
    dnRouter(cfg-system-cprl-efm-oam)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the 802.3ah EFM OAM protocol:
::

    dnRouter(cfg-system-cprl-efm-oam)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.0    | Command introduced |
+---------+--------------------+

---

## cprl/efm/burst.rst

system cprl efm burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the EFM protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl efm

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# efm
    dnRouter(cfg-system-cprl-efm)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the EFM protocol:
::

    dnRouter(cfg-system-cprl-efm)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/efm/efm.rst

system cprl efm
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the EFM protocol:

**Command syntax: efm**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# efm
    dnRouter(cfg-system-cprl-efm)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the EFM protocol:
::

    dnRouter(cfg-system-cprl)# no efm

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/efm/rate.rst

system cprl efm rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the EFM protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl efm

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# efm
    dnRouter(cfg-system-cprl-efm)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the EFM protocol:
::

    dnRouter(cfg-system-cprl-efm)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/esmc/burst.rst

system cprl esmc burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the SyncE ESMC protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl esmc

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# esmc
    dnRouter(cfg-system-cprl-esmc)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the SyncE ESMC protocol:
::

    dnRouter(cfg-system-cprl-esmc)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/esmc/esmc.rst

system cprl esmc
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the SyncE ESMC protocol:

**Command syntax: esmc**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# esmc
    dnRouter(cfg-system-cprl-esmc)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the SyncE ESMC protocol:
::

    dnRouter(cfg-system-cprl)# no esmc

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/esmc/rate.rst

system cprl esmc rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the SyncE ESMC protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl esmc

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# esmc
    dnRouter(cfg-system-cprl-esmc)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the SyncE ESMC protocol:
::

    dnRouter(cfg-system-cprl-esmc)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/ftp/burst.rst

system cprl ftp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the FTP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ftp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ftp
    dnRouter(cfg-system-cprl-ftp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the FTP protocol:
::

    dnRouter(cfg-system-cprl-ftp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## cprl/ftp/ftp.rst

system cprl ftp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the FTP protocol:

**Command syntax: ftp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ftp
    dnRouter(cfg-system-cprl-ftp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the FTP protocol:
::

    dnRouter(cfg-system-cprl)# no ftp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## cprl/ftp/rate.rst

system cprl ftp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the FTP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ftp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ftp
    dnRouter(cfg-system-cprl-ftp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the FTP protocol:
::

    dnRouter(cfg-system-cprl-ftp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## cprl/gre/burst.rst

system cprl gre burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the GRE protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl gre

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# gre
    dnRouter(cfg-system-cprl-gre)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the GRE protocol:
::

    dnRouter(cfg-system-cprl-gre)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/gre/gre.rst

system cprl gre
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the GRE protocol:

**Command syntax: gre**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# gre
    dnRouter(cfg-system-cprl-gre)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the GRE protocol:
::

    dnRouter(cfg-system-cprl)# no gre

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/gre/rate.rst

system cprl gre rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the GRE protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl gre

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# gre
    dnRouter(cfg-system-cprl-gre)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the GRE protocol:
::

    dnRouter(cfg-system-cprl-gre)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/grpc/burst.rst

system cprl grpc burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the GRPC protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl grpc

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 50      |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# grpc
    dnRouter(cfg-system-cprl-grpc)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the GRPC protocol:
::

    dnRouter(cfg-system-cprl-grpc)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/grpc/grpc.rst

system cprl grpc
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the GRPC protocol:

**Command syntax: grpc**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# grpc
    dnRouter(cfg-system-cprl-grpc)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the GRPC protocol:
::

    dnRouter(cfg-system-cprl)# no grpc

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/grpc/rate.rst

system cprl grpc rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the GRPC protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl grpc

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 50      |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# grpc
    dnRouter(cfg-system-cprl-grpc)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the GRPC protocol:
::

    dnRouter(cfg-system-cprl-grpc)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/http/burst.rst

system cprl http burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the HTTP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl http

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# http
    dnRouter(cfg-system-cprl-http)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the HTTP protocol:
::

    dnRouter(cfg-system-cprl-http)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## cprl/http/http.rst

system cprl http
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the HTTP protocol:

**Command syntax: http**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# http
    dnRouter(cfg-system-cprl-http)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the HTTP protocol:
::

    dnRouter(cfg-system-cprl)# no http

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## cprl/http/rate.rst

system cprl http rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the HTTP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl http

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 10000   |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# http
    dnRouter(cfg-system-cprl-http)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the HTTP protocol:
::

    dnRouter(cfg-system-cprl-http)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## cprl/https/burst.rst

system cprl https burst
-----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the HTTPS protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl https

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# https
    dnRouter(cfg-system-cprl-https)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the HTTPS protocol:
::

    dnRouter(cfg-system-cprl-https)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## cprl/https/https.rst

system cprl https
-----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the HTTPS protocol:

**Command syntax: https**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# https
    dnRouter(cfg-system-cprl-https)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the HTTPS protocol:
::

    dnRouter(cfg-system-cprl)# no https

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## cprl/https/rate.rst

system cprl https rate
----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the HTTPS protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl https

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 10000   |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# https
    dnRouter(cfg-system-cprl-https)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the HTTPS protocol:
::

    dnRouter(cfg-system-cprl-https)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## cprl/icmp/burst.rst

system cprl icmp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the ICMP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl icmp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# icmp
    dnRouter(cfg-system-cprl-icmp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the ICMP protocol:
::

    dnRouter(cfg-system-cprl-icmp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/icmp/icmp.rst

system cprl icmp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the ICMP protocol:

**Command syntax: icmp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# icmp
    dnRouter(cfg-system-cprl-icmp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the ICMP protocol:
::

    dnRouter(cfg-system-cprl)# no icmp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/icmp/rate.rst

system cprl icmp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the ICMP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl icmp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# icmp
    dnRouter(cfg-system-cprl-icmp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the ICMP protocol:
::

    dnRouter(cfg-system-cprl-icmp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/icmpv6/burst.rst

system cprl icmpv6 burst
------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the ICMPv6 protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl icmpv6

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# icmpv6
    dnRouter(cfg-system-cprl-icmpv6)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the ICMPv6 protocol:
::

    dnRouter(cfg-system-cprl-icmpv6)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/icmpv6/icmpv6.rst

system cprl icmpv6
------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the ICMPv6 protocol:

**Command syntax: icmpv6**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# icmpv6
    dnRouter(cfg-system-cprl-icmpv6)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the ICMPv6 protocol:
::

    dnRouter(cfg-system-cprl)# no icmpv6

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/icmpv6/rate.rst

system cprl icmpv6 rate
-----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the ICMPv6 protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl icmpv6

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# icmpv6
    dnRouter(cfg-system-cprl-icmpv6)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the ICMPv6 protocol:
::

    dnRouter(cfg-system-cprl-icmpv6)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/igmp/burst.rst

system cprl igmp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the IGMP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl igmp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 600     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# igmp
    dnRouter(cfg-system-cprl-igmp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the IGMP protocol:
::

    dnRouter(cfg-system-cprl-igmp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/igmp/igmp.rst

system cprl igmp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the IGMP protocol:

**Command syntax: igmp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# igmp
    dnRouter(cfg-system-cprl-igmp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the IGMP protocol:
::

    dnRouter(cfg-system-cprl)# no igmp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/igmp/rate.rst

system cprl igmp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the IGMP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl igmp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 300     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# igmp
    dnRouter(cfg-system-cprl-igmp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the IGMP protocol:
::

    dnRouter(cfg-system-cprl-igmp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ip_fragments/burst.rst

system cprl ip-fragments burst
------------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for IP Fragments:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ip-fragments

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ip-fragments
    dnRouter(cfg-system-cprl-ip-fragments)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for IP Fragments:
::

    dnRouter(cfg-system-cprl-ip-fragments)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/ip_fragments/ip_fragments.rst

system cprl ip-fragments
------------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for IP Fragments:

**Command syntax: ip-fragments**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ip-fragments
    dnRouter(cfg-system-cprl-ip-fragments)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for IP Fragments:
::

    dnRouter(cfg-system-cprl)# no ip-fragments

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/ip_fragments/rate.rst

system cprl ip-fragments rate
-----------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for IP Fragments:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ip-fragments

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ip-fragments
    dnRouter(cfg-system-cprl-ip-fragments)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for IP Fragments:
::

    dnRouter(cfg-system-cprl-ip-fragments)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/ip_options/burst.rst

system cprl ip-options burst
----------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for IP Options:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ip-options

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ip-options
    dnRouter(cfg-system-cprl-ip-options)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for IP Options:
::

    dnRouter(cfg-system-cprl-ip-options)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/ip_options/ip_options.rst

system cprl ip-options
----------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for IP Options:

**Command syntax: ip-options**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ip-options
    dnRouter(cfg-system-cprl-ip-options)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for IP Options:
::

    dnRouter(cfg-system-cprl)# no ip-options

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/ip_options/rate.rst

system cprl ip-options rate
---------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for IP Options:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ip-options

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ip-options
    dnRouter(cfg-system-cprl-ip-options)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for IP Options:
::

    dnRouter(cfg-system-cprl-ip-options)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/ipv4_pmtud/burst.rst

system cprl ipv4-pmtud burst
----------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the IPv4 PMTUD protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ipv4-pmtud

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv4-pmtud
    dnRouter(cfg-system-cprl-ipv4-pmtud)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the IPv4 PMTUD protocol:
::

    dnRouter(cfg-system-cprl-ipv4-pmtud)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/ipv4_pmtud/ipv4_pmtud.rst

system cprl ipv4-pmtud
----------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the IPv4 PMTUD protocol:

**Command syntax: ipv4-pmtud**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv4-pmtud
    dnRouter(cfg-system-cprl-ipv4-pmtud)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the IPv4 PMTUD protocol:
::

    dnRouter(cfg-system-cprl)# no ipv4-pmtud

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/ipv4_pmtud/rate.rst

system cprl ipv4-pmtud rate
---------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the IPv4 PMTUD protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ipv4-pmtud

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv4-pmtud
    dnRouter(cfg-system-cprl-ipv4-pmtud)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the IPv4 PMTUD protocol:
::

    dnRouter(cfg-system-cprl-ipv4-pmtud)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/ipv4_to_be_fragmented/burst.rst

system cprl ipv4-to-be-fragmented burst
---------------------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the IPv4-to-be-fragmented protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ipv4-to-be-fragmented

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 500     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv4-to-be-fragmented
    dnRouter(cfg-system-cprl-ipv4-to-be-fragmented)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the IPv4-to-be-fragmented protocol:
::

    dnRouter(cfg-system-cprl-ipv4-to-be-fragmented)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## cprl/ipv4_to_be_fragmented/ipv4_to_be_fragmented.rst

system cprl ipv4-to-be-fragmented
---------------------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the IPv4-to-be-fragmented protocol:

**Command syntax: ipv4-to-be-fragmented**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv4-to-be-fragmented
    dnRouter(cfg-system-cprl-ipv4-to-be-fragmented)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the IPv4-to-be-fragmented protocol:
::

    dnRouter(cfg-system-cprl)# no ipv4-to-be-fragmented

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## cprl/ipv4_to_be_fragmented/rate.rst

system cprl ipv4-to-be-fragmented rate
--------------------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the IPv4-to-be-fragmented protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ipv4-to-be-fragmented

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv4-to-be-fragmented
    dnRouter(cfg-system-cprl-ipv4-to-be-fragmented)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the IPv4-to-be-fragmented protocol:
::

    dnRouter(cfg-system-cprl-ipv4-to-be-fragmented)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## cprl/ipv6_pmtud/burst.rst

system cprl ipv6-pmtud burst
----------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the IPv6 PMTUD protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ipv6-pmtud

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv6-pmtud
    dnRouter(cfg-system-cprl-ipv6-pmtud)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the IPv6 PMTUD protocol:
::

    dnRouter(cfg-system-cprl-ipv6-pmtud)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/ipv6_pmtud/ipv6_pmtud.rst

system cprl ipv6-pmtud
----------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the IPv6 PMTUD protocol:

**Command syntax: ipv6-pmtud**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv6-pmtud
    dnRouter(cfg-system-cprl-ipv6-pmtud)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the IPv6 PMTUD protocol:
::

    dnRouter(cfg-system-cprl)# no ipv6-pmtud

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/ipv6_pmtud/rate.rst

system cprl ipv6-pmtud rate
---------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the IPv6 PMTUD protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ipv6-pmtud

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ipv6-pmtud
    dnRouter(cfg-system-cprl-ipv6-pmtud)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the IPv6 PMTUD protocol:
::

    dnRouter(cfg-system-cprl-ipv6-pmtud)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## cprl/is_is/burst.rst

system cprl is-is burst
-----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the IS-IS protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl is-is

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# is-is
    dnRouter(cfg-system-cprl-is-is)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the IS-IS protocol:
::

    dnRouter(cfg-system-cprl-is-is)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/is_is/is_is.rst

system cprl is-is
-----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the IS-IS protocol:

**Command syntax: is-is**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# is-is
    dnRouter(cfg-system-cprl-is-is)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the IS-IS protocol:
::

    dnRouter(cfg-system-cprl)# no is-is

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/is_is/rate.rst

system cprl is-is rate
----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the IS-IS protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl is-is

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# is-is
    dnRouter(cfg-system-cprl-is-is)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the IS-IS protocol:
::

    dnRouter(cfg-system-cprl-is-is)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/lacp/burst.rst

system cprl lacp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the LACP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl lacp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# lacp
    dnRouter(cfg-system-cprl-lacp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the LACP protocol:
::

    dnRouter(cfg-system-cprl-lacp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/lacp/lacp.rst

system cprl lacp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the LACP protocol:

**Command syntax: lacp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# lacp
    dnRouter(cfg-system-cprl-lacp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the LACP protocol:
::

    dnRouter(cfg-system-cprl)# no lacp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/lacp/rate.rst

system cprl lacp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the LACP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl lacp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# lacp
    dnRouter(cfg-system-cprl-lacp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the LACP protocol:
::

    dnRouter(cfg-system-cprl-lacp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ldp/burst.rst

system cprl ldp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the LDP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ldp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ldp
    dnRouter(cfg-system-cprl-ldp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the LDP protocol:
::

    dnRouter(cfg-system-cprl-ldp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ldp/ldp.rst

system cprl ldp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the LDP protocol:

**Command syntax: ldp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ldp
    dnRouter(cfg-system-cprl-ldp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the LDP protocol:
::

    dnRouter(cfg-system-cprl)# no ldp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ldp/rate.rst

system cprl ldp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the LDP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ldp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ldp
    dnRouter(cfg-system-cprl-ldp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the LDP protocol:
::

    dnRouter(cfg-system-cprl-ldp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/lldp/burst.rst

system cprl lldp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the LLDP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl lldp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# lldp
    dnRouter(cfg-system-cprl-lldp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the LLDP protocol:
::

    dnRouter(cfg-system-cprl-lldp)# no burst

**Command History**

+---------+-------------------------------------------+
| Release | Modification                              |
+=========+===========================================+
| 10.0    | Command introduced                        |
+---------+-------------------------------------------+
| 17.2    | Default burst size changed from 50 to 300 |
+---------+-------------------------------------------+

---

## cprl/lldp/lldp.rst

system cprl lldp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the LLDP protocol:

**Command syntax: lldp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# lldp
    dnRouter(cfg-system-cprl-lldp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the LLDP protocol:
::

    dnRouter(cfg-system-cprl)# no lldp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/lldp/rate.rst

system cprl lldp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the LLDP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl lldp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 300     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# lldp
    dnRouter(cfg-system-cprl-lldp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the LLDP protocol:
::

    dnRouter(cfg-system-cprl-lldp)# no rate

**Command History**

+---------+-------------------------------------------+
| Release | Modification                              |
+=========+===========================================+
| 10.0    | Command introduced                        |
+---------+-------------------------------------------+
| 17.2    | Default burst size changed from 50 to 300 |
+---------+-------------------------------------------+

---

## cprl/mac_unresolved/burst.rst

system cprl mac-unresolved burst
--------------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the MAC-Unresolved protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl mac-unresolved

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 50      |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# mac-unresolved
    dnRouter(cfg-system-cprl-mac-unresolved)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the MAC-Unresolved protocol:
::

    dnRouter(cfg-system-cprl-mac-unresolved)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/mac_unresolved/mac_unresolved.rst

system cprl mac-unresolved
--------------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the MAC-Unresolved protocol:

**Command syntax: mac-unresolved**

**Command mode:** config

**Hierarchies**

- system cprl

**Note**

- MAC-Unresolved refers to packets punted to CPU due to unresolved destination MAC address.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# mac-unresolved
    dnRouter(cfg-system-cprl-mac-unresolved)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the MAC-Unresolved protocol:
::

    dnRouter(cfg-system-cprl)# no mac-unresolved

**Command History**

+---------+----------------------------------------------------------------+
| Release | Modification                                                   |
+=========+================================================================+
| 10.0    | Command introduced                                             |
+---------+----------------------------------------------------------------+
| 16.1    | Control protocol renamed from ARP-Unresolved to MAC-Unresolved |
+---------+----------------------------------------------------------------+

---

## cprl/mac_unresolved/rate.rst

system cprl mac-unresolved rate
-------------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the MAC-Unresolved protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl mac-unresolved

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 50      |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# mac-unresolved
    dnRouter(cfg-system-cprl-mac-unresolved)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the MAC-Unresolved protocol:
::

    dnRouter(cfg-system-cprl-mac-unresolved)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/micro_bfd/burst.rst

system cprl micro-bfd burst
---------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the Micro-BFD protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl micro-bfd

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# micro-bfd
    dnRouter(cfg-system-cprl-micro-bfd)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the Micro-BFD protocol:
::

    dnRouter(cfg-system-cprl-micro-bfd)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/micro_bfd/micro_bfd.rst

system cprl micro-bfd
---------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the Micro-BFD protocol:

**Command syntax: micro-bfd**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# micro-bfd
    dnRouter(cfg-system-cprl-micro-bfd)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the Micro-BFD protocol:
::

    dnRouter(cfg-system-cprl)# no micro-bfd

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/micro_bfd/rate.rst

system cprl micro-bfd rate
--------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the Micro-BFD protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl micro-bfd

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 2000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# micro-bfd
    dnRouter(cfg-system-cprl-micro-bfd)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Micro-BFD protocol:
::

    dnRouter(cfg-system-cprl-micro-bfd)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/mpls_oam/burst.rst

system cprl mpls-oam burst
--------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the MPLS-OAM protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl mpls-oam

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# mpls-oam
    dnRouter(cfg-system-cprl-mpls-oam)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the MPLS-OAM protocol:
::

    dnRouter(cfg-system-cprl-mpls-oam)# no burst

**Command History**

+---------+-------------------------------------------+
| Release | Modification                              |
+=========+===========================================+
| 10.0    | Command introduced                        |
+---------+-------------------------------------------+
| 15.0    | Command renamed from LSP-Ping to MPLS-OAM |
+---------+-------------------------------------------+

---

## cprl/mpls_oam/mpls_oam.rst

system cprl mpls-oam
--------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the MPLS-OAM protocol:

**Command syntax: mpls-oam**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# mpls-oam
    dnRouter(cfg-system-cprl-mpls-oam)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the MPLS-OAM protocol:
::

    dnRouter(cfg-system-cprl)# no mpls-oam

**Command History**

+---------+-------------------------------------------+
| Release | Modification                              |
+=========+===========================================+
| 10.0    | Command introduced                        |
+---------+-------------------------------------------+
| 15.0    | Command renamed from LSP-Ping to MPLS-OAM |
+---------+-------------------------------------------+

---

## cprl/mpls_oam/rate.rst

system cprl mpls-oam rate
-------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the MPLS-OAM protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl mpls-oam

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# mpls-oam
    dnRouter(cfg-system-cprl-mpls-oam)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the MPLS-OAM protocol:
::

    dnRouter(cfg-system-cprl-mpls-oam)# no rate

**Command History**

+---------+-------------------------------------------+
| Release | Modification                              |
+=========+===========================================+
| 10.0    | Command introduced                        |
+---------+-------------------------------------------+
| 15.0    | Command renamed from LSP-Ping to MPLS-OAM |
+---------+-------------------------------------------+

---

## cprl/msdp/burst.rst

system cprl msdp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the MSDP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl msdp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 800     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# msdp
    dnRouter(cfg-system-cprl-msdp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the MSDP protocol:
::

    dnRouter(cfg-system-cprl-msdp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/msdp/msdp.rst

system cprl msdp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the MSDP protocol:

**Command syntax: msdp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# msdp
    dnRouter(cfg-system-cprl-msdp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the MSDP protocol:
::

    dnRouter(cfg-system-cprl)# no msdp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/msdp/rate.rst

system cprl msdp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the MSDP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl msdp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 400     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# msdp
    dnRouter(cfg-system-cprl-msdp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the MSDP protocol:
::

    dnRouter(cfg-system-cprl-msdp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ndp/burst.rst

system cprl ndp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the NDP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ndp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 300     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ndp
    dnRouter(cfg-system-cprl-ndp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the NDP protocol:
::

    dnRouter(cfg-system-cprl-ndp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ndp/ndp.rst

system cprl ndp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the NDP protocol:

**Command syntax: ndp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ndp
    dnRouter(cfg-system-cprl-ndp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the NDP protocol:
::

    dnRouter(cfg-system-cprl)# no ndp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ndp/rate.rst

system cprl ndp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the NDP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ndp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ndp
    dnRouter(cfg-system-cprl-ndp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the NDP protocol:
::

    dnRouter(cfg-system-cprl-ndp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/netconf/burst.rst

system cprl netconf burst
-------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the NETCONF protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl netconf

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# netconf
    dnRouter(cfg-system-cprl-netconf)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the NETCONF protocol:
::

    dnRouter(cfg-system-cprl-netconf)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/netconf/netconf.rst

system cprl netconf
-------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the NETCONF protocol:

**Command syntax: netconf**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# netconf
    dnRouter(cfg-system-cprl-netconf)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the NETCONF protocol:
::

    dnRouter(cfg-system-cprl)# no netconf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/netconf/rate.rst

system cprl netconf rate
------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the NETCONF protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl netconf

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# netconf
    dnRouter(cfg-system-cprl-netconf)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the NETCONF protocol:
::

    dnRouter(cfg-system-cprl-netconf)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ntp/burst.rst

system cprl ntp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the NTP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ntp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 550     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ntp
    dnRouter(cfg-system-cprl-ntp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the NTP protocol:
::

    dnRouter(cfg-system-cprl-ntp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ntp/ntp.rst

system cprl ntp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the NTP protocol:

**Command syntax: ntp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ntp
    dnRouter(cfg-system-cprl-ntp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the NTP protocol:
::

    dnRouter(cfg-system-cprl)# no ntp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ntp/rate.rst

system cprl ntp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the NTP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ntp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 110     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ntp
    dnRouter(cfg-system-cprl-ntp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the NTP protocol:
::

    dnRouter(cfg-system-cprl-ntp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ospf/burst.rst

system cprl ospf burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the OSPF protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ospf

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ospf
    dnRouter(cfg-system-cprl-ospf)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the OSPF protocol:
::

    dnRouter(cfg-system-cprl-ospf)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ospf/ospf.rst

system cprl ospf
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the OSPF protocol:

**Command syntax: ospf**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ospf
    dnRouter(cfg-system-cprl-ospf)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the OSPF protocol:
::

    dnRouter(cfg-system-cprl)# no ospf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ospf/rate.rst

system cprl ospf rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the OSPF protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ospf

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ospf
    dnRouter(cfg-system-cprl-ospf)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the OSPF protocol:
::

    dnRouter(cfg-system-cprl-ospf)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ospfv3/burst.rst

system cprl ospfv3 burst
------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the OSPFv3 protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ospfv3

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ospfv3
    dnRouter(cfg-system-cprl-ospfv3)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the OSPFv3 protocol:
::

    dnRouter(cfg-system-cprl-ospfv3)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ospfv3/ospfv3.rst

system cprl ospfv3
------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the OSPFv3 protocol:

**Command syntax: ospfv3**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ospfv3
    dnRouter(cfg-system-cprl-ospfv3)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the OSPFv3 protocol:
::

    dnRouter(cfg-system-cprl)# no ospfv3

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ospfv3/rate.rst

system cprl ospfv3 rate
-----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the OSPFv3 protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ospfv3

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ospfv3
    dnRouter(cfg-system-cprl-ospfv3)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the OSPFv3 protocol:
::

    dnRouter(cfg-system-cprl-ospfv3)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/pcep/burst.rst

system cprl pcep burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the PCEP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl pcep

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# pcep
    dnRouter(cfg-system-cprl-pcep)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the PCEP protocol:
::

    dnRouter(cfg-system-cprl-pcep)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/pcep/pcep.rst

system cprl pcep
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the PCEP protocol:

**Command syntax: pcep**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# pcep
    dnRouter(cfg-system-cprl-pcep)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the PCEP protocol:
::

    dnRouter(cfg-system-cprl)# no pcep

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/pcep/rate.rst

system cprl pcep rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the PCEP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl pcep

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# pcep
    dnRouter(cfg-system-cprl-pcep)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the PCEP protocol:
::

    dnRouter(cfg-system-cprl-pcep)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/pim/burst.rst

system cprl pim burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the PIM protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl pim

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1200    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# pim
    dnRouter(cfg-system-cprl-pim)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the PIM protocol:
::

    dnRouter(cfg-system-cprl-pim)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/pim/pim.rst

system cprl pim
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the PIM protocol:

**Command syntax: pim**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# pim
    dnRouter(cfg-system-cprl-pim)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the PIM protocol:
::

    dnRouter(cfg-system-cprl)# no pim

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/pim/rate.rst

system cprl pim rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the PIM protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl pim

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 600     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# pim
    dnRouter(cfg-system-cprl-pim)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the PIM protocol:
::

    dnRouter(cfg-system-cprl-pim)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ptp/burst.rst

system cprl ptp burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the PTP 1588v2 protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ptp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ptp
    dnRouter(cfg-system-cprl-ptp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the PTP 1588v2 protocol:
::

    dnRouter(cfg-system-cprl-ptp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## cprl/ptp/ptp.rst

system cprl ptp
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the PTP 1588v2 protocol:

**Command syntax: ptp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ptp
    dnRouter(cfg-system-cprl-ptp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the PTP 1588v2 protocol:
::

    dnRouter(cfg-system-cprl)# no ptp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## cprl/ptp/rate.rst

system cprl ptp rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the PTP 1588v2 protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ptp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ptp
    dnRouter(cfg-system-cprl-ptp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the PTP 1588v2 protocol:
::

    dnRouter(cfg-system-cprl-ptp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## cprl/punted_ip_multicast/burst.rst

system cprl punted-ip-multicast burst
-------------------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the Punted-IP-Multicast protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl punted-ip-multicast

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 6000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# punted-ip-multicast
    dnRouter(cfg-system-cprl-punted-ip-multicast)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the Punted-IP-Multicast protocol:
::

    dnRouter(cfg-system-cprl-punted-ip-multicast)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 12.0    | Command introduced |
+---------+--------------------+

---

## cprl/punted_ip_multicast/punted_ip_multicast.rst

system cprl punted-ip-multicast
-------------------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the Punted-IP-Multicast protocol:

**Command syntax: punted-ip-multicast**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# punted-ip-multicast
    dnRouter(cfg-system-cprl-punted-ip-multicast)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the Punted-IP-Multicast protocol:
::

    dnRouter(cfg-system-cprl)# no punted-ip-multicast

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 12.0    | Command introduced |
+---------+--------------------+

---

## cprl/punted_ip_multicast/rate.rst

system cprl punted-ip-multicast rate
------------------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the Punted-IP-Multicast protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl punted-ip-multicast

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 3000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# punted-ip-multicast
    dnRouter(cfg-system-cprl-punted-ip-multicast)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Punted-IP-Multicast protocol:
::

    dnRouter(cfg-system-cprl-punted-ip-multicast)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 12.0    | Command introduced |
+---------+--------------------+

---

## cprl/rsvp/burst.rst

system cprl rsvp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the RSVP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl rsvp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# rsvp
    dnRouter(cfg-system-cprl-rsvp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the RSVP protocol:
::

    dnRouter(cfg-system-cprl-rsvp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/rsvp/rate.rst

system cprl rsvp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the RSVP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl rsvp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# rsvp
    dnRouter(cfg-system-cprl-rsvp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the RSVP protocol:
::

    dnRouter(cfg-system-cprl-rsvp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/rsvp/rsvp.rst

system cprl rsvp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the RSVP protocol:

**Command syntax: rsvp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# rsvp
    dnRouter(cfg-system-cprl-rsvp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the RSVP protocol:
::

    dnRouter(cfg-system-cprl)# no rsvp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/simple_twamp/burst.rst

system cprl simple-twamp burst
------------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the Simple TWAMP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl simple-twamp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 2000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# simple-twamp
    dnRouter(cfg-system-cprl-simple-twamp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the Simple TWAMP protocol:
::

    dnRouter(cfg-system-cprl-simple-twamp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/simple_twamp/rate.rst

system cprl simple-twamp rate
-----------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the Simple TWAMP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl simple-twamp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 2000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# simple-twamp
    dnRouter(cfg-system-cprl-simple-twamp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Simple TWAMP protocol:
::

    dnRouter(cfg-system-cprl-simple-twamp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/simple_twamp/simple_twamp.rst

system cprl simple-twamp
------------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the Simple TWAMP protocol:

**Command syntax: simple-twamp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# simple-twamp
    dnRouter(cfg-system-cprl-simple-twamp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the Simple TWAMP protocol:
::

    dnRouter(cfg-system-cprl)# no simple-twamp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/snmp/burst.rst

system cprl snmp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the SNMP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl snmp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 4000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# snmp
    dnRouter(cfg-system-cprl-snmp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the SNMP protocol:
::

    dnRouter(cfg-system-cprl-snmp)# no burst

**Command History**

+---------+-----------------------------------------+
| Release | Modification                            |
+=========+=========================================+
| 10.0    | Command introduced                      |
+---------+-----------------------------------------+
| 11.5    | Changed the default burst rate for SNMP |
+---------+-----------------------------------------+

---

## cprl/snmp/rate.rst

system cprl snmp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the SNMP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl snmp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 2000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# snmp
    dnRouter(cfg-system-cprl-snmp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the SNMP protocol:
::

    dnRouter(cfg-system-cprl-snmp)# no rate

**Command History**

+---------+----------------------------------------------+
| Release | Modification                                 |
+=========+==============================================+
| 10.0    | Command introduced                           |
+---------+----------------------------------------------+
| 11.5    | Changed the default CPRL rate value for SNMP |
+---------+----------------------------------------------+

---

## cprl/snmp/snmp.rst

system cprl snmp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the SNMP protocol:

**Command syntax: snmp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# snmp
    dnRouter(cfg-system-cprl-snmp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the SNMP protocol:
::

    dnRouter(cfg-system-cprl)# no snmp

**Command History**

+---------+---------------------------------------------------------+
| Release | Modification                                            |
+=========+=========================================================+
| 10.0    | Command introduced                                      |
+---------+---------------------------------------------------------+
| 11.5    | Changed the default CPRL burst and rate values for SNMP |
+---------+---------------------------------------------------------+

---

## cprl/ssh/burst.rst

system cprl ssh burst
---------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the SSH protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ssh

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ssh
    dnRouter(cfg-system-cprl-ssh)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the SSH protocol:
::

    dnRouter(cfg-system-cprl-ssh)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ssh/rate.rst

system cprl ssh rate
--------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the SSH protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ssh

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ssh
    dnRouter(cfg-system-cprl-ssh)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the SSH protocol:
::

    dnRouter(cfg-system-cprl-ssh)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ssh/ssh.rst

system cprl ssh
---------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the SSH protocol:

**Command syntax: ssh**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ssh
    dnRouter(cfg-system-cprl-ssh)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the SSH protocol:
::

    dnRouter(cfg-system-cprl)# no ssh

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/syslog/burst.rst

system cprl syslog burst
------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the Syslog protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl syslog

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 550     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# syslog
    dnRouter(cfg-system-cprl-syslog)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the Syslog protocol:
::

    dnRouter(cfg-system-cprl-syslog)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/syslog/rate.rst

system cprl syslog rate
-----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the Syslog protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl syslog

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 110     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# syslog
    dnRouter(cfg-system-cprl-syslog)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Syslog protocol:
::

    dnRouter(cfg-system-cprl-syslog)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/syslog/syslog.rst

system cprl syslog
------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the Syslog protocol:

**Command syntax: syslog**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# syslog
    dnRouter(cfg-system-cprl-syslog)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the Syslog protocol:
::

    dnRouter(cfg-system-cprl)# no syslog

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/tacacs/burst.rst

system cprl tacacs burst
------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the TACACS protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl tacacs

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 550     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# tacacs
    dnRouter(cfg-system-cprl-tacacs)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the TACACS protocol:
::

    dnRouter(cfg-system-cprl-tacacs)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/tacacs/rate.rst

system cprl tacacs rate
-----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the TACACS protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl tacacs

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 250     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# tacacs
    dnRouter(cfg-system-cprl-tacacs)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the TACACS protocol:
::

    dnRouter(cfg-system-cprl-tacacs)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/tacacs/tacacs.rst

system cprl tacacs
------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the TACACS protocol:

**Command syntax: tacacs**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# tacacs
    dnRouter(cfg-system-cprl-tacacs)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the TACACS protocol:
::

    dnRouter(cfg-system-cprl)# no tacacs

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/telnet/burst.rst

system cprl telnet burst
------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the Telnet protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl telnet

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# telnet
    dnRouter(cfg-system-cprl-telnet)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the Telnet protocol:
::

    dnRouter(cfg-system-cprl-telnet)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/telnet/rate.rst

system cprl telnet rate
-----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the Telnet protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl telnet

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# telnet
    dnRouter(cfg-system-cprl-telnet)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Telnet protocol:
::

    dnRouter(cfg-system-cprl-telnet)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/telnet/telnet.rst

system cprl telnet
------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the Telnet protocol:

**Command syntax: telnet**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# telnet
    dnRouter(cfg-system-cprl-telnet)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the Telnet protocol:
::

    dnRouter(cfg-system-cprl)# no telnet

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/ttl_expired/burst.rst

system cprl ttl-expired burst
-----------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the TTL-expired protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl ttl-expired

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 500     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ttl-expired
    dnRouter(cfg-system-cprl-ttl-expired)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the TTL-expired protocol:
::

    dnRouter(cfg-system-cprl-ttl-expired)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.0    | Command introduced |
+---------+--------------------+

---

## cprl/ttl_expired/rate.rst

system cprl ttl-expired rate
----------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the TTL-expired protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl ttl-expired

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 500     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ttl-expired
    dnRouter(cfg-system-cprl-ttl-expired)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Telnet protocol:
::

    dnRouter(cfg-system-cprl-ttl-expired)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.0    | Command introduced |
+---------+--------------------+

---

## cprl/ttl_expired/ttl_expired.rst

system cprl ttl-expired
-----------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the TTL-expired protocol:

**Command syntax: ttl-expired**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# ttl-expired
    dnRouter(cfg-system-cprl-ttl-expired)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the TTL-expired protocol:
::

    dnRouter(cfg-system-cprl)# no ttl-expired

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.0    | Command introduced |
+---------+--------------------+

---

## cprl/twamp/burst.rst

system cprl twamp burst
-----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the TWAMP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl twamp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 550     |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# twamp
    dnRouter(cfg-system-cprl-twamp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the TWAMP protocol:
::

    dnRouter(cfg-system-cprl-twamp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/twamp/rate.rst

system cprl twamp rate
----------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the TWAMP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl twamp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 110     |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# twamp
    dnRouter(cfg-system-cprl-twamp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the TWAMP protocol:
::

    dnRouter(cfg-system-cprl-twamp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/twamp/twamp.rst

system cprl twamp
-----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the TWAMP protocol:

**Command syntax: twamp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# twamp
    dnRouter(cfg-system-cprl-twamp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the TWAMP protocol:
::

    dnRouter(cfg-system-cprl)# no twamp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+

---

## cprl/unmatched/burst.rst

system cprl unmatched burst
---------------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the Unmatched protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl unmatched

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 1000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# unmatched
    dnRouter(cfg-system-cprl-unmatched)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the Unmatched protocol:
::

    dnRouter(cfg-system-cprl-unmatched)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/unmatched/rate.rst

system cprl unmatched rate
--------------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the Unmatched protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl unmatched

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 2000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# unmatched
    dnRouter(cfg-system-cprl-unmatched)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the Unmatched protocol:
::

    dnRouter(cfg-system-cprl-unmatched)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/unmatched/unmatched.rst

system cprl unmatched
---------------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the Unmatched protocol:

**Command syntax: unmatched**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# unmatched
    dnRouter(cfg-system-cprl-unmatched)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the Unmatched protocol:
::

    dnRouter(cfg-system-cprl)# no unmatched

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## cprl/vrrp/burst.rst

system cprl vrrp burst
----------------------

**Minimum user role:** operator

To set the burst limit of control traffic for the VRRP protocol:

**Command syntax: burst [burst-size]**

**Command mode:** config

**Hierarchies**

- system cprl vrrp

**Parameter table**

+------------+---------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                   | Range   | Default |
+============+===============================================================+=========+=========+
| burst-size | Burst size for specific control protocol traffic in [packets] | 2-65024 | 2000    |
+------------+---------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# vrrp
    dnRouter(cfg-system-cprl-vrrp)# burst 1000


**Removing Configuration**

To revert to the default CPRL burst value for the VRRP protocol:
::

    dnRouter(cfg-system-cprl-vrrp)# no burst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/vrrp/rate.rst

system cprl vrrp rate
---------------------

**Minimum user role:** operator

To set the rate limit of control traffic for the VRRP protocol:

**Command syntax: rate [rate-limit]**

**Command mode:** config

**Hierarchies**

- system cprl vrrp

**Parameter table**

+------------+-----------------------------------------------------------+------------+---------+
| Parameter  | Description                                               | Range      | Default |
+============+===========================================================+============+=========+
| rate-limit | Rate limit for specific control protocol traffic in [pps] | 0-67108863 | 1000    |
+------------+-----------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# vrrp
    dnRouter(cfg-system-cprl-vrrp)# rate 1000


**Removing Configuration**

To revert to the default CPRL rate value for the VRRP protocol:
::

    dnRouter(cfg-system-cprl-vrrp)# no rate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## cprl/vrrp/vrrp.rst

system cprl vrrp
----------------

**Minimum user role:** operator

Use the following command to enter the CPRL configuration mode for the VRRP protocol:

**Command syntax: vrrp**

**Command mode:** config

**Hierarchies**

- system cprl

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cprl
    dnRouter(cfg-system-cprl)# vrrp
    dnRouter(cfg-system-cprl-vrrp)#


**Removing Configuration**

To revert to the default CPRL rate and burst values for the VRRP protocol:
::

    dnRouter(cfg-system-cprl)# no vrrp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## debug/ipmi-console-redirect.rst

system debug ipmi-console-redirect
----------------------------------

**Minimum user role:** operator

To configure whether or not the outputs of platforms ipmi consoles will get redirected to log files

**Command syntax: ipmi-console-redirect [ipmi-console-redirect]**

**Command mode:** config

**Hierarchies**

- system debug

**Note**
- The default is disabled, meaning ipmi consoles' outputs will not get redirected to log files by default.

**Parameter table**

+-----------------------+-----------------------------------------------------------+--------------+----------+
| Parameter             | Description                                               | Range        | Default  |
+=======================+===========================================================+==============+==========+
| ipmi-console-redirect | Redirect IPMI console output over LAN for debug capturing | | enabled    | disabled |
|                       |                                                           | | disabled   |          |
+-----------------------+-----------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# debug
    dnRouter(cfg-system-debug)# ipmi-console-redirect disabled


**Removing Configuration**

To revert to the default state:
::

    dnRouter(cfg-system-debug)# no ipmi-console-redirect

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/diagnostics.rst

system diagnostics
------------------

**Minimum user role:** operator

The system diagnostics infrastructure enables you to run health diagnostics on the system and its components.

The following tests are supported:

- punt-datapath: This test verifies the integrity of the white box chipset packet processing pipeline. It injects a single diagnostics UDP packet at a configured interval from the active routing-engine container to the datapath container over the GRE. The packets are looped back at the processor and returned to the routing-engine container.

To configure diagnostics:


**Command syntax: diagnostics**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)#


**Removing Configuration**

Remove all configured diagnostics
::

    dnRouter(cfg-system)# no diagnostics

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/monitor/monitor.rst

system diagnostics monitor
--------------------------

**Minimum user role:** operator

To configure monitor:


**Command syntax: monitor**

**Command mode:** config

**Hierarchies**

- system diagnostics

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)# monitor
    dnRouter(cfg-system-diagnostics-monitor)#


**Removing Configuration**

Remove all configured monitor
::

    dnRouter(cfg-system-diagnostics)# no monitor

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/monitor/test/component/admin-state.rst

system diagnostics monitor test component admin-state
-----------------------------------------------------

**Minimum user role:** operator

To enable/disable the component diagnostics test:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system diagnostics monitor test component

**Note**

- no command set admin-state to the default value

- Upon ``disable``, test execution is immediately stopped.

- All collected stats/thresholds are cleared

**Parameter table**

+-------------+-----------------------------------------------------------+--------------+---------+
| Parameter   | Description                                               | Range        | Default |
+=============+===========================================================+==============+=========+
| admin-state | admin-state of system diagnostics per test per component. | | enabled    | enabled |
|             |                                                           | | disabled   |         |
+-------------+-----------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)# monitor
    dnRouter(cfg-system-diagnostics-monitor)# test punt-datapath
    dnRouter(cfg-diagnostics-monitor-test)# component ncp 0
    dnRouter(cfg-diagnostics-monitor-test-component)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-diagnostics-monitor-test-component)# no admin-state enabled

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/monitor/test/component/component.rst

system diagnostics monitor test component
-----------------------------------------

**Minimum user role:** operator

To configure the test parameters for the NCP:

Say you have a cluster with four NCPs (NCP 0-NCP3) and you configure the test as follows:

  - Configure "all" to admin-state enabled and interval 20 seconds.

  - Configure NCP 0 to admin-state disabled.

This means that the test will run every 20 seconds on all NCPs except NCP 0.

If you then change the admin-state for NCP 0 to enabled, the test will run on all NCPs as follows:

  - NCP 0 - every 60 seconds

  - NCP 1-3 - every 20 seconds

**Command syntax: component [component-type] [node-id]**

**Command mode:** config

**Hierarchies**

- system diagnostics monitor test

**Note**

- validation that ncp-id is according to cluster type.

- show in autocomplete only components that are relevant to the test.

- behaves as following, e.g. NCPSs 0-3 available in the cluster.

- the configuration as configured above ncp 0,1 are explicitly configured, means their configuration won't be impacted by component ncp all command.

- ncp 2,3 will be configured with the 'component ncp all' configuration.

- in case user would make implicit configuration for 'component ncp 2' it will override the previous configuration configured by the 'component ncp all'.

- 'all' configuration would be applied (dynamically) also on NCPs that will be added after the system diagnostics configuration was committed.

**Parameter table**

+----------------+----------------------------------------------------+-------+---------+
| Parameter      | Description                                        | Range | Default |
+================+====================================================+=======+=========+
| component-type | References the configured component.               | ncp   | \-      |
+----------------+----------------------------------------------------+-------+---------+
| node-id        | References the configured node-id of the component | \-    | \-      |
+----------------+----------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)# monitor
    dnRouter(cfg-system-diagnostics-monitor)# test punt-datapath
    dnRouter(cfg-diagnostics-monitor-test)# component ncp 0
    dnRouter(cfg-diagnostics-monitor-test)# component ncp 1
    dnRouter(cfg-diagnostics-monitor-test)# component ncp all


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-diagnostics-monitor-test)# no component ncp 1

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/monitor/test/component/interval.rst

system diagnostics monitor test component interval
--------------------------------------------------

**Minimum user role:** operator

Configure the diagnostics monitor test interval.

**Command syntax: interval [interval]**

**Command mode:** config

**Hierarchies**

- system diagnostics monitor test component

**Parameter table**

+-----------+--------------------------------------------------------------------------+--------+---------+
| Parameter | Description                                                              | Range  | Default |
+===========+==========================================================================+========+=========+
| interval  | the period of time that passed from the beginning of the test execution. | 1-3600 | 60      |
+-----------+--------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)# monitor
    dnRouter(cfg-system-diagnostics-monitor)# test punt-datapath
    dnRouter(cfg-diagnostics-monitor-test)# component ncp 0
    dnRouter(cfg-diagnostics-monitor-test-component)# interval 3


**Removing Configuration**

To revert interval to default:
::

    dnRouter(cfg-diagnostics-monitor-test-component)# no interval

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/monitor/test/component/threshold.rst

system diagnostics monitor test component threshold
---------------------------------------------------

**Minimum user role:** operator

Configure the diagnostics monitor test components threshold. The failure-threshold defines the number of allowed consecutive test fails (i.e. the number of consecutive diagnostic packets allowed to be lost). When the threshold is crossed, a single system event is sent, until the threshold is cleared. The threshold is cleared when a diagnostics packet returns.

**Command syntax: threshold [failure-threshold]**

**Command mode:** config

**Hierarchies**

- system diagnostics monitor test component

**Note**

- The number of consecutive allowed test fails, before counting test as failed and issuing a system event.

**Parameter table**

+-------------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter         | Description                                                                      | Range | Default |
+===================+==================================================================================+=======+=========+
| failure-threshold | threshold number of consecutive failed packets for which system events will be   | 1-10  | 3       |
|                   | generated                                                                        |       |         |
+-------------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)# monitor
    dnRouter(cfg-system-diagnostics-monitor)# test punt-datapath
    dnRouter(cfg-diagnostics-monitor-test)# component ncp 0
    dnRouter(cfg-diagnostics-monitor-test-component)# threshold 4


**Removing Configuration**

To revert threshold to default:
::

    dnRouter(cfg-diagnostics-monitor-test-component)# no threshold

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## diagnostics/monitor/test/test.rst

system diagnostics monitor test
-------------------------------

**Minimum user role:** operator


To select a test and enter its configuration mode:


**Command syntax: test [test]**

**Command mode:** config

**Hierarchies**

- system diagnostics monitor

**Parameter table**

+-----------+-------------------------------------------------+---------------+---------+
| Parameter | Description                                     | Range         | Default |
+===========+=================================================+===============+=========+
| test      | The type of the test supported for diagnostics. | punt-datapath | \-      |
+-----------+-------------------------------------------------+---------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# diagnostics
    dnRouter(cfg-system-diagnostics)# monitor
    dnRouter(cfg-system-diagnostics-monitor)# test punt-datapath
    dnRouter(cfg-system-diagnostics-monitor-test)#


**Removing Configuration**

Remove all configured test
::

    dnRouter(cfg-system-util-ncp)# no test

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## dns/dns.rst

system dns
----------

**Minimum user role:** operator

To configure a DNS for the system:

**Command syntax: dns**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)#


**Removing Configuration**

Removes static DNS configuration:
::

    dnRouter(cfg-system)# no dns

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## dns/domain-name.rst

system dns domain-name
----------------------

**Minimum user role:** operator

Configure domain name

**Command syntax: domain-name [domain-name]**

**Command mode:** config

**Hierarchies**

- system dns

**Parameter table**

+-------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter   | Description                                                                      | Range | Default |
+=============+==================================================================================+=======+=========+
| domain-name | The domain-name of the system's management network. The domain-name is           | \-    | \-      |
|             | configured per system.                                                           |       |         |
+-------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)# domain-name abcd.com


**Removing Configuration**

To remove domain name:
::

    dnRouter(cfg-system-dns)# no domain-name

**Command History**

+---------+----------------------------------------------------------------------------------------+
| Release | Modification                                                                           |
+=========+========================================================================================+
| 11.4    | Command introduced                                                                     |
+---------+----------------------------------------------------------------------------------------+
| 13.1    | Command from the "system out-of-band" hierarchy merged with the "system dns" hierarchy |
+---------+----------------------------------------------------------------------------------------+

---

## dns/server/admin-state.rst

system dns server priority ip-address admin-state
-------------------------------------------------

**Minimum user role:** operator

You can use this command to configure the admin state of remote DNS server. To enable the DNS server:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system dns server priority ip-address

**Note**

- Validation: fail commit if more than one in-band management non-default VRF is configured with admin-state enabled knob.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                                      | Range        | Default |
+=============+==================================================================================+==============+=========+
| admin-state | Configure the admin state of remote DNS server. If dns server admin-state is     | | enabled    | enabled |
|             | enabled, each DNS query will be sent to one of the DNS servers that are enabled  | | disabled   |         |
|             | on that VRF according to their priotrity. Servers can be separately enabled or   |              |         |
|             | disabled.                                                                        |              |         |
+-------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)# server priority 1 ip-address 12.127.17.83 vrf default
    dnRouter(cfg-system-dns-server)# admin-state disabled
    dnRouter(cfg-system-dns-server)# admin-state enabled


**Removing Configuration**

To revert to the default admin-state:
::

    dnRouter(cfg-system-dns-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## dns/server/server.rst

system dns server priority ip-address
-------------------------------------

**Minimum user role:** operator

Domain name system (DNS) servers are used for resolving host-names to IP addresses. You can configure up to three DNS servers that the system can contact to resolve a host-name per VRF per system.

**Command syntax: server priority [priority] ip-address [ip-address]**

**Command mode:** config

**Hierarchies**

- system dns

**Note**
- DNS servers that are acquired through DHCP are not subject to the configured priority.

- When mgmt0 interface are configured to DHCP mode, the configured list of DNS servers is not applied to the system. Instead, the DNS servers' list is acquired by the DHCP client.

	  - Up to 3 DNS servers can be configured per vrf, in-band (vrf default and non-default-vrf) and out-of-band (vrf mgmt0).

        -  validation: is required to fail commit if more than 3 non-default VRFs are configured in general

	  - DNS servers acquired from DHCP server are not subjected to the configured priority

	  - vrf "default" represents the in-band management dns server, while vrf "mgmt0" represents the out-of-band management dns servers.

	  - When mgmt0 interface are configured to DHCP mode, configured list of DNS servers is not applied to the system. Instead, DNS servers list is acquired by DHCP client.

	  - DNS servers acquired from DHCP server are not subjected to the configured priority

	  - DNS quarries will be resolved in the same VRF they where issued, in case there in no DNS server configured, quarries will be dropped.

**Parameter table**

+------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter  | Description                                                                      | Range        | Default |
+============+==================================================================================+==============+=========+
| priority   | The priority is used for the order in which the DNS servers are contacted until  | 1-255        | \-      |
|            | the host-name is resolved.                                                       |              |         |
|            | Priority 1 is the highest priority. You can only configure one priority per      |              |         |
|            | server.                                                                          |              |         |
+------------+----------------------------------------------------------------------------------+--------------+---------+
| ip-address | The address of the DNS server, can be either IPv4 or IPv6.                       | | A.B.C.D    | \-      |
|            |                                                                                  | | X:X::X:X   |         |
+------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)# server priority 1 ip-address 12.127.17.83
    dnRouter(cfg-system-dns)# server priority 7 ip-address 12.127.16.83
    dnRouter(cfg-system-dns)# server priority 3 ip-address 12.33.16.22
    dnRouter(cfg-system-dns)# server priority 40 ip-address 9876:65::1


**Removing Configuration**

To delete the DNS server configuration:
::

    dnRouter(cfg-system-dns)# no server priority 1

**Command History**

+---------+--------------------------------------------------------------------------------------------------------------------------+
| Release | Modification                                                                                                             |
+=========+==========================================================================================================================+
| 11.4    | Command introduced                                                                                                       |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 13.1    | Command from the "system out-of-band" hierarchy merged with the "system dns" hierarchy by adding VRF to the syntax       |
|         | (default for in-band; mgmt0 for out-of-band)                                                                             |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 15.0    | Updated priority range                                                                                                   |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 15.1    | Added support for IPv6 address format and changed the priority range from maximum 6 to 255                               |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 16.2    | Removed mgmt-ncc-x interfaces                                                                                            |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 19.1    | Added non default VRF support                                                                                            |
+---------+--------------------------------------------------------------------------------------------------------------------------+

---

## dns/server/source-interface.rst

system dns server priority ip-address source-interface
------------------------------------------------------

**Minimum user role:** operator

By default, packets sent to a remote DNS server use the IP address of the configured system in-band-management source-interface in the DNS messages. To change the source IP address:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system dns server priority ip-address

**Note**
- The source-interface configuration, by default used global configuration for source interface under "system inband source-interface" for VRF default and "network-services vrf instance in-band-management source-interface" for non-default in-band management VRF.
- If the source-interface under the TACACS server is specified it will override the global source-interface config for that server.
- Validation: the source-interface is associated with the same VRF as the TACACS server, otherwise the commit will fail the validation.

- Validation: the IP address must be configured on the interface configuration.

- The source-interface must be configured with the same address type as the remote DNS server otherwise the DNS packets won't be sent.

-  Only an mgmt0 source-interface can be supported for mgmt0 VRF and it is the default value.

- 'no source-interface' - remove source-interface configuration, if the global source-inteface is configured it will be used.

**Parameter table**

+------------------+----------------------------------------------------------------------------------+----------------------------------------------------------+---------+
| Parameter        | Description                                                                      | Range                                                    | Default |
+==================+==================================================================================+==========================================================+=========+
| source-interface | The name of the interface whose source IP address will be used for all DNS       | | A configured interface:                                | \-      |
|                  | packets, towards the current server.                                             | |                                                        |         |
|                  | This interface must be configured with an IPv4 or/and IPv6 address.              | |   ge<interface speed>-<A>/<B>/<C>                      |         |
|                  | The source-interface must be configured with the same address type as the remote | |                                                        |         |
|                  | DNS server, otherwise the DNS packets won't be sent.                             | |   ge<interface speed>-<A>/<B>/<C>.<sub-interface id>   |         |
|                  |                                                                                  | |                                                        |         |
|                  |                                                                                  | |   bundle-<bundle id>                                   |         |
|                  |                                                                                  | |                                                        |         |
|                  |                                                                                  | |   bundle-<bundle id>.<sub-interface id>                |         |
|                  |                                                                                  | |                                                        |         |
|                  |                                                                                  | |   lo<lo-interface id>. irb<irb-interface id>           |         |
+------------------+----------------------------------------------------------------------------------+----------------------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)# server priority 1 ip-address 12.127.17.83 vrf default
    dnRouter(cfg-system-dns-server)# source-interface bundle-2


**Removing Configuration**

To revert source-interface to default:
::

    dnRouter(cfg-system-dns)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## dns/server/vrf.rst

system dns server priority ip-address vrf
-----------------------------------------

**Minimum user role:** operator

To configure the DNS server VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system dns server priority ip-address

**Note**
-  Out-of-band packets will be sent with mgmt0 ip address.

-  The no command resets the vrf to its default value.

-  DNS quarries will be resolved in the same VRF they where issued, if there in no configured DNS server, the quarries will be dropped.

-  Validation: is required to fail the commit if more than 3 non-default VRFs are configured in general.

-  Validation: fail the commit if more than one in-band management non-default VRF is configured with an admin-state enabled knob.

**Parameter table**

+-----------+--------------------------------+---------------------+---------+
| Parameter | Description                    | Range               | Default |
+===========+================================+=====================+=========+
| vrf-name  | The name of the DNS server VRF | | default           | default |
|           |                                | | non-default-vrf   |         |
|           |                                | | mgmt0             |         |
+-----------+--------------------------------+---------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)# server priority 1 ip-address 12.127.17.83
    dnRouter(cfg-system-dns-server)# vrf default
    dnRouter(cfg-system-dns)# server priority 7 ip-address 12.127.16.83
    dnRouter(cfg-system-dns-server)# vrf mgmt0
    dnRouter(cfg-system-dns)# server priority 3 ip-address 12.33.16.22
    dnRouter(cfg-system-dns-server)# vrf non-default-vrf


**Removing Configuration**

To revert the VRF to default value:
::

    dnRouter(cfg-system-dns-server)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## dns/source-interface.rst

system dns source-interface
---------------------------

**Minimum user role:** operator

By default, packets sent to a remote DNS server use the IP address of the configured system in-band-management source-interface in the DNS messages. To change the source IP address:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system dns

**Note**

- If you do not configure a DNS source interface, the system in-band-management source-interface will be used. If you do not have an system in-band-management source-interface configured, DNS messages will not be generated.

- The source address type will be set according to the IP address of the destination server.

**Parameter table**

+------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+
| Parameter        | Description                                                    | Range                                                                            | Default                                    |
+==================+================================================================+==================================================================================+============================================+
| source-interface | The source interface whose IP address is used for DNS messages | Any interface in the default VRF with an IPv4/IPv6 address, except GRE tunnel    | system in-band-management source-interface |
|                  |                                                                | interfaces                                                                       |                                            |
+------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dns
    dnRouter(cfg-system-dns)# source-interface bundle-1


**Removing Configuration**

To revert source-interface to default:
::

    dnRouter(cfg-system-dns)# no source-interface

**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 11.1    | Command introduced                    |
+---------+---------------------------------------+
| 15.1    | Added support for IPv6 address format |
+---------+---------------------------------------+

---

## dynamic-fabric/admin-state.rst

system dynamic-fabric admin-state
---------------------------------

**Minimum user role:** operator


To enable or disable dynamic fabric connectivity of the system:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system dynamic-fabric

**Note**

- The feature is supported only on Jericho3 and Ramon3 based NC-AI clusters.
- Enabling this feature affects traffic, will require the user to reconfirm the change and might cause traffic loss.
- When dynamic fabric is enabled, the cluster fabric will be configured according to the actual fabric interface connectivity, and part of the system fabric connectivity health indications will not be available.
- When dynamic fabric is disabled, the cluster fabric will be configured according to predefined fabric interface connectivity matrix per cluster type.

**Parameter table**

+-------------+-----------------------------------------------------------+--------------+----------+
| Parameter   | Description                                               | Range        | Default  |
+=============+===========================================================+==============+==========+
| admin-state | The administrative state of dynamic fabric configuration. | | enabled    | disabled |
|             |                                                           | | disabled   |          |
+-------------+-----------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dynamic-fabric
    dnRouter(cfg-system-dyn-fab)# admin-state enabled
    dnRouter(cfg-system-dyn-fab)# commit
    Notice: Continuing with the commit will cause the following:
    The system will switch to using dynamic fabric interface connectivity losing part of the systems fabric health indications. Enabling this feature might cause traffic loss.
    Enter yes to continue with commit, no to abort commit (yes/no) [no]
    dnRouter(cfg-system-dyn-fab)# admin-state disabled
    dnRouter(cfg-system-dyn-fab)# commit
    Notice: Continuing with the commit will cause the following:
    The system will switch to using predefined fabric interface connectivity matrix for fabric connectivity configuration and system health indications.
    Enter yes to continue with commit, no to abort commit (yes/no) [no]
    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dynamic-fabric
    dnRouter(cfg-system-dyn-fab)# admin-state enabled
    Error: Dynamic fabric admin state cannot be enabled on this cluster type.


**Removing Configuration**

To revert dynamic fabric admin state to default:
::

    dnRouter(cfg-system-dyn-fab)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## dynamic-fabric/dynamic-fabric.rst

system dynamic-fabric
---------------------

**Minimum user role:** operator


To configure dynamic fabric parameters:

**Command syntax: dynamic-fabric**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.
- Command is not relevant for standalone systems.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# dynamic-fabric
    dnRouter(cfg-system-dyn-fab)#


**Removing Configuration**

To revert dynamic-fabric parameters to default:
::

    dnRouter(cfg-system)# no dynamic-fabric

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-manager.rst

system event-manager
--------------------

**Minimum user role:** admin

To enter the event-manager configuration level:

**Command syntax: event-manager**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Up to five policies, from all types, can be in admin-state "enabled" simultaneously

- Notice the change in prompt

.. - event-policy - policy that will be executed upon matching trigger of registered system event.

    - periodic-policy - a recurrent policy according to the scheduled configuration, with limited execution time.

    - generic-policy - policy that will be executed only once and unlimited in execution time.

    - up-to 5 policies can be in admin-state "enabled" at the same time, from all policy types.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)#


**Removing Configuration**

To remove the event-manager configuration
::

    dnRouter(cfg-system-event-manager)# no event-manager

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/admin-state.rst

system event-manager event-policy admin-state
---------------------------------------------

**Minimum user role:** admin

Use this command to configure the policy admin-state. An enabled admin-state activates the policy
and the operational-state becomes "active". Disabled stops any policy execution, clears the
policy counters and the operational-state becomes "inactive". If a policy is enabled, but the
policys username or script-name weren't configured, the policy operational-state remains
"inactive" and the policy won't be executed.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy

**Note**

- Notice the change in prompt.

- This change takes effect immediately.

..  - Changing admin-state to enabled will activate the policy and policy operational-state will be active.

    - Changing admin-state to disabled, will terminate policy execution, clear policy counters
    and set policy operational-state to inactive

    - no command resets policy admin-state to default, will take effect immediately.

    - In case policy is enabled, but policy username or/and policy script-name weren't
    configured, the policy oper-state will be "inactive" and the policy won't be executed. same
    behavior is regarding deletion of username or script-name during policy execution will set
    the policy to "inactive" oper-state on next execution.

**Parameter table**

+-------------+------------------------------+--------------+----------+
| Parameter   | Description                  | Range        | Default  |
+=============+==============================+==============+==========+
| admin-state | Sets the policy admin-state. | | enabled    | disabled |
|             |                              | | disabled   |          |
+-------------+------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# admin-state enabled
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

To revert the admin-state to default:
::

    dnRouter(cfg-event-policy-test)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/event-policy.rst

system event-manager event-policy
---------------------------------

**Minimum user role:** admin

The event-policy monitors specific system events and performs configuration changes and operational request commands when the monitored system event is generated. For example, when a specific event is triggered, the device is rebooted. Once an event policy has completed, it cannot be triggered again for 30 seconds. This policy is executed based on a matching trigger of a registered system event.


**Command syntax: event-policy [policy-name]**

**Command mode:** config

**Hierarchies**

- system event-manager

**Note**

- Notice the change in prompt

.. - event-policy - is a policy that will be executed upon matching trigger of registered system event.

    - policy-name must be unique per policy type.

    - no command deletes the policy configuration and the log files generated by the policy.

**Parameter table**

+-------------+---------------------------------------------------+--------+---------+
| Parameter   | Description                                       | Range  | Default |
+=============+===================================================+========+=========+
| policy-name | The name of the policy                            | string | \-      |
|             | The policy-name must be unique per policy type.   |        |         |
+-------------+---------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

To delete the policy configuration and the log files generated by the policy:
::

    dnRouter(cfg-system-event-manager)# no event-policy test

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/event/attribute.rst

system event-manager event-policy event attribute
-------------------------------------------------

**Minimum user role:** admin

Use this command to configure the event attributes and matching regex, which will trigger the policy.

**Command syntax: attribute [event-attribute]** match [regex]

**Command mode:** config

**Hierarchies**

- system event-manager event-policy event

**Note**

- Notice the change in prompt.

.. - no command removes the attribute and match configuration.

**Parameter table**

+-----------------+-----------------------------------------------------+--------------------+---------+
| Parameter       | Description                                         | Range              | Default |
+=================+=====================================================+====================+=========+
| event-attribute | A variable name to match in the system event        | string             | \-      |
+-----------------+-----------------------------------------------------+--------------------+---------+
| regex           | A regular expression to match the attribute pattern | regular expression | \-      |
+-----------------+-----------------------------------------------------+--------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)# attribute new-state match .*down.*
    dnRouter(cfg-policy-test-event)#


**Removing Configuration**

To remove the attribute and match configuration.
::

    dnRouter(cfg-test-system-event)# no attribute

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/event/event.rst

system event-manager event-policy event
---------------------------------------

**Minimum user role:** admin

Use this command to configure the attributes and conditions which triggers the policy. Up to five
scripts can run simultaneously.

**Command syntax: event [event-name]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy

**Note**

- A policy script can be used by several named policies as long as the system-events are different.

- Notice the change in prompt.

..  - *trigger-condition -* ON, once the event received and the event-count reached.

    - *time-interval -* the duration of time the event-count needs to be reached in order to
    execute the policy. "0" is used as infinite value.

    - no command removes a specific event entry, upon removal all running policies will continue
    to run until termination.

    Validation:

    - Policy-script can be used by several policy-names as long as the system-events are different.

    - Only up to 5 policies can be in admin-state "enabled" in the same time.

**Parameter table**

+------------+----------------------------------------------------+--------------------------+---------+
| Parameter  | Description                                        | Range                    | Default |
+============+====================================================+==========================+=========+
| event-name | The system event name the script needs to register | string (lower case only) | \-      |
+------------+----------------------------------------------------+--------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)#


**Removing Configuration**

To remove a specific event entry:
::

    dnRouter(cfg-event-policy-test)# no event if_link_state_change_down

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/event/time-interval.rst

system event-manager event-policy event time-interval
-----------------------------------------------------

**Minimum user role:** admin

Use this command to configure the time frame within which the registered system-events must get
to the triggered condition.

**Command syntax: time-interval [interval]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy event

**Note**

- Notice the change in prompt.

..  - *time-interval -* the duration of time the event-count needs to be reached in order to execute the policy. "0" is used as infinite value.

    - no command returns to default value.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter | Description                                                                      | Range        | Default |
+===========+==================================================================================+==============+=========+
| interval  | The duration of time the event-count must be reached for the policy to be        | 0, 60-604800 | 0       |
|           | executed.                                                                        |              |         |
|           | "0" is used as infinite value                                                    |              |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)# time-interval 300
    dnRouter(cfg-policy-test-event)#


**Removing Configuration**

To return to the default value
::

    dnRouter(cfg-policy-test-event)# no time-interval

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/event/trigger-condition.rst

system event-manager event-policy event trigger-condition on
------------------------------------------------------------

**Minimum user role:** admin

Use this to configure the event attributes and conditions that will trigger the policy.

**Command syntax: trigger-condition on [event-count]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy event

**Note**

- notice the change in prompt

..  - *trigger-condition -* ON, once the event received and the event-count reached.

    - no command returns to default value.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter   | Description                                                                      | Range | Default |
+=============+==================================================================================+=======+=========+
| event-count | The number of matching system events that must be received to trigger the        | 1-100 | 1       |
|             | policy.                                                                          |       |         |
+-------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)# trigger-condition on 10
    dnRouter(cfg-policy-test-event)#


**Removing Configuration**

To return to the default value
::

    dnRouter(cfg-policy-test-event)# no trigger-condition

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/policy-iteration.rst

system event-manager event-policy policy-iteration
--------------------------------------------------

**Minimum user role:** admin

Use this command to configure the number of times the policy will be executed.

**Command syntax: policy-iteration [iteration]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy

**Note**

- Notice the change in prompt.

.. - Once the policy executed the policy-iteration number of times the policy will appear in operational-state "inactive".

    - a change in the policy-iteration configuration during policy execution will take effect on the next policy execution.

    - "0" is used as infinite value.

    - no command resets policy-iteration to default, will take effect on next policy execution.

**Parameter table**

+-----------+----------------------------------------------------+--------+---------+
| Parameter | Description                                        | Range  | Default |
+===========+====================================================+========+=========+
| iteration | The number of times the policy will be executed.   | 0-1000 | 0       |
|           | "0" is an infinite value                           |        |         |
+-----------+----------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-event-policy-test)# policy-iteration 0
    dnRouter(cfg-event-policy-test)#
    dnRouter(cfg-event-policy-test)# policy-iteration 20
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

To revert the policy-iteration to default
::

    dnRouter(cfg-event-policy-test)# no policy-iteration

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/script-maxruntime.rst

system event-manager event-policy script-maxruntime
---------------------------------------------------

**Minimum user role:** admin

Use this command to configure the maximum time can run. Once the maximum time is reached the
policy is terminated. During policy execution the same policy cannot be run.

**Command syntax: script-maxruntime [runtime]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy

**Note**

- Notice the change in prompt

.. - a change in the script-maxruntume configuration during policy execution will take effect on the next policy execution.

    - once script-maxruntime reached, the policy will be terminated even if it still in the middle of the execution.

    - during policy execution no another execution will be initiated of the same policy rule (policy-name)

    - no command resets script-maxruntime to default, will take effect on next policy execution.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| runtime   | The maximum time a policy can run before it is terminated.                       | 5-600 | 30      |
|           | Any change in the script-maxruntume configuration whilst a policy is running     |       |         |
|           | take effect on the next policy execution.                                        |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# script-maxruntime 300


**Removing Configuration**

To revert the script-maxruntime to default.
::

    dnRouter(cfg-event-policy-test)# no script-maxruntime

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/script-name.rst

system event-manager event-policy script-name
---------------------------------------------

**Minimum user role:** admin

Use this command to configure the name of the script-name to be executed. If the script is
deleted, the policy operational state becomes "inactive". Once an event policy has completed, it
cannot be triggered again for 30 seconds.

**Command syntax: script-name [script-name]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy

**Note**

- Notice the change in prompt

..  - event-policy scripts shall be located under /event-manager/event-policy/scripts dir.

    - Once policy terminated a 30 seconds suspension will be issued before next policy execution.

    - there is no "no command", policy-script can't be removed.

    - "script-name" is a mandatory parameter and commit will fail if no script-name was configured for policy.

    - In case of script-name file deletion, policy operational-state will become inactive.

    Validation:

    - script-name can be used by several policy-names as long as the system-events are different.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                                      | Range  | Default |
+=============+==================================================================================+========+=========+
| script-name | The name of the script-file which must be located in the                         | string | \-      |
|             | /event-manager/event-policy/scripts directory.                                   |        |         |
|             | This is a mandatory parameter. The commit will fail if no script name has been   |        |         |
|             | configured.                                                                      |        |         |
+-------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# script-name event_policy_example.py
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

there is no 'no command', script-name can't be removed.
::

    no

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/event-policy/user.rst

system event-manager event-policy user
--------------------------------------

**Minimum user role:** admin

Use the command to configure a user from the local admin user group to execute the script (AAA
users are not supported).

**Command syntax: user [user-name]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy

**Note**

- Notice the change in prompt

..  - "user-name" is a mandatory parameter and commit will fail if no user-name was configured for policy.

    - user-name must be from local admin user-group, AAA users are not supported, in case user-name role will be changed to other than admin, the policy will become "inactive" on the next execution.

    - user from admin group user can configure "user-name" from any local group except techsupport group, the script will be executed according to user-name role.

    - there is no "no command", user-name can't be removed.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+------------------+---------+
| Parameter | Description                                                                      | Range            | Default |
+===========+==================================================================================+==================+=========+
| user-name | The name of the user from the local admin user group.                            | | string         | \-      |
|           | If the users role changes from admin, the policy will become "inactive" at the   | | length 1-255   |         |
|           | next execution.                                                                  |                  |         |
+-----------+----------------------------------------------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# user dnroot


**Removing Configuration**

there is no 'no command', user-name can't be removed.
::

    no

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/generic-policy/admin-state.rst

system event-manager generic-policy admin-state
-----------------------------------------------

**Minimum user role:** admin

Use this command to configure the policy admin-state. An enabled admin-state activates the policy and the operational-state becomes "active". Disabled state stops any policy execution, clears the policy counters and the operational-state becomes "inactive". If a policy is enabled, but the policy's user name or script-name weren't configured, the policy operational-state remains "inactive" and the policy won't be executed.


**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system event-manager generic-policy

**Note**

- Notice the change in prompt

- This change takes effect immediately.

..  - Changing admin-state to enabled will activate the policy and policy operational-state will be active.

    - Changing admin-state to disabled, will terminate policy execution, clear policy counters
    and set policy operational-state to inactive

    - "no" command resets policy admin-state to default; will take effect immediately.

    - In case policy is enabled, but policy username or/and policy script-name weren't configured,
    the policy oper-state will be "inactive" and the policy won't be executed. same behavior is
    regarding deletion of username or script-name during policy execution will set the policy to
    "inactive" oper-state on next execution.

**Parameter table**

+-------------+------------------------------+--------------+----------+
| Parameter   | Description                  | Range        | Default  |
+=============+==============================+==============+==========+
| admin-state | Sets the policy admin-state. | | enabled    | disabled |
|             |                              | | disabled   |          |
+-------------+------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# generic-policy test
    dnRouter(cfg-generic-policy-test)# admin-state enabled
    dnRouter(cfg-generic-policy-test)#


**Removing Configuration**

To revert the admin-state to default:
::

    dnRouter(cfg-generic-policy-test)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/generic-policy/generic-policy.rst

system event-manager generic-policy
-----------------------------------

**Minimum user role:** admin

The generic-policy is a one-time execution policy that has an unlimited execution time. Other
policies are limited in their execution time by the max-runtime variable, which specifies the
maximum period of time a script can run. The generic-policy is executed once, when the
admin-state is set to "enabled".

To configure the generic-policy name:

**Command syntax: generic-policy [policy-name]**

**Command mode:** config

**Hierarchies**

- system event-manager

**Note**

- Notice the change in prompt

.. - generic policy is a policy rule that is executed one time upon configuration update of admin-state to enable and is terminated once the script logic decides to exit.

    - policy-name must be unique per policy type.

    - "no" command deletes the policy configuration and the log files generated by the policy.

**Parameter table**

+-------------+---------------------------------------------------+--------+---------+
| Parameter   | Description                                       | Range  | Default |
+=============+===================================================+========+=========+
| policy-name | The name of the policy.                           | string | \-      |
|             | The policy-name must be unique per policy type.   |        |         |
+-------------+---------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# generic-policy test
    dnRouter(cfg-generic-policy-test)#


**Removing Configuration**

To delete the policy configuration and the log files generated by the policy:
::

    dnRouter(cfg-system-event-manage)# no generic-policy test

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/generic-policy/script-name.rst

system event-manager generic-policy script-name
-----------------------------------------------

**Minimum user role:** admin

Use this command to configure the script-name to be executed. If the script is deleted, the policy
operational state becomes "inactive". Once a generic policy has completed, it cannot be triggered
again for 30 seconds.

**Command syntax: script-name [script-name]**

**Command mode:** config

**Hierarchies**

- system event-manager generic-policy

**Note**

- Notice the change in prompt.

..  - generic-policy scripts shall be located under /event-manager/generic-policy/scripts dir.

    - Each generic policy script shall be used only by one generic policy-name.
    - there is no "no command", script-name can't be removed.
    - "script-name" is a mandatory parameter and commit will fail if no script-name was configured
    for policy.
    - In case of script-name file deletion, policy operational-state will become inactive.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                                      | Range  | Default |
+=============+==================================================================================+========+=========+
| script-name | The name of the script-file which must be located in the                         | string | \-      |
|             | /event-manager/generic-policy/scripts directory.                                 |        |         |
|             | This is a mandatory parameter. The commit will fail if no script name has been   |        |         |
|             | configured.                                                                      |        |         |
+-------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# generic-policy test
    dnRouter(cfg-generic-policy-test)# script-name generic_policy_example.py
    dnRouter(cfg-generic-policy-test)#


**Removing Configuration**

there is no 'no command', script-name can't be removed.
::

    no

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/generic-policy/user.rst

system event-manager generic-policy user
----------------------------------------

**Minimum user role:** admin

Configure a user from the local admin user group to execute the script (AAA users are not supported).

**Command syntax: user [user-name]**

**Command mode:** config

**Hierarchies**

- system event-manager generic-policy

**Note**

- Notice the change in prompt.

..  - "user-name" is a mandatory parameter and commit will fail if no user-name was configured for policy.

    - user-name must be from local admin user-group, AAA users are not supported, in case user-name role
    will be changed to other than admin, the policy will become "inactive" on the next execution.

    - user from admin group user can configure "user-name" from any local group except techsupport group,
    the script will be executed according to user-name role.

    - there is no "no command", user-name can't be removed.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+------------------+---------+
| Parameter | Description                                                                      | Range            | Default |
+===========+==================================================================================+==================+=========+
| user-name | The name of the user from the local admin user group.                            | | string         | \-      |
|           | If the users role changes from admin, the policy will become "inactive" at the   | | length 1-255   |         |
|           | next execution.                                                                  |                  |         |
+-----------+----------------------------------------------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# generic-policy test
    dnRouter(cfg-generic-policy-test)# user dnroot


**Removing Configuration**

there is no 'no command', user-name can't be removed.
::

    no

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/admin-state.rst

system event-manager periodic-policy admin-state
------------------------------------------------

**Minimum user role:** admin

To configure the policy admin-state.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

- Changing the admin-state to disabled terminates policy execution, clears policy counters,

and sets policy operational-state to inactive.

- If a policy is enabled, but the policy username or/and policy script-name weren't configured,

the policy oper-state will be "inactive" and the policy won't be executed. This behaviour is

similar when a username or script-name is deleted. The policy execution is set to "inactive".

**Parameter table**

+-------------+-------------------------------+--------------+----------+
| Parameter   | Description                   | Range        | Default  |
+=============+===============================+==============+==========+
| admin-state | Enable or disable the policy. | | enabled    | disabled |
|             |                               | | disabled   |          |
+-------------+-------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)# admin-state enabled
    dnRouter(cfg-periodic-policy-test)#


**Removing Configuration**

To revert the admin-state to default:
::

    dnRouter(cfg-periodic-policy-test)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/periodic-policy.rst

system event-manager periodic-policy
------------------------------------

**Minimum user role:** admin

The periodic-policy performs scheduled tasks. For example, you can set a daily task of saving the
current running configuration. This policy is recurrent according to the scheduled configuration
and based on a limited execution period.

**Command syntax: periodic-policy [policy-name]**

**Command mode:** config

**Hierarchies**

- system event-manager

**Note**
- Notice the change in prompt

..  - policy-name must be unique per policy type.

    - no command deletes the policy configuration and the log files generated by the policy.

**Parameter table**

+-------------+---------------------------------------------------+--------+---------+
| Parameter   | Description                                       | Range  | Default |
+=============+===================================================+========+=========+
| policy-name | The name of the policy.                           | string | \-      |
|             | The policy-name must be unique per policy type.   |        |         |
+-------------+---------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)#


**Removing Configuration**

To delete the policy configuration and the log files generated by the policy:
::

    dnRouter(cfg-system-event-manager)# no periodic-policy test

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/policy-interval_periodic.rst

system event-manager periodic-policy policy-interval periodic
-------------------------------------------------------------

**Minimum user role:** admin

To configure the periodic policy reoccuring timeframe.

**Command syntax: policy-interval periodic [periodic-day] [periodic-time]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

- "policy-interval" is a mandatory configuration. The commit will fail if no policy-interval is configured.

- The periodic time interval must be larger than the script-maxruntime.

**Parameter table**

+---------------+---------------------------------------------------------+-------------------+---------+
| Parameter     | Description                                             | Range             | Default |
+===============+=========================================================+===================+=========+
| periodic-day  | The time interval days for the policy will be executed. | 0-29              | \-      |
+---------------+---------------------------------------------------------+-------------------+---------+
| periodic-time | The time interval upon the policy will be executed.     | 00:01:00-23:59:59 | \-      |
+---------------+---------------------------------------------------------+-------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)# policy-interval periodic 0 days 12:00:00


**Removing Configuration**

To remove the periodic interval configuration
::

    dnRouter(cfg-periodic-policy-test)# no policy-interval periodic

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/policy-interval_scheduled.rst

system event-manager periodic-policy policy-interval on-time every
------------------------------------------------------------------

**Minimum user role:** admin

To configure the periodic policy reoccuring timeframe.

**Command syntax: policy-interval on-time [on-time] every [every]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

- "policy-interval" is a mandatory configuration. The commit will fail if no policy-interval is configured.

- The periodic time interval must be larger than the script-maxruntime.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------------------+---------+
| Parameter | Description                                                                      | Range             | Default |
+===========+==================================================================================+===================+=========+
| on-time   | The time when on-time periodic policy will be executed                           | 00:00:00-23:59:59 | \-      |
+-----------+----------------------------------------------------------------------------------+-------------------+---------+
| every     | How rapidly the policy will be executed, every-day or every-week, related to     | | Mon             | \-      |
|           | on-time policy interval.                                                         | | Tue             |         |
|           |                                                                                  | | Wed             |         |
|           |                                                                                  | | Thu             |         |
|           |                                                                                  | | Fri             |         |
|           |                                                                                  | | Sat             |         |
|           |                                                                                  | | Sun             |         |
|           |                                                                                  | | Day             |         |
+-----------+----------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)# policy-interval on-time 14:54:03 every Sun


**Removing Configuration**

To remove the on-time interval configuration.
::

    dnRouter(cfg-periodic-policy-test)# no policy-interval on-time

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/policy-iteration.rst

system event-manager periodic-policy policy-iteration
-----------------------------------------------------

**Minimum user role:** admin

To configure the number of times a policy is executed.

**Command syntax: policy-iteration [iteration]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

.. -  Once the policy is executed the policy-iteration number of times the policy will appear in operational-state "inactive".

-  Any updates to the policy-iteration configuration during a policy execution are implemeted at the next policy execution.

.. - "0" is used as infinite value.

**Parameter table**

+-----------+-----------------------------------------------------+--------+---------+
| Parameter | Description                                         | Range  | Default |
+===========+=====================================================+========+=========+
| iteration | The maximum number of times a policy is executed.   | 0-1000 | 0       |
|           | Zero is used as an infinite value.                  |        |         |
+-----------+-----------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)#  policy-iteration 0
    dnRouter(cfg-periodic-policy-test)#
    dnRouter(cfg-periodic-policy-test)#  policy-iteration 20
    dnRouter(cfg-periodic-policy-test)#


**Removing Configuration**

To revert the policy-iteration to default
::

    dnRouter(cfg-periodic-policy-test)# no policy-iteration

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/script-maxruntime.rst

system event-manager periodic-policy script-maxruntime
------------------------------------------------------

**Minimum user role:** admin

To configure the policy execution max-runtime:

**Command syntax: script-maxruntime [script-maxruntime]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

- Any updates to the script-maxruntume configuration during a policy execution are implemeted at the next policy execution.

- Once the script-maxruntime value is reached, the policy is terminated even if it in the middle of an execution.

- During a policy execution no another execution is initiated with the same policy rule (policy-name)

.. -  script-maxruntime must be less than the policy-interval, otherwise the configuration will be rejected.

**Parameter table**

+-------------------+------------------------------------------------+-------+---------+
| Parameter         | Description                                    | Range | Default |
+===================+================================================+=======+=========+
| script-maxruntime | The maximum time before the policy is stopped. | 5-600 | 30      |
+-------------------+------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)# script-maxruntime 300


**Removing Configuration**

To revert the script-maxruntime to default.
::

    dnRouter(cfg-periodic-policy-test)# no script-maxruntime

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/script-name.rst

system event-manager periodic-policy script-name
------------------------------------------------

**Minimum user role:** admin

Use this command to configure the name of the script-name to be executed. If the script is
deleted, the policy operational state becomes "inactive". Once an event policy has completed,
it cannot be triggered again for 30 seconds.

**Command syntax: script-name [script-name]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

- Notice the change in prompt

..  - periodic-policy scripts shall be located under /event-manager/periodic-policy/scripts dir.

    - there is no "no command", script-name can't be removed.

    - "script-name" is a mandatory parameter and commit will fail if no script-name was configured for policy.

    - In case of script-name file deletion, policy operational-state will become inactive.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                                      | Range  | Default |
+=============+==================================================================================+========+=========+
| script-name | The name of the script-file which must be located in the                         | string | \-      |
|             | /event-manager/periodic-policy/scripts directory.                                |        |         |
|             | This is a mandatory parameter. The commit will fail if no script name has been   |        |         |
|             | configured.                                                                      |        |         |
+-------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)# script-name periodic_policy_example.py
    dnRouter(cfg-periodic-policy-test)#


**Removing Configuration**

there is no 'no command', script-name can't be removed.
::

    no

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## event-manager/periodic-policy/user.rst

system event-manager periodic-policy user
-----------------------------------------

**Minimum user role:** admin

You can configure a user-name and role to execute the policy commands. The user-name must be from
a local admin user group (AAA users are not supported). If the user-name role is changed to any
other than admin, the policy will become "inactive" on the next execution.

**Command syntax: user [user-name]**

**Command mode:** config

**Hierarchies**

- system event-manager periodic-policy

**Note**

- Notice the change in prompt

..  - "user-name" is a mandatory parameter and commit will fail if no user-name was configured for policy.

    - user-name must be from local admin user-group, AAA users are not supported, in case user-name role will be changed to other than admin, the policy will become "inactive" on the next execution.

    - user from admin group user can configure "user-name" from any local group except techsupport group, the script will be executed according to user-name role.

    - there is no "no command", user-name can't be removed.

**Parameter table**

+-----------+-----------------------+------------------+---------+
| Parameter | Description           | Range            | Default |
+===========+=======================+==================+=========+
| user-name | The name of the user. | | string         | \-      |
|           |                       | | length 1-255   |         |
+-----------+-----------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# periodic-policy test
    dnRouter(cfg-periodic-policy-test)# user dnroot


**Removing Configuration**

there is no 'no command', user-name can't be removed.
::

    no

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## fabric-discovery-admin-state.rst

system fabric-discovery-admin-state
-----------------------------------

**Minimum user role:** operator

Fabric discovery feature adds user configured parameters as system name, and fabric interfaces description to the backplane, and backplane reachability data maintained by default by the system as ncX-{id} and interfaces names.

To configure the admin state of fabric discovery feature:

**Command syntax: fabric-discovery-admin-state [fabric-discovery-admin-state]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- Fabric discovery feature is available only on J3-AI based clusters

**Parameter table**

+------------------------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter                    | Description                                                                      | Range        | Default  |
+==============================+==================================================================================+==============+==========+
| fabric-discovery-admin-state | The administrative state of the fabric discovery capability between NCPs and     | | enabled    | disabled |
|                              | NCFs.                                                                            | | disabled   |          |
+------------------------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# fabric-discovery-admin-state enabled
    dnRouter(cfg-system)#
    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# fabric-discovery-admin-state disabled
    dnRouter(cfg-system)#
    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# fabric-discovery-admin-state Enabled
    {'Error': 'Command not supported by current system'}


**Removing Configuration**

To revert the system fabric-discovery-admin-state to its default value:
::

    dnRouter(cfg-system)# no fabric-discovery-admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## ftp/ftp.rst

system ftp
----------

**Minimum user role:** operator

Use the following command to configure FTP server and client functionality:

**Command syntax: ftp**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.

.. - no command returns the ftp config to default.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)#


**Removing Configuration**

Removes ftp configuration:
::

    dnRouter(cfg-system-ftp)# no ftp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ftp/server/admin-state.rst

system ftp server admin-state
-----------------------------

**Minimum user role:** operator

Use the following command to enable/disable configuration for FTP server admin-state:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ftp server

**Note**
- The 'no admin-state' returns the state to default.

- Active sessions are immediately disconnected upon configuration of 'disabled'.

- Only new sessions can not be established.

The FTP server supports connections over the following interfaces:

- physical

- bundle

- sub-interface (physical.vlan, bundle.vlan)

- loopback

- Support FTP for default VRF only.

.. - No command returns the state to default.

  - Active sessions are immediately disconnected upon configuration of "disabled".

  - Only new sessions can not be established

  - FTP server supports connections on the following interfaces

    - physical

    - bundle

    - sub-interface(physical.vlan, bundle.vlan)

    - loopback

    - Support FTP for default VRF only

**Parameter table**

+-------------+------------------------------------------------+--------------+---------+
| Parameter   | Description                                    | Range        | Default |
+=============+================================================+==============+=========+
| admin-state | Set the administrative state of the FTP server | | enabled    | enabled |
|             |                                                | | disabled   |         |
+-------------+------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)# admin-state disable


**Removing Configuration**

::

    dnRouter(cfg-system-ftp-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ftp/server/class-of-service.rst

system ftp server class-of-service
----------------------------------

**Minimum user role:** operator

Use the following command to configure the system class-of-service for FTP packets generated by the FTP server on DNOS:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system ftp server

**Note**
- system ftp


.. **Note**

  - Value is the dscp value on the ip header

**Parameter table**

+------------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                                      | Range | Default |
+==================+==================================================================================+=======+=========+
| class-of-service | Configure the system class-of-service for FTP packets (the value is the dscp     | 0-56  | 16      |
|                  | value on the IP header)                                                          |       |         |
+------------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)# class-of-service 54


**Removing Configuration**

To remove class-of-service:
::

    dnRouter(cfg-system-ftp-server)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ftp/server/data-connection-timeout.rst

system ftp server data-connection-timeout
-----------------------------------------

**Minimum user role:** operator

Use the following command to configure the timeout (in minutes), which is the maximum amount of time permitted for data transfers to stall without progress:

**Command syntax: data-connection-timeout [data-connection-timeout]**

**Command mode:** config

**Hierarchies**

- system ftp server

**Note**
- The 'no data-connection-timeout' returns the number to its default value.

.. - The configured value is the minimum amount of time data connection is allowed before being disconnected. The maximum amount of time will not exceed twice the configured value for data-connection-timeout.

  - no command returns the number of data-connection-timeout to default

**Parameter table**

+-------------------------+------------------------------------+-------+---------+
| Parameter               | Description                        | Range | Default |
+=========================+====================================+=======+=========+
| data-connection-timeout | Configure the timeout (in minutes) | 0-90  | 5       |
+-------------------------+------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)# data-connection-timeout 30


**Removing Configuration**

To remove data-connection-timeout:
::

    dnRouter(cfg-system-ftp-server)# no data-connection-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ftp/server/idle-session-timeout.rst

system ftp server idle-session-timeout
--------------------------------------

**Minimum user role:** operator

Use the following command to configure the timeout (in minutes), which is the maximum amount of time permitted for a remote client to spend between FTP commands:

**Command syntax: idle-session-timeout [idle-session-timeout]**

**Command mode:** config

**Hierarchies**

- system ftp server

**Note**
- The 'no idle-session-timeout' returns the number to its default value.

.. - no command returns the number of idle-session-timeout to default

**Parameter table**

+----------------------+------------------------------------+-------+---------+
| Parameter            | Description                        | Range | Default |
+======================+====================================+=======+=========+
| idle-session-timeout | Configure the timeout (in minutes) | 0-90  | 30      |
+----------------------+------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)# idle-session-timeout 30


**Removing Configuration**

To remove idle-session-timeout:
::

    dnRouter(cfg-system-ftp-server)# no idle-session-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ftp/server/max-sessions.rst

system ftp server max-sessions
------------------------------

**Minimum user role:** operator

Use the following command to configure maximum number of concurrent FTP sessions to FTP server:

**Command syntax: max-sessions [max-sessions]**

**Command mode:** config

**Hierarchies**

- system ftp server

**Note**
- The 'no max-sessions' returns the number of maximum sessions to its default value.

.. - no command returns the number of maximum sessions to default

**Parameter table**

+--------------+---------------------------------------------------------+-------+---------+
| Parameter    | Description                                             | Range | Default |
+==============+=========================================================+=======+=========+
| max-sessions | Configure the maximum number of concurrent FTP sessions | 1-32  | 10      |
+--------------+---------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)# max-sessions 5


**Removing Configuration**

To remove max-sessions:
::

    dnRouter(cfg-system-ftp-server)# no max-sessions

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ftp/server/server.rst

system ftp server
-----------------

**Minimum user role:** operator

Use the following command to configure FTP server parameters:

**Command syntax: server**

**Command mode:** config

**Hierarchies**

- system ftp

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)#


**Removing Configuration**

Removes ftp server configuration:
::

    dnRouter(cfg-system-ftp-server)# no ftp server

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## ftp/server/vrf/client-list_type.rst

system ftp server vrf client-list type
--------------------------------------

**Minimum user role:** operator

Use the following command to configure the black or white list of incoming IP addresses per VRF for ftp server:

**Command syntax: client-list type [list-type]**

**Command mode:** config

**Hierarchies**

- system ftp server vrf

**Note**
- If the client-list type is set to 'allow', the client-list must not be empty.

- The 'no client-list type' returns the list type to its default value.

.. - no command return the list type to its default value

  - if client-list type is set to 'allow', client-list must not be empty

**Parameter table**

+-----------+--------------------------------------------+-----------+---------+
| Parameter | Description                                | Range     | Default |
+===========+============================================+===========+=========+
| list-type | The type of list for incoming IP addresses | | allow   | deny    |
|           |                                            | | deny    |         |
+-----------+--------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server vrf default
    dnRouter(cfg-system-ftp-server)# client-list type allow


**Removing Configuration**

To revert the list type to its default value:
::

    dnRouter(cfg-system-ftp-server)# no client-list type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## ftp/server/vrf/client-list.rst

system ftp server vrf client-list
---------------------------------

**Minimum user role:** operator

Use the following command to configure the black or white list of incoming IP addresses per VRF for ftp server:

**Command syntax: client-list [ip-address]** [, ip-address, ip-address]

**Command mode:** config

**Hierarchies**

- system ftp server vrf

**Note**
- If the client-list type is set to 'allow', the client-list must not be empty.

- Supports up to 1000 clients (for both addresses together)

- The 'no client-list ' without a value removes all ip addresses from the list.

- The 'no client-list ' with a value removes the specified ip address from the list.

.. - no command without value removes all the IP addresses from the list.

  - no command with value removes the specified IP addresses from the list.

  Scale validation:

  -  up to 1000 clients (for both of addresses together) per vrf

  -  if client-list type is set to "allow", client-list must not be empty

**Parameter table**

+------------+----------------------------------------------------------------------------------+----------------+---------+
| Parameter  | Description                                                                      | Range          | Default |
+============+==================================================================================+================+=========+
| ip-address | Configure incoming IP addresses that will or will not be permitted access to FTP | | A.B.C.D/x    | \-      |
|            | server sessions.                                                                 | | X:X::X:X/x   |         |
+------------+----------------------------------------------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)# client-list 200.10.10.6/32
    dnRouter(cfg-system-ftp-server)# client-list 2001:ab12::1/128
    dnRouter(cfg-system-ftp-server)# client-list 50.1.22.0/24
    dnRouter(cfg-system-ftp-server)# client-list 2001:db8:2222::/48


**Removing Configuration**

To remove IP address(es) from the list:
::

    dnRouter(cfg-system-ftp-server)# no client-list 2001:ab12::1/128

dnRouter(cfg-system-ftp-server)# no client-list

**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 11.6    | Command introduced                    |
+---------+---------------------------------------+
| 13.1    | Moved the command under VRF hierarchy |
+---------+---------------------------------------+

---

## ftp/server/vrf/vrf.rst

system ftp server vrf
---------------------

**Minimum user role:** operator

To set FTP client-list attachment per VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system ftp server

**Note**
- Notice the change in prompt

.. - vrf definition level is introduced for attaching client-list.

  - vrf "default" represents the in-band management, while vrf "mgmt0" represents the out-of-band management.

  - no command deletes the configuration under the specific vrf.

**Parameter table**

+-----------+------------------------------------------------------------------------------+-------------------------+---------+
| Parameter | Description                                                                  | Range                   | Default |
+===========+==============================================================================+=========================+=========+
| vrf-name  | Allows to define separate FTP client-lists per VRF (in-band and out-of-band) | | default - in-band     | \-      |
|           |                                                                              | | mgmt0 - out-of-band   |         |
+-----------+------------------------------------------------------------------------------+-------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ftp
    dnRouter(cfg-system-ftp)# server
    dnRouter(cfg-system-ftp-server)#
    dnRouter(cfg-system-ftp-server)#  vrf default
    dnRouter(cfg-ftp-server-vrf)# !
    dnRouter(cfg-system-ftp-server)#
    dnRouter(cfg-system-ftp-server)# vrf mgmt0
    dnRouter(cfg-ftp-server-vrf)# !
    dnRouter(cfg-system-ftp-server)#


**Removing Configuration**

To delete the configuration under a specific vrf:
::

    dnRouter(cfg-system-ftp-server)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## grpc/class-of-service.rst

system grpc class-of-service
----------------------------

**Minimum user role:** operator

Set the DSCP values for DNOS gRPC:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system grpc

**Parameter table**

+------------------+-------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                 | Range | Default |
+==================+=============================================================+=======+=========+
| class-of-service | This parameter specifies the dscp of generated gRPC packets | 0-56  | 16      |
+------------------+-------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# class-of-service 32


**Removing Configuration**

To revert DSCP to default:
::

    dnRouter(cfg-system-grpc)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## grpc/grpc.rst

system grpc
-----------

**Minimum user role:** operator

RPC-based telemetry streaming allows to export performance monitor counters and operational state parameters in a flexible and scalable way. Unlike traditional PM collection methods such as SNMP walk, gRPC based telemetry uses push method for delivering PM data from the router to the PM collector.

The gRPC network management interface (gNMI) allows gRPC-based telemetry collectors to manage gRPC-based telemetry exporters (e.g. routers). Specifically it allows the collector to specify which counters or operation items should be streamed by the router, at which mode (e.g. sampling, on-change) and with which DSCP marking.

To configure gRPC, enter gRPC configuration mode:

**Command syntax: grpc**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)#


**Removing Configuration**

To revert all gRPC configuration to default:
::

    dnRouter(cfg-system)# no grpc

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## grpc/max-sessions.rst

system grpc max-sessions
------------------------

**Minimum user role:** operator

To configure the maximum number of concurrent active gRPC sessions per system.

**Command syntax: max-sessions [max-sessions]**

**Command mode:** config

**Hierarchies**

- system grpc

**Note**

- If a client tries to connect which exceeds the maximum sessions configuration, the connection will be blocked.

- Decreasing the max-sessions configuration does not affect existing established sessions.

**Parameter table**

+--------------+--------------------------------------------------------------------+-------+---------+
| Parameter    | Description                                                        | Range | Default |
+==============+====================================================================+=======+=========+
| max-sessions | maximum number of supported concurrent gRPC sessions by the system | 1-20  | 20      |
+--------------+--------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# max-sessions 3


**Removing Configuration**

To revert max-sessions to default:
::

    dnRouter(cfg-system-grpc)# no max-sessions

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.3    | Command introduced |
+---------+--------------------+

---

## grpc/port.rst

system grpc port
----------------

**Minimum user role:** operator

To configure the port on which the server listens to new incoming connection requests.

**Command syntax: port [listen-port]**

**Command mode:** config

**Hierarchies**

- system grpc

**Note**

- Changing the port will disconnect all active connections and restart the gNMI service.

**Parameter table**

+-------------+---------------------------------+-------------+---------+
| Parameter   | Description                     | Range       | Default |
+=============+=================================+=============+=========+
| listen-port | listen port of gRPC/gNMI server | 9339, 50051 | 50051   |
+-------------+---------------------------------+-------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# port 9339


**Removing Configuration**

To revert port to default:
::

    dnRouter(cfg-system-grpc)# no port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## grpc/security/ca-certificate.rst

system grpc security tls ca-certificate
---------------------------------------

**Minimum user role:** operator

The transport layer security (TLS) protocol uses a digital certificate authenticating the identity of the certificate holder, and allowing to encrypt the communication using a public key.
If a TLS ca-certificate is not configured, gRPC will not be able to establish client authenticated sessions.
To configure a TLS ca-certificate for the gRPC server on the system:
1. Upload the client's CA certificate to the /security/cert folder. To see how, refer to \"request file download\".
2. Enable grpc tls client authentication.
3. Configure the CA certificate to use gRPC TLS client authentication:

**Command syntax: tls ca-certificate [ca-certificate]**

**Command mode:** config

**Hierarchies**

- system grpc security

**Note**

- gRPC TLS cannot support client authentication without ca-certificate. If TLS ca-certificate is not configured, gRPC will not authenticate the client on session establishment.

**Parameter table**

+----------------+----------------------------------------------------------------------------------+---------------------------+---------+
| Parameter      | Description                                                                      | Range                     | Default |
+================+==================================================================================+===========================+=========+
| ca-certificate | name of the CA certificate file stored in /security/cert/. If NONE value is set, | Any loaded ca-certificate | none    |
|                | gRPC session will be established without TLS client authentication               |                           |         |
+----------------+----------------------------------------------------------------------------------+---------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# security
    dnRouter(cfg-system-grpc-sec)# tls ca-certificate ca_cert.crt


**Removing Configuration**

To remove CA certificate for gRPC sessions:
::

    dnRouter(cfg-system-grpc-sec)# no tls ca-certificate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## grpc/security/client-authentication.rst

system grpc security tls client-authentication
----------------------------------------------

**Minimum user role:** operator

Configure gRPC TLS client authentication mode.
Three configuration options are available:
- Enabled         - gRPC TLS client certificate must be provided by the client for authentication during session establishment.
- Disabled        - gRPC TLS client certificate authentication is not performed during session establishment.
- Verify-if-given - gRPC TLS client certificate authentication is not mandatory and will be performed only when the client provides a certificate during session establishment.


**Command syntax: tls client-authentication [client-authentication]**

**Command mode:** config

**Hierarchies**

- system grpc security

**Note**

- Changing the client-authentication mode will disconnect all active connections and restart the grpc service.

**Parameter table**

+-----------------------+--------------------------------------------------+---------------------+----------+
| Parameter             | Description                                      | Range               | Default  |
+=======================+==================================================+=====================+==========+
| client-authentication | gRPC client authentication configuration options | | enabled           | disabled |
|                       |                                                  | | disabled          |          |
|                       |                                                  | | verify-if-given   |          |
+-----------------------+--------------------------------------------------+---------------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# security
    dnRouter(cfg-system-grpc-sec)# tls client-authentication enabled


**Removing Configuration**

To revert to the default client-authentication state:
::

    dnRouter(cfg-system-grpc-sec)# no client-authentication

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## grpc/security/disable-ciphers.rst

system grpc security tls disable-ciphers
----------------------------------------

**Minimum user role:** operator

Disable specific grpc cipher algorithms.

**Command syntax: tls disable-ciphers [disabled-ciphers]** [, disabled-ciphers, disabled-ciphers]

**Command mode:** config

**Hierarchies**

- system grpc security

**Note**

- The no command returns the ciphers list default.

- Changing the ciphers list will disconnect all active connections and restart the grpc service.

**Parameter table**

+------------------+-------------------------------+---------------------------------------------------+---------+
| Parameter        | Description                   | Range                                             | Default |
+==================+===============================+===================================================+=========+
| disabled-ciphers | List of disabled gprc ciphers | | TLS_AES_128_GCM_SHA256                          | \-      |
|                  |                               | | TLS_AES_256_GCM_SHA384                          |         |
|                  |                               | | TLS_CHACHA20_POLY1305_SHA256                    |         |
|                  |                               | | TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256         |         |
|                  |                               | | TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384         |         |
|                  |                               | | TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256           |         |
|                  |                               | | TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384           |         |
|                  |                               | | TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256     |         |
|                  |                               | | TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256   |         |
+------------------+-------------------------------+---------------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# security
    dnRouter(cfg-system-grpc-sec)# tls disable-ciphers TLS_AES_128_GCM_SHA256
    dnRouter# configure
    dev-dnRouter(cfg)# system grpc security tls disable-ciphers TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256


**Removing Configuration**

To revert the grpc server ciphers to default:
::

    dnRouter(cfg-system-grpc-sec)# no tls disable-ciphers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1.3  | Command introduced |
+---------+--------------------+

---

## grpc/security/security.rst

system grpc security
--------------------

**Minimum user role:** operator

The gRPC protocol supports transport layer security (TLS). The TLS protocol provides private and protected communication between client/server applications. Without TLS, gRPC will establish unsecured sessions.

To configure TLS parameters, enter gRPC security configuration mode:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system grpc

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# security


**Removing Configuration**

To disable TLS for gRPC sessions:
::

    dnRouter(cfg-system-grpc)# no security

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.1    | Command introduced |
+---------+--------------------+

---

## grpc/security/server-certificate.rst

system grpc security tls server-certificate
-------------------------------------------

**Minimum user role:** operator

The transport layer security (TLS) protocol uses a digital certificate authenticating the identity of the certificate holder and allowing to encrypt the communication using a public key.

If a TLS server-certificate is not configured, gRPC will establish unsecured sessions.

To configure a TLS server-certificate for the gRPC server on the system:

1. Upload the certificate to the /security/cert folder. To see how, refer to \"request file download\".

2. Configure the certificate to use for gRPC:

**Command syntax: tls server-certificate [server-certificate]**

**Command mode:** config

**Hierarchies**

- system grpc security

**Note**

- TLS cannot operate without server-certificate, if tls server-certificate is not configured, gRPC will establish an unsecured session (without TLS).

**Parameter table**

+--------------------+----------------------------------------------------------------------------------+-------------------------------+---------+
| Parameter          | Description                                                                      | Range                         | Default |
+====================+==================================================================================+===============================+=========+
| server-certificate | name of the certificate file stored in /security/cert/. If NONE value is set,    | Any loaded server-certificate | none    |
|                    | gRPC session will be established without TLS security functions                  |                               |         |
+--------------------+----------------------------------------------------------------------------------+-------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# security
    dnRouter(cfg-system-grpc-sec)# tls server-certificate my_cert.crt


**Removing Configuration**

To disable TLS for gRPC sessions:
::

    dnRouter(cfg-system-grpc-sec)# no tls server-certificate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.1    | Command introduced |
+---------+--------------------+

---

## grpc/version.rst

system grpc version
-------------------

**Minimum user role:** operator

To configure the version of gnmi proto to be used by the server.

**Command syntax: version [version]**

**Command mode:** config

**Hierarchies**

- system grpc

**Note**

- Changing the version will disconnect all active connections and restart the gNMI service.

**Parameter table**

+-----------+--------------------------------------+------------+---------+
| Parameter | Description                          | Range      | Default |
+===========+======================================+============+=========+
| version   | gNMI protobuf version used by server | | 0.7.0    | 0.10.0  |
|           |                                      | | 0.10.0   |         |
+-----------+--------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc
    dnRouter(cfg-system-grpc)# version 0.7.0


**Removing Configuration**

To revert version to default:
::

    dnRouter(cfg-system-grpc)# no version

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## grpc/vrf/admin-state.rst

system grpc vrf admin-state
---------------------------

**Minimum user role:** operator

To enable/disable gRPC server per VRF.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system grpc vrf

**Note**

- The admin-state can only be enabled on one in-band management non-default VRF.

**Parameter table**

+-------------+-----------------------------------------+--------------+---------+
| Parameter   | Description                             | Range        | Default |
+=============+=========================================+==============+=========+
| admin-state | gRPC server admin-state enable/disabled | | enabled    | enabled |
|             |                                         | | disabled   |         |
+-------------+-----------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc vrf default
    dnRouter(cfg-system-grpc-vrf)# admin-state disabled
    dnRouter(cfg-system)# grpc vrf mgmt0
    dnRouter(cfg-system-grpc-vrf)# admin-state enabled
    dnRouter(cfg-system)# grpc vrf my_vrf
    dnRouter(cfg-system-grpc-vrf)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-grpc-vrf)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.1    | Command introduced |
+---------+--------------------+

---

## grpc/vrf/client-list-type.rst

system grpc vrf client-list type
--------------------------------

**Minimum user role:** operator

This command defines whether the configured client-list (see \"system grpc vrf client-list\" is a white list or a black list. This will determine if the listed clients will be granted access to the gRPC server.

**Command syntax: client-list type [list-type]**

**Command mode:** config

**Hierarchies**

- system grpc vrf

**Note**

- If the client-list type is set to "allow", the client-list must not be empty.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-----------+---------+
| Parameter | Description                                                                      | Range     | Default |
+===========+==================================================================================+===========+=========+
| list-type | Configure black or white list type of incoming IP-addresses for gNMI/gRPC        | | allow   | deny    |
|           | service                                                                          | | deny    |         |
+-----------+----------------------------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc vrf default
    dnRouter(cfg-system-grpc-vrf)# client-list type allow


**Removing Configuration**

To revert the list type to default:
::

    dnRouter(cfg-system-grpc-vrf)# no client-list type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## grpc/vrf/client-list.rst

system grpc vrf client-list
---------------------------

**Minimum user role:** operator

Create a list of clients that are permitted or denied to open gRPC sessions to the system (according to \"system grpc vrf client-list type\".

To configure a client-list:

**Command syntax: client-list [ipv4-address/ipv6-address]** [, ipv4-address/ipv6-address, ipv4-address/ipv6-address]

**Command mode:** config

**Hierarchies**

- system grpc vrf

**Note**

- You can add up to 20 clients (for both IPv4 and IPv6 addresses combined) per VRF.

**Parameter table**

+---------------------------+------------------------------------------------------------------------------+----------------+---------+
| Parameter                 | Description                                                                  | Range          | Default |
+===========================+==============================================================================+================+=========+
| ipv4-address/ipv6-address | Black/white list of incoming ip-prefixes for system in-band gNMI/gRPC server | | A.B.C.D/x    | \-      |
|                           |                                                                              | | X:X::X:X/x   |         |
+---------------------------+------------------------------------------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc vrf default
    dnRouter(cfg-system-grpc-vrf)# client-list 100.54.12.1/32
    dnRouter(cfg-system-grpc-vrf)# client-list 210.4.21.0/24
    dnRouter(cfg-system-grpc-vrf)# client-list 2001:db8:2222::/48


**Removing Configuration**

To remove a specific client from the client list:
::

    dnRouter(cfg-system-grpc-vrf)# no client-list 100.54.12.1/32

To remove all clients from the client-list:
::

    dnRouter(cfg-system-grpc-vrf)# no client-list

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## grpc/vrf/vrf.rst

system grpc vrf
---------------

**Minimum user role:** operator

To configure a gRPC server per client list per VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system grpc

**Note**

- The VRF "default" represents in-band management, while VRF "mgmt0" represents out-of-band management.

- Up to 3 non-default inband management VRF contexts can be configured in general.

**Parameter table**

+-----------+----------------------+------------------+---------+
| Parameter | Description          | Range            | Default |
+===========+======================+==================+=========+
| vrf-name  | The name of the vrf. | | string         | \-      |
|           |                      | | length 1-255   |         |
+-----------+----------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grpc vrf default
    dnRouter(cfg-system-grpc-vrf)#
    dnRouter(cfg-system)# grpc vrf mgmt0
    dnRouter(cfg-system-grpc-vrf)#
    dnRouter(cfg-system)# grpc vrf my_vrf
    dnRouter(cfg-system-grpc-vrf)#


**Removing Configuration**

To delete the configuration under the non-default specific vrf:
::

    dnRouter(cfg-system-grpc)# no vrf default

For VRF default and mgmt0 no command will reset the configuration:
::

    dnRouter(cfg-system-grpc)# no vrf default

**Command History**

+---------+--------------------------------------------+
| Release | Modification                               |
+=========+============================================+
| 13.1    | Command introduced                         |
+---------+--------------------------------------------+
| 16.1    | Non-default in-band management VRF support |
+---------+--------------------------------------------+

---

## grub-timeout.rst

system grub-timeout
-------------------

**Minimum user role:** operator

The GRUB timeout value determines the amount of time that the OS GRUB bootloader waits before automatically booting into the default operating system or kernel selection.

The timeout is specified in seconds.

To configure the system's GRUB timeout value:

**Command syntax: grub-timeout [grub-timeout]**

**Command mode:** config

**Hierarchies**

- system

**Note**

A timeout of '0' means to boot the default entry immediately without displaying the GRUB menu.

**Parameter table**

+--------------+------------------------+-------+---------+
| Parameter    | Description            | Range | Default |
+==============+========================+=======+=========+
| grub-timeout | OS GRUB timeout value. | 0-30  | 5       |
+--------------+------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# grub-timeout 0
    Notice: Continuing with the commit will cause the following:
    The following commit will change the system grub timeout time. When set to zero or a very short period, system boot failure may require physical access to the platform for recovery."
    Enter yes to continue with commit, no to abort commit (yes/no) [no]


**Removing Configuration**

To revert the system grub-timeout to its default value:
::

    dnRouter(cfg-system)# no grub-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## https/class_of_service.rst

system https class-of-service
-----------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority.

To configure a DSCP value for all locally generated HTTPS packets:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system https

**Parameter table**

+------------------+--------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                  | Range | Default |
+==================+==============================================================+=======+=========+
| class-of-service | This parameter specifies the DSCP of generated HTTPS packets | 0-56  | 48      |
+------------------+--------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# https
    dnRouter(cfg-system-https)# class-of-service 15


**Removing Configuration**

To revert the class-of-service to the default value:
::

    dnRouter(cfg-system-https)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| TBD     | Command introduced |
+---------+--------------------+

---

## https/https.rst

system https
------------

**Minimum user role:** operator

Configure HTTPS.

To configure HTTPS, enter the HTTPS configuration mode:

**Command syntax: https**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# https
    dnRouter(cfg-system-https)#


**Removing Configuration**

To revert all HTTPS configuration to default:
::

    dnRouter(cfg-system)# no https

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## https/security/device-certificate.rst

system https security device-certificate
----------------------------------------

**Minimum user role:** operator

The transport layer security (TLS) protocol uses a digital certificate authenticating the identity of the certificate holder and allowing to encrypt the communication using a public key.

If a TLS device-certificate is not configured, https will establish unsecured sessions.

To configure a TLS device-certificate for the https client on the system:

1. Upload the certificate to the /security/cert folder. To see how, refer to \"request file download\".

2. Configure the certificate to use for https:

**Command syntax: device-certificate [device-certificate]**

**Command mode:** config

**Hierarchies**

- system https security

**Parameter table**

+--------------------+------------------------------------------------------------------------+-------+---------+
| Parameter          | Description                                                            | Range | Default |
+====================+========================================================================+=======+=========+
| device-certificate | The filename of the device certificate within the device's file system | \-    | \-      |
+--------------------+------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# https
    dnRouter(cfg-system-https)# security
    dnRouter(cfg-system-https-sec)# device-certificate my-device-cert


**Removing Configuration**

To remove the configuration of the device certificate for HTTPS:
::

    dnRouter(cfg-system-https-sec)# no device-certificate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## https/security/security.rst

system https security
---------------------

**Minimum user role:** operator

HTTPS server might require the security configuration of the client.

To configure the security configuration of the client, enter the HTTPS security configuration mode:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system https

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# https
    dnRouter(cfg-system-https)# security


**Removing Configuration**

To remove all global security configuration for HTTPS:
::

    dnRouter(cfg-system-https)# no security

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## icmp/icmp.rst

system icmp
-----------

**Minimum user role:** operator

You can configure ICMP and ICMPv6 replies:

**Command syntax: icmp**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# icmp
    dnRouter(cfg-system-icmp)#


**Removing Configuration**

To revert all icmp configuration to default:
::

    dnRouter(cfg-system)# no icmp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## icmp/unreachable/admin-state.rst

system icmp unreachable admin-state
-----------------------------------

**Minimum user role:** operator

Enables/disables path-mtu-discovery (PMTUD) for ICMP/ICMPv6 replies to the source of data-plane messages that are dropped due to exceeding the MTU.
To configure icmp unreachable admin-state:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system icmp unreachable

**Parameter table**

+-------------+--------------------------------------------------+--------------+----------+
| Parameter   | Description                                      | Range        | Default  |
+=============+==================================================+==============+==========+
| admin-state | Enable/Disable ICMP based PMTUD replier function | | enabled    | disabled |
|             |                                                  | | disabled   |          |
+-------------+--------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# icmp
    dnRouter(cfg-system-icmp)# unreachable
    dnRouter(cfg-system-icmp-unreachable)# admin-state disabled


**Removing Configuration**

To revert all icmp unreachable admin-state to default:
::

    dnRouter(cfg-system-icmp-unreachable)# no admin-state 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## icmp/unreachable/unreachable.rst

system icmp unreachable
-----------------------

**Minimum user role:** operator

Configuration of ICMP/ICMPv6 unreachable replies.
To configure icmp unreachable replies:

**Command syntax: unreachable**

**Command mode:** config

**Hierarchies**

- system icmp

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# icmp
    dnRouter(cfg-system-icmp)# unreachable
    dnRouter(cfg-system-icmp-unreachable)#


**Removing Configuration**

To revert all icmp unreachable configuration to default:
::

    dnRouter(cfg-system-icmp)# no unreachable

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## in-band-management_access-list_ipv4.rst

system in-band-management access-list ipv4
------------------------------------------

**Minimum user role:** operator

The control-plane access-list is supported only on in-band traffic and is hardware-configured to
allow or block different IPv4/IPv6 traffic destined to the NCC (i.e. to any local address,
including multicast packets).

To apply an access-list to the control plane traffic designated to a local address:

**Command syntax: in-band-management access-list ipv4 [access-list-name]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- The access-list will not affect transit traffic.

.. - no command removes a specific access-list, or all access-lists in a specific type

**Parameter table**

+------------------+------------------------------------------------------------+-------------------------------------+---------+
| Parameter        | Description                                                | Range                               | Default |
+==================+============================================================+=====================================+=========+
| access-list-name | Filter the displayed information to a specific access-list | The name of an existing access-list | \-      |
+------------------+------------------------------------------------------------+-------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# in-band-management access-list ipv4 IPv4_CP_ACL


**Removing Configuration**

To remove in-band management access-list configuration:
::

    dnRouter(cfg-system)# no in-band-management access-list

dnRouter(cfg-system)# no in-band-management access-list ipv4

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## in-band-management_access-list_ipv6.rst

system in-band-management access-list ipv6
------------------------------------------

**Minimum user role:** operator

The control-plane access-list is supported only on in-band traffic and is hardware-configured to
allow or block different IPv4/IPv6 traffic destined to the NCC (i.e. to any local address,
including multicast packets).

To apply an access-list to the control plane traffic designated to a local address:

**Command syntax: in-band-management access-list ipv6 [access-list-name]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- The access-list will not affect transit traffic.

.. - no command removes a specific access-list, or all access-lists in a specific type

**Parameter table**

+------------------+------------------------------------------------------------+-------------------------------------+---------+
| Parameter        | Description                                                | Range                               | Default |
+==================+============================================================+=====================================+=========+
| access-list-name | Filter the displayed information to a specific access-list | The name of an existing access-list | \-      |
+------------------+------------------------------------------------------------+-------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# in-band-management access-list ipv6 IPv6_CP_ACL


**Removing Configuration**

To remove in-band management access-list configuration:
::

    dnRouter(cfg-system)# no in-band-management access-list

dnRouter(cfg-system)# no in-band-management access-list ipv6

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## in-band-management_dnor-server-vrf.rst

system in-band-management dnor-server-vrf
-----------------------------------------

**Minimum user role:** operator

Configures the VRF over which the communication towards DNOR servers will go through.

**Command syntax: in-band-management dnor-server-vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system

**Note**
-  mgmt0 and default VRFs are the default config, mgmt0 is not configurable and enabled by default. default VRF is configurble and can be updated using this command.
-  The destination as were configured by set mgmt dnor-server command.
-  Validation: the source-interface shall be configured under the VRF, as part of network-services vrf instance in-band-management source-interface CLI command.

**Parameter table**

+-----------+-------------------------------------------------------------------------+--------------------------------+---------+
| Parameter | Description                                                             | Range                          | Default |
+===========+=========================================================================+================================+=========+
| vrf-name  | The name of the dnor server vrf to be used for communication with dnor. | | default          (in-band)   | default |
|           |                                                                         | | non-default-vrf  (in-band)   |         |
+-----------+-------------------------------------------------------------------------+--------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# in-band-management dnor-server-vrf non-default-vrf


**Removing Configuration**

To remove in-band management dnor-server-vrf configuration:
::

    dnRouter(cfg-system)# no in-band-management dnor-server-vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## in-band-management_source-interface.rst

system in-band-management source-interface
------------------------------------------

**Minimum user role:** operator

The configuration relates to both IPv4 and IPv6 address families. If IPv4 or IPv6 address is not
configured for the source interface, the client management applications will not work for the
appropriate address-family. Changing the IPv4 or IPv6 address on the selected interface requires
that the source-IP address of the client protocol packets be updated immediately.

Set the source interface for all in-band default VRF (VRF-0) management applications (for
example, NTP, SNMP, Syslog, and TACACS), using the following command:

**Command syntax: in-band-management source-interface [interface-name]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- If system in-band management interface is not defined (or if it doesn't have an IP address), and the source-interface is not defined for a specific protocol, no packets will be generated for this protocol.

  - As an exception, if the source-interface is defined for specific per-protocol server then the packets will be generated for it.

  - As an exception, if the in-band-management source-interface is defined for specific non-default VRF then the packets will be generated for it.

- The following client management applications are supported:

  - TACACS

  - SNMP trap

  - Syslog

  - IPFIX/Netflow

  - DNS

  - NTP

.. - Any interface in the default VRF with an IPv4/IPv6 address including loopback and irb, except GRE tunnel interfaces

  - In v11.1 and earlier, only Lo-0 interface is supported
  - In v18, support for IRB interface was added
  - In v19.1.1 support for any in-band interface was added

  - Selected interface must include both IPv4 and IPv6 addresses

    - "no interface ipv4-address / ipv6-address command can be applied to the selected interface

  - Interface cannot be removed if it is selected as source interface for in-band management

  - If selected interface has more than one IP address, default IP address will be used as a a source interface

  - The selected interface refers both to IPv4 and IPv6 addresses

  - If ipv4/ipv6 address is changed on the selected interface, the source-IP address of the client protocol packets must be updated immediately

  - If "system in-band-management interface is not set and source-interface is not set for a specific protocol, no packets will be generated for this protocol"

**Parameter table**

+----------------+---------------------------------------------------+----------------------------------------------------------------------------------+---------+
| Parameter      | Description                                       | Range                                                                            | Default |
+================+===================================================+==================================================================================+=========+
| interface-name | The name of the interface for in-band management. | Any interface in the default VRF with an IPv4/IPv6 address including loopback    | \-      |
|                |                                                   | and irb, except GRE tunnel interfaces                                            |         |
+----------------+---------------------------------------------------+----------------------------------------------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# in-band-management source-interface lo0


**Removing Configuration**

To remove in-band management source-interface configuration:
::

    dnRouter(cfg-system)# no in-band-management source-interface

**Command History**

+---------+----------------------------------------------------------------+
| Release | Modification                                                   |
+=========+================================================================+
| 5.1.0   | Command introduced                                             |
+---------+----------------------------------------------------------------+
| 6.0     | Changed ip-version syntax                                      |
|         | Applied new hierarchy                                          |
+---------+----------------------------------------------------------------+
| 11.0    | Added IPv6 support, removed ip-version from the command syntax |
+---------+----------------------------------------------------------------+
| 13.0    | Updated range of interface-name                                |
+---------+----------------------------------------------------------------+
| 19.1.1  | Support any in-band interface as source-interface              |
+---------+----------------------------------------------------------------+

---

## info/contact.rst

system info contact
-------------------

**Minimum user role:** operator

Configure system contact

**Command syntax: contact [contact]**

**Command mode:** config

**Hierarchies**

- system info

**Note**

- Text field specifying whom to contact about the system (name, email, telephone number).

**Parameter table**

+-----------+------------------+------------------+-----------------------+
| Parameter | Description      | Range            | Default               |
+===========+==================+==================+=======================+
| contact   | Contact details. | | string         | support@drivenets.com |
|           |                  | | length 1-255   |                       |
+-----------+------------------+------------------+-----------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# info
    dnRouter(cfg-system-info)# contact support@drivenets.com


**Removing Configuration**

To revert the configured contact to default
::

    dnRouter(cfg-system-info)# no contact

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## info/description.rst

system info description
-----------------------

**Minimum user role:** operator

Configure system description

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system info

**Note**

- Text field providing a general description of the system

**Parameter table**

+-------------+--------------------------------+------------------+--------------------------------+
| Parameter   | Description                    | Range            | Default                        |
+=============+================================+==================+================================+
| description | The description of the system. | | string         | DRIVENETS Network Cloud Router |
|             |                                | | length 1-255   |                                |
+-------------+--------------------------------+------------------+--------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# info
    dnRouter(cfg-system-info)# description Drivenets virtual Router


**Removing Configuration**

To revert the configured description to default
::

    dnRouter(cfg-system-info)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## info/floor.rst

system info floor
-----------------

**Minimum user role:** operator

Configure system floor

**Command syntax: floor [floor]**

**Command mode:** config

**Hierarchies**

- system info

**Note**

- Text field indicating the floor where the rack is located

**Parameter table**

+-----------+-----------------------------------+------------------+---------+
| Parameter | Description                       | Range            | Default |
+===========+===================================+==================+=========+
| floor     | The floor location of the system. | | string         | \-      |
|           |                                   | | length 1-255   |         |
+-----------+-----------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# info
    dnRouter(cfg-system-info)# floor FirstFloor


**Removing Configuration**

To revert the configured floor to default
::

    dnRouter(cfg-system-info)# no floor

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## info/info.rst

system info
-----------

**Minimum user role:** operator

You can configure identifying information about the router by entering system info configuration mode:

**Command syntax: info**

**Command mode:** config

**Hierarchies**

- system

**Note**
- Notice the change in prompt from dnRouter(cfg-system)# to dnRouter(cfg-system-info)# (system info configuration mode).

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# info
    dnRouter(cfg-system-info)#


**Removing Configuration**

To revert system information to default:
::

    dnRouter(cfg-system)# no info

**Command History**

+---------+--------------------------------------+
| Release | Modification                         |
+=========+======================================+
| 6.0     | Command introduced for new hierarchy |
+---------+--------------------------------------+

---

## info/location.rst

system info location
--------------------

**Minimum user role:** operator

Configure system location

**Command syntax: location [location]**

**Command mode:** config

**Hierarchies**

- system info

**Note**

- Text field indicating the physical location of the router

**Parameter table**

+-----------+-----------------------------+------------------+---------+
| Parameter | Description                 | Range            | Default |
+===========+=============================+==================+=========+
| location  | The location of the system. | | string         | \-      |
|           |                             | | length 1-255   |         |
+-----------+-----------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# info
    dnRouter(cfg-system-info)# location Israel


**Removing Configuration**

To revert the configured location to default
::

    dnRouter(cfg-system-info)# no location

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## info/rack.rst

system info rack
----------------

**Minimum user role:** operator

Configure system rack

**Command syntax: rack [rack]**

**Command mode:** config

**Hierarchies**

- system info

**Note**

- Text field indicating the name of the rack where the router is installed

**Parameter table**

+-----------+----------------------------------+------------------+---------+
| Parameter | Description                      | Range            | Default |
+===========+==================================+==================+=========+
| rack      | The rack location of the system. | | string         | \-      |
|           |                                  | | length 1-255   |         |
+-----------+----------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# info
    dnRouter(cfg-system-info)# rack A01


**Removing Configuration**

To revert the configured rack to default
::

    dnRouter(cfg-system-info)# no rack

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## ldap/class_of_service.rst

system ldap class-of-service
----------------------------

**Minimum user role:** admin

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority. To configure a CoS for all outgoing LDAP messages:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system ldap

**Parameter table**

+------------------+-------------------------------------+-------+---------+
| Parameter        | Description                         | Range | Default |
+==================+=====================================+=======+=========+
| class-of-service | Differentiated Services Code Point. | 0-56  | 16      |
+------------------+-------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# class-of-service 15


**Removing Configuration**

To revert the class-of-service to the default value:
::

    dnRouter(cfg-system-ldap)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/address.rst

system ldap ldap-server priority address
----------------------------------------

**Minimum user role:** admin

To configure the IP address of the ldap-server (IPv4/IPv6 addresses or FQDN/PQDN hostnames are supported):

**Command syntax: address [address]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| address   | IP address of ldap-server. IPv4/IPv6 addresses or FQDN/PQDN hostnames are        | \-    | \-      |
|           | suported                                                                         |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 5
    dnRouter(cfg-system-ldap-server)# address 10.10.73.13


**Removing Configuration**

To revert the ldap-server address to the default:
::

    dnRouter(cfg-system-ldap-server)# no address

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/admin_state.rst

system ldap ldap-server priority admin-state
--------------------------------------------

**Minimum user role:** admin

To configure the desired administrative state of the LDAP server:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-------------+--------------------------------------+------------+---------+
| Parameter   | Description                          | Range      | Default |
+=============+======================================+============+=========+
| admin-state | The desired state of the LDAP server | enabled    | enabled |
|             |                                      | disabled   |         |
+-------------+--------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-system-ldap-server)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-ldap-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/bind_timeout.rst

system ldap ldap-server priority bind-dn-timeout
------------------------------------------------

**Minimum user role:** admin

To set the binding timeout in seconds:

**Command syntax: bind-dn-timeout [bind-dn-timeout]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-----------------+------------------------------------+--------+---------+
| Parameter       | Description                        | Range  | Default |
+=================+====================================+========+=========+
| bind-dn-timeout | Set the binding timeout in seconds | 1..1000| 5       |
+-----------------+------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-system-ldap-server)# bind-dn-timeout 60


**Removing Configuration**

To revert bind-timeout to default:
::

    dnRouter(cfg-system-ldap-server)# no bind-dn-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/bind.rst

system ldap ldap-server priority bind-dn
----------------------------------------

**Minimum user role:** admin

To configure the bind flags for the LDAP server connection:

**Command syntax: bind-dn [bind-dn]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-----------+-------------------------------------------+----------------+---------+
| Parameter | Description                               | Range          | Default |
+===========+===========================================+================+=========+
| bind-dn   | The bind flags for LDAP server connection | string         | \-      |
|           |                                           | length 1..255  |         |
+-----------+-------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-system-ldap-server)# bind-dn 60


**Removing Configuration**

To revert the bind flag to the default:
::

    dnRouter(cfg-system-ldap-server)# no bind-dn

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/address.rst

system ldap ldap-servers ldap-server priority address
-----------------------------------------------------

**Minimum user role:** admin

To configure the IP address of the ldap-server (IPv4/IPv6 addresses or FQDN/PQDN hostnames are supported):

**Command syntax: address [address]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| address   | IP address of ldap-server. IPv4/IPv6 addresses or FQDN/PQDN hostnames are        | \-    | \-      |
|           | suported                                                                         |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 5
    dnRouter(cfg-ldap-servers-server)# address 10.10.73.13


**Removing Configuration**

To revert the ldap-server address to the default:
::

    dnRouter(cfg-ldap-servers-server)# no address

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/admin_state.rst

system ldap ldap-servers ldap-server priority admin-state
---------------------------------------------------------

**Minimum user role:** admin

To configure the desired administrative state of the LDAP server:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-------------+--------------------------------------+--------------+---------+
| Parameter   | Description                          | Range        | Default |
+=============+======================================+==============+=========+
| admin-state | The desired state of the LDAP server | | enabled    | enabled |
|             |                                      | | disabled   |         |
+-------------+--------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-ldap-servers-server)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-ldap-servers-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/bind_timeout.rst

system ldap ldap-servers ldap-server priority bind-dn-timeout
-------------------------------------------------------------

**Minimum user role:** admin

To set the binding timeout in seconds:

**Command syntax: bind-dn-timeout [bind-dn-timeout]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-----------------+------------------------------------+--------+---------+
| Parameter       | Description                        | Range  | Default |
+=================+====================================+========+=========+
| bind-dn-timeout | Set the binding timeout in seconds | 1-1000 | 5       |
+-----------------+------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-ldap-servers-server)# bind-dn-timeout 60


**Removing Configuration**

To revert bind-timeout to default:
::

    dnRouter(cfg-ldap-servers-server)# no bind-dn-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/bind.rst

system ldap ldap-servers ldap-server priority bind-dn
-----------------------------------------------------

**Minimum user role:** admin

To configure the bind flags for the LDAP server connection

**Command syntax: bind-dn [bind-dn]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-----------+-------------------------------------------+------------------+---------+
| Parameter | Description                               | Range            | Default |
+===========+===========================================+==================+=========+
| bind-dn   | The bind flags for LDAP server connection | | string         | \-      |
|           |                                           | | length 1-255   |         |
+-----------+-------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-ldap-servers-server)# bind-dn 60


**Removing Configuration**

To revert the bind flag to the default:
::

    dnRouter(cfg-ldap-servers-server)# no bind-dn

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/ldap-server.rst

system ldap ldap-servers ldap-server priority
---------------------------------------------

**Minimum user role:** admin

Defines the LDAP server priority. When multiple servers are set, DNOS accesses the LDAP servers according to their priority (e.g., DNOS will first attempt the LDAP server with the lowest priority.) To define the LDAP server priority:

**Command syntax: ldap-server priority [ldap-server]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers

**Parameter table**

+-------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter   | Description                                                                      | Range | Default |
+=============+==================================================================================+=======+=========+
| ldap-server | LDAP server priority. When multiple LDAP servers are enabled, DNOS queries them  | 1-255 | \-      |
|             | in the order of their priority. If DNOS doesn't receive a response, it tries a   |       |         |
|             | server with the next lowest priority among servers enabled for that LDAP         |       |         |
|             | function.                                                                        |       |         |
+-------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap-servers)# ldap-server priority 23


**Removing Configuration**

To revert the ldap-server:
::

    dnRouter(cfg-system-ldap)# no ldap-server

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/password.rst

system ldap ldap-servers ldap-server priority password
------------------------------------------------------

**Minimum user role:** admin

Enables configuring a password for the LDAP server. The password must match the password configured on the LDAP server. You can enter the password in plain-text, but it will be displayed in an encrypted form with an enc- prefix in any show command. The encryption is performed with the same key used by the system to decrypt the password during load/copy of the configuration. If you do not enter a password, you will be prompted for the (unencrypted) password. To define a password for the remote LDAP server:

**Command syntax: password [password]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Note**
- Notice the change in prompt.

- You will not be able to commit the configuration without a configured password.

.. -  The password configuration is mandatory for radius server (clear or encrypted).

   -  The password can be made up of ASCII alphanumeric characters ([A-Za-z0-9]).

   -  The password must be between 1 to 64 characters.

   -  At least 1 alphabet character must be configured.

   -  If the password is not configured, the commit will fail.

   -  The password cannot be removed.


**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| password  | The admin/root password, supplied as a hashed value using the notation described | \-    | \-      |
|           | in the definition of the crypt-password-type.                                    |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-ldap-servers-server)# password
    Enter password
    Enter password for verifications


**Removing Configuration**

Once configured, the password cannot be deleted, only changed.
::

    dnRouter(cfg-ldap-servers-server)# no password

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/port.rst

system ldap ldap-servers ldap-server priority port
--------------------------------------------------

**Minimum user role:** admin

To define the port that is used by the server: If the port is not configured, the server uses port 636

**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| port      | The port on which the server uses. If the port is not configured, the server     | 0-65535 | 636     |
|           | uses port 636                                                                    |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 3
    dnRouter(cfg-ldap-servers-server)# port 630


**Removing Configuration**

To revert the port to the default:
::

    dnRouter(cfg-ldap-servers-server)# no port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/search_time.rst

system ldap ldap-servers ldap-server priority search-timeout
------------------------------------------------------------

**Minimum user role:** admin

To set the search timeout (in seconds):

**Command syntax: search-timeout [search-timeout]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+----------------+-----------------------------------+--------+---------+
| Parameter      | Description                       | Range  | Default |
+================+===================================+========+=========+
| search-timeout | Set the search timeout in seconds | 1-1000 | 5       |
+----------------+-----------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 3
    dnRouter(cfg-ldap-servers-server)# search-timeout 60


**Removing Configuration**

To revert the search-timeout to the default value:
::

    dnRouter(cfg-ldap-servers-server)# no search-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/source-interface.rst

system ldap ldap-servers ldap-server priority source-interface
--------------------------------------------------------------

**Minimum user role:** operator

IP address of this interface is used as the source IP address of all outingoing LDAP messages.

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+------------------+-----------------------------------------------------------------+---------------------------------------------------------------+----------------------------------------+
| Parameter        | Description                                                     | Range                                                         | Default                                |
+==================+=================================================================+===============================================================+========================================+
| source-interface | The source interface whose IP address is used for LDAP messages | Any interface in the configured VRF with an IPv4/IPv6 address | inband interface in the configured VRF |
+------------------+-----------------------------------------------------------------+---------------------------------------------------------------+----------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 5
    dnRouter(cfg-ldap-servers-server)# source-interface lo1


**Removing Configuration**

To remove the source-interface:
::

    dnRouter(cfg-ldap-servers-server)# no source-interface 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/timeout.rst

system ldap ldap-servers ldap-server priority timeout
-----------------------------------------------------

**Minimum user role:** admin

To set the connection timeout in seconds on responses from the LDAP server:

**Command syntax: timeout [timeout]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-----------+----------------------------------------------------------------------+--------+---------+
| Parameter | Description                                                          | Range  | Default |
+===========+======================================================================+========+=========+
| timeout   | Set the connect timeout in seconds on responses from the LDAP server | 1-1000 | 5       |
+-----------+----------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 3
    dnRouter(cfg-ldap-servers-server)# timeout 60


**Removing Configuration**

To revert the timeout to the default value:
::

    dnRouter(cfg-ldap-servers-server)# no timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-server/vrf.rst

system ldap ldap-servers ldap-server priority vrf
-------------------------------------------------

**Minimum user role:** admin

To configure the name of the vrf:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers ldap-server priority

**Parameter table**

+-----------+----------------------+------------------+---------+
| Parameter | Description          | Range            | Default |
+===========+======================+==================+=========+
| vrf-name  | The name of the vrf. | | string         | default |
|           |                      | | length 1-255   |         |
+-----------+----------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# ldap-server priority 5
    dnRouter(cfg-ldap-servers-server)# vrf mgmt0


**Removing Configuration**

To remove the vrf:
::

    dnRouter(cfg-ldap-servers-server)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/ldap-servers.rst

system ldap ldap-server priority
--------------------------------

**Minimum user role:** admin

This defines the LDAP server priority. When multiple servers are set, DNOS accesses the LDAP servers according to their priority (e.g., DNOS will first attempt the LDAP server with the lowest priority.) To define the LDAP server priority:

**Command syntax: ldap-server priority [ldap-server]**

**Command mode:** config

**Hierarchies**

- system ldap

**Parameter table**

+-------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter   | Description                                                                      | Range | Default |
+=============+==================================================================================+=======+=========+
| ldap-server | LDAP server priority. When multiple LDAP servers are enabled, DNOS queries them  | 1..255| \-      |
|             | in the order of their priority. If DNOS doesn't receive a response, it tries a   |       |         |
|             | server with the next lowest priority among servers enabled for that LDAP         |       |         |
|             | function.                                                                        |       |         |
+-------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 23


**Removing Configuration**

To revert ldap-server:
::

    dnRouter(cfg-system-ldap)# no ldap-server

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/password.rst

system ldap ldap-server priority password
-----------------------------------------

**Minimum user role:** admin

Enables configuring a password for the LDAP server. The password must match the password configured on the LDAP server. You can enter the password in plain-text, but it will be displayed in an encrypted form with an enc- prefix in any show command. The encryption is performed with the same key used by the system to decrypt the password during load/copy of the configuration. If you do not enter a password, you will be prompted for the (unencrypted) password. To define a password for the remote LDAP server:

**Command syntax: password [password]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Note**
- Notice the change in prompt.

- You will not be able to commit the configuration without a configured password.

.. -  Password configuration is mandatory for radius server (clear or encrypted):

   -  password can made up of ASCII alphanumeric characters ([A-Za-z0-9])

   -  password must be between 1 to 64 character

   -  at least 1 alphabet character must be configured

   -  if password is not configured, commit will fail

   -  password cannot be removed


**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| password  | The admin/root password, supplied as a hashed value using the notation described | \-    | \-      |
|           | in the definition of the crypt-password-type.                                    |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 1
    dnRouter(cfg-system-ldap-server)# password
    Enter password
    Enter password for verifications


**Removing Configuration**

Once configured, the password cannot be deleted, only changed.
::

    dnRouter(cfg-system-ldap-server)# no password

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/port.rst

system ldap ldap-server priority port
-------------------------------------

**Minimum user role:** admin

To define the port that is used by the server: If the port is not configured, the server uses port 636.

**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| port      | The port on which the server uses. If the port is not configured, the server     | 0..65535| 636     |
|           | uses port 636                                                                    |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 3
    dnRouter(cfg-system-ldap-server)# port 630


**Removing Configuration**

To revert the port to the default:
::

    dnRouter(cfg-system-ldap-server)# no port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/search_time.rst

system ldap ldap-server priority search-timeout
-----------------------------------------------

**Minimum user role:** admin

To set the search timeout (in seconds):

**Command syntax: search-timeout [search-timeout]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+----------------+-----------------------------------+--------+---------+
| Parameter      | Description                       | Range  | Default |
+================+===================================+========+=========+
| search-timeout | Set the search timeout in seconds | 1..1000| 5       |
+----------------+-----------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 3
    dnRouter(cfg-system-ldap-server)# search-timeout 60


**Removing Configuration**

To revert the search-timeout to the default value:
::

    dnRouter(cfg-system-ldap-server)# no search-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/timeout.rst

system ldap ldap-server priority timeout
----------------------------------------

**Minimum user role:** admin

To set the connection timeout in seconds on responses from the LDAP server:

**Command syntax: timeout [timeout]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-----------+----------------------------------------------------------------------+--------+---------+
| Parameter | Description                                                          | Range  | Default |
+===========+======================================================================+========+=========+
| timeout   | Set the connect timeout in seconds on responses from the LDAP server | 1..1000| 5       |
+-----------+----------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 3
    dnRouter(cfg-system-ldap-server)# timeout 60


**Removing Configuration**

To revert the timeout to the default value:
::

    dnRouter(cfg-system-ldap-server)# no timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/timers/hold-down.rst

system ldap ldap-servers timers hold-down
-----------------------------------------

**Minimum user role:** admin

The hold-down timer is triggered when all the LDAP servers are found to be in an unavailable state. A hold-down state prevents all LDAP requests from being sent to any LDAP servers.The purpose of this delay is to limit unnecessary delays due to LDAP requests being sent to unavailable servers incurring the connection timeout. If the delay is set to zero, the hold down timer is disabled and LDAP requests are sent to servers. To configure the hold-down timer:

**Command syntax: hold-down [hold-down]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers timers

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| hold-down | The hold-down timer is triggered when all LDAP servers are found to be in an     | 10-1200 | 600     |
|           | unavailable state. Hold-down state prevents all LDAP requests from being sent to |         |         |
|           | any LDAP servers.The purpose of this delay is to limit unnecessary delays due to |         |         |
|           | LDAP requests being sent to unavailable servers incurring the connection         |         |         |
|           | timeout. If the delay is set to zero, the hold down timer is disabled and LDAP   |         |         |
|           | requests are sent to servers                                                     |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# timers
    dnRouter(cfg-ldap-servers-timers)# hold-down 70


**Removing Configuration**

To revert the hold-down to the default:
::

    dnRouter(cfg-ldap-servers)# no hold-down

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/timers/retry-time.rst

system ldap ldap-servers timers retry-time
------------------------------------------

**Minimum user role:** admin

Prevents a failed LDAP server from being retried too soon. If an LDAP server is marked as failed, it will not be used for LDAP requests until the retry time has expired. Once the retry time has expired, the LDAP server may be marked as available to accept new LDAP requests

**Command syntax: retry-time [retry-time]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-servers timers

**Parameter table**

+------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter  | Description                                                                      | Range   | Default |
+============+==================================================================================+=========+=========+
| retry-time | prevent a failed LDAP server from being retried too soon. If a LDAP server is    | 10-3600 | 1200    |
|            | marked as failed, it will not be used for LDAP requests until the retry time has |         |         |
|            | expired. Once the retry time has expired, the LDAP server may be marked as       |         |         |
|            | available to accept LDAP new requests                                            |         |         |
+------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-servers
    dnRouter(cfg-system-ldap)# timers
    dnRouter(cfg-ldap-servers-timers)# retry-time 70


**Removing Configuration**

To revert the retry-time to the default:
::

    dnRouter(cfg-ldap-servers)# no retry-time

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ldap/ldap-servers/vrf.rst

system ldap ldap-server priority vrf
------------------------------------

**Minimum user role:** admin

To configure the name of the vrf:

**Command syntax: vrf [vrf]**

**Command mode:** config

**Hierarchies**

- system ldap ldap-server priority

**Parameter table**

+-----------+----------------------+----------------+---------+
| Parameter | Description          | Range          | Default |
+===========+======================+================+=========+
| vrf       | The name of the vrf. | string         | default |
|           |                      | length 1..255  |         |
+-----------+----------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# ldap-server priority 5
    dnRouter(cfg-system-ldap-server)# vrf mgmt0


**Removing Configuration**

To remove the vrf:
::

    dnRouter(cfg-system-ldap-server)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## ldap/source-interface.rst

system ldap source-interface
----------------------------

**Minimum user role:** admin

IP address of this interface is used as source IP address of all outingoing LDAP messages

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system ldap

**Parameter table**

+------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+
| Parameter        | Description                                                     | Range                                                                            | Default                                    |
+==================+=================================================================+==================================================================================+============================================+
| source-interface | The source interface whose IP address is used for LDAP messages | Any interface in the default VRF with an IPv4/IPv6 address, except GRE tunnel    | system in-band-management source-interface |
|                  |                                                                 | interfaces                                                                       |                                            |
+------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ldap
    dnRouter(cfg-system-ldap)# source-interface ge100-0/0/0


**Removing Configuration**

To revert source-interface to default:
::

    dnRouter(cfg-system-ldap)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## logging/file/file.rst

system logging file
-------------------

**Minimum user role:** operator

To set the log file type you wish to configure.

**Command syntax: file [file-type]**

**Command mode:** config

**Hierarchies**

- system logging

**Note**

- After selecting the file type, you can proceed to configure the parameters for that file type.

- no command reverts the system logging parameter to its default value.

**Parameter table**

+-----------+-----------------------+---------------+---------+
| Parameter | Description           | Range         | Default |
+===========+=======================+===============+=========+
| file-type | Set the log file type | system-events | \-      |
+-----------+-----------------------+---------------+---------+

**Example**
::

    dev-dnRouter(cfg)# system
    dev-dnRouter(cfg-system)# logging
    dev-dnRouter(cfg-system-logging)# file system-events


**Removing Configuration**

To revert the file type configuration to default:
::

    dev-dnRouter(cfg-system-logging)# no file

**Command History**

+---------+-----------------------------------------------------------------+
| Release | Modification                                                    |
+=========+=================================================================+
| 10.0    | Command introduced as part of new hierarchy.                    |
+---------+-----------------------------------------------------------------+
| 11.0    | Added accounting authentication and authorization file types.   |
+---------+-----------------------------------------------------------------+
| 11.5    | Updated file type from authorization and authentication to aaa. |
+---------+-----------------------------------------------------------------+

---

## logging/file/files.rst

system logging file files
-------------------------

**Minimum user role:** operator

To set the maximum number of log files.

**Command syntax: files [files]**

**Command mode:** config

**Hierarchies**

- system logging file

**Note**

- Specifies the maximum number of log files the system can generate. Once this limit is hit and the final file is filled, the oldest file is removed.

- no command reverts the system logging parameter to its default value.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| files     | maximum number of debug logging files per process from this specific logging     | 1-20  | 10      |
|           | entity                                                                           |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dev-dnRouter(cfg)# system
    dev-dnRouter(cfg-system)# logging
    dev-dnRouter(cfg-system-logging)# file system-events
    dev-dnRouter(cfg-system-logging-file)# files 20


**Removing Configuration**

To revert the number of files configuration to default:
::

    dev-dnRouter(cfg-system-logging-file)# no files

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 5.1.0   | Command introduced    |
+---------+-----------------------+
| 6.0     | Applied new hierarchy |
+---------+-----------------------+
| 10.0    | Applied new hierarchy |
+---------+-----------------------+

---

## logging/file/size.rst

system logging file size
------------------------

**Minimum user role:** operator

To set the maximum size of the log file.

**Command syntax: size [size]**

**Command mode:** config

**Hierarchies**

- system logging file

**Note**

- The configured parameter is per file-type. Check the selected file-type before committing. See system logging file.

- no command reverts the system logging parameter to its default value

**Parameter table**

+-----------+--------------------------------------------------------------------------+----------+---------+
| Parameter | Description                                                              | Range    | Default |
+===========+==========================================================================+==========+=========+
| size      | Maximum size of the debug-logging files for this specific logging entity | 1-100 MB | 10 MB   |
+-----------+--------------------------------------------------------------------------+----------+---------+

**Example**
::

    dev-dnRouter(cfg)# system
    dev-dnRouter(cfg-system)# logging
    dev-dnRouter(cfg-system-logging)# file system-events
    dev-dnRouter(cfg-system-logging-file)# size 20


**Removing Configuration**

To revert the size configuration to default:
::

    dev-dnRouter(cfg-system-logging-file)# no size

**Command History**

+---------+-------------------------------------+
| Release | Modification                        |
+=========+=====================================+
| 5.1.0   | Command introduced                  |
+---------+-------------------------------------+
| 6.0     | Applied new hierarchy               |
+---------+-------------------------------------+
| 10.0    | Applied new hierarchy               |
+---------+-------------------------------------+
| 11.0    | Changed the default file size limit |
+---------+-------------------------------------+
| 13.2    | Updated file size parameter value   |
+---------+-------------------------------------+

---

## logging/logging.rst

system logging
--------------

**Minimum user role:** operator

To configure parameters for the "system-events.log" file generation by DNOS.

**Command syntax: logging**

**Command mode:** config

**Hierarchies**

- system

**Note**
- no command reverts the system events logging parameter to its default value

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging


**Removing Configuration**

To revert to the default value
::

    dnRouter(cfg-system)# no logging

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## logging/overview.rst

System Logging Overview
-----------------------
Logging is a process that receives logs from the various system components allowing you to track events on the device. DNOS uses the Event Manager to record operations and distribute them to other services. By default, logs are stored in files locally. You can also configure up to five remote syslog servers to collect all or some logs in a unified location. For information on configuring a syslog server, see system logging syslog server.

Log files are stored in two locations:

- On the NCC - in the /var/log/syslog folder
- On a remote syslog server (if syslog is enabled) - for information on configuring a syslog server, see system logging syslog server.

You can set the maximum size of the logged files and the number of files that will be saved and the event group. When the file size is reached, the system opens a new file for storing the logs. When the set number of files is reached, the system deletes the oldest file before it starts saving to a new file. System events are grouped to allow configuration on the group. You can set the minimum severity to save to the log file for the entire group. By default, all logs are saved to file. You can change the severity of an event-group to only save logs with a minimum severity level. All logs with that severity level or higher, will be saved. All other logs will be discarded.

The messages use the format:

Facility.Severity Version Timestamp Hostname Appname ProcID MSGID Structure-data message

+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Message Category | Description                                                                                                                                                         |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Facility         | A number that identifies the facility that a system event is associated with.                                                                                       |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Severity         | A severity level assigned to the system event to indicate the importance of the message.                                                                            |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Version          | 1, the version of the syslog protocol.                                                                                                                              |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Timestamp        | Date, Time (including ms).                                                                                                                                          |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Hostname         | NCE hostname.                                                                                                                                                       |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Appname          | A syslog tag that identifies the device or application that originated the message.                                                                                 |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ProcID           | A syslog tag Identifier.                                                                                                                                            |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| MSGID            | A syslog tag that identifies the type of message.                                                                                                                   |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Structure-Data   | A syslog tag which can display information about the syslog message or application-specific information.                                                            |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Message          | Event-Name:Message: Text string that uniquely identifies the message, in all uppercase letters and using the underscore (_) to separate words and the message text. |
+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+

The following table describes the severity levels:

+---------------+----------------------------------+
| Level         | Description                      |
+---------------+----------------------------------+
| 0 - Emergency | System is unusable               |
+---------------+----------------------------------+
| 1 - Alert     | Immediate action is needed       |
+---------------+----------------------------------+
| 2 - Critical  | Critical condition               |
+---------------+----------------------------------+
| 3 - Error     | Error condition                  |
+---------------+----------------------------------+
| 4 - Warning   | Warning condition                |
+---------------+----------------------------------+
| 5 - Notice    | Normal but significant condition |
+---------------+----------------------------------+
| 6 - Info      | Informational message only       |
+---------------+----------------------------------+
| 7 - Debug     | Debug message only               |
+---------------+----------------------------------+

The following table describes the facility codes:

+---------------+----------+------------------------------------------+
| Facility Code | Keyword  | Description                              |
+---------------+----------+------------------------------------------+
| 0             | kern     | kernel messages                          |
+---------------+----------+------------------------------------------+
| 1             | user     | user-level messages                      |
+---------------+----------+------------------------------------------+
| 2             | mail     | mail system                              |
+---------------+----------+------------------------------------------+
| 3             | daemon   | system daemons                           |
+---------------+----------+------------------------------------------+
| 4             | auth     | security/authorization messages          |
+---------------+----------+------------------------------------------+
| 5             | syslog   | messages generated internally by syslogd |
+---------------+----------+------------------------------------------+
| 6             | lpr      | line printer subsystem                   |
+---------------+----------+------------------------------------------+
| 7             | news     | network news subsystem                   |
+---------------+----------+------------------------------------------+
| 8             | uucp     | UUCP subsystem                           |
+---------------+----------+------------------------------------------+
| 9             |          | clock daemon                             |
+---------------+----------+------------------------------------------+
| 10            | authpriv | security/authorization messages          |
+---------------+----------+------------------------------------------+
| 11            | ftp      | FTP daemon                               |
+---------------+----------+------------------------------------------+
| 12            | -        | NTP subsystem                            |
+---------------+----------+------------------------------------------+
| 13            | -        | log audit                                |
+---------------+----------+------------------------------------------+
| 14            | -        | log alert                                |
+---------------+----------+------------------------------------------+
| 15            | cron     | scheduling daemon                        |
+---------------+----------+------------------------------------------+
| 16            | local0   | local use 0 (local0)                     |
+---------------+----------+------------------------------------------+
| 17            | local1   | local use 1 (local1)                     |
+---------------+----------+------------------------------------------+
| 18            | local2   | local use 2 (local2)                     |
+---------------+----------+------------------------------------------+
| 19            | local3   | local use 3 (local3)                     |
+---------------+----------+------------------------------------------+
| 20            | local4   | local use 4 (local4)                     |
+---------------+----------+------------------------------------------+
| 21            | local5   | local use 5 (local5)                     |
+---------------+----------+------------------------------------------+
| 22            | local6   | local use 6 (local6)                     |
+---------------+----------+------------------------------------------+
| 23            | local7   | local use 7 (local7)                     |
+---------------+----------+------------------------------------------+

You can configure the facility to which the system log messages belongs and its severity level. The default facility for syslog messages is local7.

An example syslog message for a system event "ssh-session-terminated" with facility=6, severity=5, trigger process=sshd generated by an NCE with system name "dls470sw" will looks as follows:

<65>1 2003-10-11T22:14:15.003Z DLS470SW - bgpd - - ssh-session-terminated:SSH session 456 (remote host 10.1.1.1) terminated by user dnRoot
---

## logging/syslog/chronological-ordering.rst

system logging syslog chronological-ordering reorder
----------------------------------------------------

**Minimum user role:** operator

control chronological message ordering.

Syslog messages relayed to upstream servers from the various Syslog producers within the cluster are not guaranteed to arrive in chronological order. If chronological ordering is enabled, the relay will attempt to reorder the events according to the Syslog message timestamps.

Chronological ordering requires the relay to delay certain messages to ensure that the earlier messages are sent first. The maximum delay an event may experience before being logged and prepared for transmission to external servers, including the delay at the relay's queue and at the producer's queue, is controlled through the **max-delay** parameters.

The relay does not drop Syslog messages, and does not modify the timestamp, even if it fails to reorder them chronologically. For example, if due to temporary failure a producer does not succeed in sending its message for a period of time longer than the max delay, the event will be relayed to upstream servers even though a Syslog message with a later timestamp has already been sent.

Events kept in the relay's reordering queue may be lost if the relay is reset.

**Command syntax: chronological-ordering reorder [reorder]** max-delay [max-delay]

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**
- The 'no' command returns all chronological ordering configuration to their default settings.

- Setting to disable does not return the max-delay settings to their default settings.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter | Description                                                                      | Range        | Default  |
+===========+==================================================================================+==============+==========+
| reorder   | Controls whether events will be chronologically ordered before being relayed to  | | enabled    | disabled |
|           | upstream consumers.                                                              | | disabled   |          |
+-----------+----------------------------------------------------------------------------------+--------------+----------+
| max-delay | Max time an event is delayed waiting for earlier generated events for            | 1-30 s       | 5 s      |
|           | chronological reordering.                                                        |              |          |
+-----------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# chronological-ordering reorder enabled
    dnRouter(cfg-system-logging-syslog)# chronological-ordering reorder enabled max-delay 3


**Removing Configuration**

To revert the chronological ordering configuration to default:
::

    dnRouter(cfg-system-logging-syslog)# no chronological-ordering

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.1    | Command introduced |
+---------+--------------------+

---

## logging/syslog/class-of-service.rst

system logging syslog class-of-service
--------------------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority.

To configure a CoS to syslog packets generated by DNOS:

**Command syntax: class-of-service [dscp-value]**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**

- Value is the dscp value on the ip header

**Parameter table**

+------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter  | Description                                                                      | Range | Default |
+============+==================================================================================+=======+=========+
| dscp-value | The DSCP value that is used in the IP header to classify the packet and give it  | 0-56  | 16      |
|            | a priority.                                                                      |       |         |
+------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# class-of-service 5


**Removing Configuration**

To remove the class-of-service configuration:
::

    dnRouter(cfg-system-logging-syslog)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## logging/syslog/event-group severity.rst

system logging syslog event-group severity
-------------------------------------------

**Minimum user role:** operator

You can configure the minimum severity level of system-events generated by DNOS. The severity levels are configured per event-group.

**Command syntax: event-group [event-group] severity [severity]**

**Command mode:** config

**Hierarchies**

- system logging syslog


**Note**

- Beware, changing the default logging level warning for any of the ControlPath log files to a lower level (i.e. Notice, Info, or Debug) could result in unexpected exhaustion of hard disk space.

- The severity for the group will be determined by the "All" event-group.

- The "All" group cannot be removed from the list.

.. - "event-group <group> severity none" disables export of system-events per particular event-group

	- "no event-group <group>" removes specific event-group from the configuration list, the severity is determined by the event-group all

	- "no event-group all" set the severity for "all" event-group to the default

**Parameter table**

+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------+---------------+---------+
| Parameter   | Description                                                                                                                                   | Range         | Default |
+=============+===============================================================================================================================================+===============+=========+
| Event-group | System events are grouped to allow configuration on the group. You can set the minimum severity to save to the log file for the entire group. | Management    | All     |
|             | The event-group is applicable only to the system-events file-type.                                                                            | System        |         |
|             | "All" - allows to configure the same severity for all DNOS system-events. This serves as the default severity.                                | Interfaces    |         |
|             |                                                                                                                                               | LACP          |         |
|             |                                                                                                                                               | LLDP          |         |
|             |                                                                                                                                               | RIB-manager   |         |
|             |                                                                                                                                               | BGP           |         |
|             |                                                                                                                                               | BFD           |         |
|             |                                                                                                                                               | IS-IS         |         |
|             |                                                                                                                                               | RSVP          |         |
|             |                                                                                                                                               | OSPF          |         |
|             |                                                                                                                                               | TCP           |         |
|             |                                                                                                                                               | PCEP          |         |
|             |                                                                                                                                               | Platform      |         |
|             |                                                                                                                                               | TWAMP         |         |
|             |                                                                                                                                               | AAA           |         |
|             |                                                                                                                                               | FIB-manager   |         |
|             |                                                                                                                                               | Clock         |         |
|             |                                                                                                                                               | Syncer        |         |
|             |                                                                                                                                               | All           |         |
+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------+---------------+---------+
| severity    | The minimum log severity level that will be logged.                                                                                           | Emergency (0) | Warning |
|             | "None" - disables the export of system-events for a specific event-group.                                                                     | Alert (1)     |         |
|             |                                                                                                                                               | Critical (2)  |         |
|             |                                                                                                                                               | Error (3)     |         |
|             |                                                                                                                                               | Warning (4)   |         |
|             |                                                                                                                                               | Notice (5)    |         |
|             |                                                                                                                                               | Info (6)      |         |
|             |                                                                                                                                               | Debug (7)     |         |
|             |                                                                                                                                               | None          |         |
+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------+---------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# logging
	dnRouter(cfg-system-logging)# syslog
	dnRouter(cfg-system-logging-syslog)# event-group lldp severity debug
	dnRouter(cfg-system-logging-syslog)# event-group all severity warning
	dnRouter(cfg-system-logging-syslog)# event-group bgp severity none







**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-logging-syslog)# no event-group lldp
	dnRouter(cfg-system-logging-syslog)# no event-group all

.. **Help line:** configure minimum severity level of generated system-events by DNOS.

**Command History**

+---------+----------------------------+
| Release | Modification               |
+=========+============================+
| 11.0    | Command introduced         |
+---------+----------------------------+
| 17.2    | Added clock to event-group |
+---------+----------------------------+



---

## logging/syslog/event/event.rst

system logging syslog event
---------------------------

**Minimum user role:** operator

Enter system event name.

To configure system event:

**Command syntax: event [event]**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**

- Set non-default system event parameters.

**Parameter table**

+-----------+---------------------------+-------+---------+
| Parameter | Description               | Range | Default |
+===========+===========================+=======+=========+
| event     | The event name to modify. | \-    | \-      |
+-----------+---------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# event PLATFORM_TRANSCEIVER_REMOVED


**Removing Configuration**

To revert system event to its default value:
::

    dnRouter(cfg-system-logging-syslog)# no event PLATFORM_TRANSCEIVER_REMOVED

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## logging/syslog/event/severity.rst

system logging syslog event severity
------------------------------------

**Minimum user role:** operator

Enter system event severity level.

To configure system event severity:

**Command syntax: severity [severity]**

**Command mode:** config

**Hierarchies**

- system logging syslog event

**Note**

- Set non-default system event severity level.

**Parameter table**

+-----------+---------------------------+---------------+---------+
| Parameter | Description               | Range         | Default |
+===========+===========================+===============+=========+
| severity  | The event severity level. | | emergency   | \-      |
|           |                           | | alert       |         |
|           |                           | | critical    |         |
|           |                           | | error       |         |
|           |                           | | warning     |         |
|           |                           | | notice      |         |
|           |                           | | info        |         |
|           |                           | | debug       |         |
|           |                           | | none        |         |
+-----------+---------------------------+---------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# event PLATFORM_TRANSCEIVER_REMOVED
    dnRouter(cfg-system-logging-syslog-PLATFORM-TRANSCEIVER-REMOVED)# severity info


**Removing Configuration**

To revert system event severity to its default value:
::

    dnRouter(cfg-system-logging-syslog-PLATFORM-TRANSCEIVER-REMOVED)# no severity

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.3    | Command introduced |
+---------+--------------------+

---

## logging/syslog/facility.rst

system logging syslog facility
------------------------------

**Minimum user role:** operator

To configure the facility to which the system log messages belongs:

**Command syntax: facility [syslog-facility]**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**
- no command set facility to the default value

**Parameter table**

+-----------------+-------------------------------------------------------------------------------+-------------------+---------+
| Parameter       | Description                                                                   | Range             | Default |
+=================+===============================================================================+===================+=========+
| syslog-facility | The code that specifies the facility to which the system log message belongs. | | kern            | local7  |
|                 |                                                                               | | user            |         |
|                 |                                                                               | | mail            |         |
|                 |                                                                               | | system-daemon   |         |
|                 |                                                                               | | auth            |         |
|                 |                                                                               | | syslog          |         |
|                 |                                                                               | | lpr             |         |
|                 |                                                                               | | news            |         |
|                 |                                                                               | | uucp            |         |
|                 |                                                                               | | cron            |         |
|                 |                                                                               | | authpriv        |         |
|                 |                                                                               | | ftp             |         |
|                 |                                                                               | | ntp             |         |
|                 |                                                                               | | log-alert       |         |
|                 |                                                                               | | local0          |         |
|                 |                                                                               | | local1          |         |
|                 |                                                                               | | local2          |         |
|                 |                                                                               | | local3          |         |
|                 |                                                                               | | local4          |         |
|                 |                                                                               | | local5          |         |
|                 |                                                                               | | local6          |         |
|                 |                                                                               | | local7          |         |
+-----------------+-------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# facility local0


**Removing Configuration**

To revert the facility configuration to default:
::

    dnRouter(cfg-system-logging-syslog)# no facility

**Command History**

+---------+--------------------------------------------------------------------------------------------------------------------------+
| Release | Modification                                                                                                             |
+=========+==========================================================================================================================+
| 5.1.0   | Command introduced                                                                                                       |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 6.0     | Applied new hierarchy                                                                                                    |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 10.0    | Applied new hierarchy                                                                                                    |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 11.0    | Removed from the server hierarchy to global syslog hierarchy and changed the syntax from 'server-facility' to 'facility' |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 11.5    | Renamed the daemon, security, console, and solaris-cron facilities as system-daemon, log-audit, log-alert, and           |
|         | clock-daemon                                                                                                             |
+---------+--------------------------------------------------------------------------------------------------------------------------+
| 19.1    | Removed unsupported facilities log-audit and clock-daemon                                                                |
+---------+--------------------------------------------------------------------------------------------------------------------------+

---

## logging/syslog/kernel-severity.rst

system logging syslog kernel-severity
-------------------------------------

**Minimum user role:** operator

To change the minimal severity level of BaseOS kernel message logging:

**Command syntax: kernel-severity [kernel-severity]**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Parameter table**

+-----------------+---------------------------------------+---------------+----------+
| Parameter       | Description                           | Range         | Default  |
+=================+=======================================+===============+==========+
| kernel-severity | minimal kernel logging severity level | | emergency   | critical |
|                 |                                       | | alert       |          |
|                 |                                       | | critical    |          |
|                 |                                       | | error       |          |
|                 |                                       | | warning     |          |
|                 |                                       | | notice      |          |
|                 |                                       | | info        |          |
|                 |                                       | | debug       |          |
|                 |                                       | | none        |          |
+-----------------+---------------------------------------+---------------+----------+

**Example**
::

    dev-dnRouter(cfg)# system
    dev-dnRouter(cfg-system)# logging
    dev-dnRouter(cfg-system-logging)# syslog
    dev-dnRouter(cfg-system-logging-syslog)# kernel-severity warning


**Removing Configuration**

To revert the minimal kernel log severity level to default:
::

    dnRouter(cfg-system-ncp-0)# no kernel-severity

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.3    | Command introduced |
+---------+--------------------+

---

## logging/syslog/server/admin-state.rst

system logging syslog server vrf admin-state
--------------------------------------------

**Minimum user role:** operator

To enable or disable the remote syslog server

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system logging syslog server vrf

**Note**
- no command set admin-state to the default value
- when syslog-server admin-state is set to disabled, system-events are not exported to this syslog server

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                                      | Range        | Default |
+=============+==================================================================================+==============+=========+
| admin-state | Sets the administrative state of the remote syslog server. When disabled, system | | disabled   | enabled |
|             | events will not be exported to this syslog server.                               | | enabled    |         |
+-------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# server 1.2.3.4 vrf default
    dnRouter(system-logging-syslog-server)# admin-state disabled


**Removing Configuration**

To disable the syslog server:
::

    dnRouter(system-logging-syslog-server)# no admin-state

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 5.1.0   | Command introduced    |
+---------+-----------------------+
| 6.0     | Applied new hierarchy |
+---------+-----------------------+
| 10.0    | Applied new hierarchy |
+---------+-----------------------+
| 11.0    | Applied new hierarchy |
+---------+-----------------------+

---

## logging/syslog/server/facility.rst

system logging syslog server vrf facility
-----------------------------------------

**Minimum user role:** operator

To override the global Syslog facility configuration on a per server basis.

**Command syntax: facility [facility]**

**Command mode:** config

**Hierarchies**

- system logging syslog server vrf

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------------------+---------+
| Parameter | Description                                                                      | Range             | Default |
+===========+==================================================================================+===================+=========+
| facility  | Facility code which overrides the globally configured syslog facility on a per   | | kern            | \-      |
|           | server basis                                                                     | | user            |         |
|           |                                                                                  | | mail            |         |
|           |                                                                                  | | system-daemon   |         |
|           |                                                                                  | | auth            |         |
|           |                                                                                  | | syslog          |         |
|           |                                                                                  | | lpr             |         |
|           |                                                                                  | | news            |         |
|           |                                                                                  | | uucp            |         |
|           |                                                                                  | | cron            |         |
|           |                                                                                  | | authpriv        |         |
|           |                                                                                  | | ftp             |         |
|           |                                                                                  | | ntp             |         |
|           |                                                                                  | | log-alert       |         |
|           |                                                                                  | | local0          |         |
|           |                                                                                  | | local1          |         |
|           |                                                                                  | | local2          |         |
|           |                                                                                  | | local3          |         |
|           |                                                                                  | | local4          |         |
|           |                                                                                  | | local5          |         |
|           |                                                                                  | | local6          |         |
|           |                                                                                  | | local7          |         |
+-----------+----------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

    dev-dnRouter(cfg)# system
    dev-dnRouter(cfg-system)# logging
    dev-dnRouter(cfg-system-logging)# syslog
    dev-dnRouter(cfg-system-logging-syslog)# server 1.1.1.1 vrf default
    dev-dnRouter(cfg-logging-syslog-server)# facility auth


**Removing Configuration**

To revert the facility per server configuration to default:
::

    dev-dnRouter(cfg-logging-syslog-server)# no facility

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## logging/syslog/server/port.rst

system logging syslog server vrf port
-------------------------------------

**Minimum user role:** operator

To set the port on which the syslog server listens to requests from clients.

**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system logging syslog server vrf

**Note**
- no command set port to the default value

**Parameter table**

+-----------+-----------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                           | Range   | Default |
+===========+=======================================================================+=========+=========+
| port      | The port on which the syslog server listens to requests from clients. | 1-65535 | 514     |
+-----------+-----------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# server 1.2.3.4 vrf default
    dnRouter(system-logging-syslog-server)# port 51021


**Removing Configuration**

To revert the port configuration to default:
::

    dnRouter(system-logging-syslog-server)# no port

**Command History**

+---------+-----------------------------+
| Release | Modification                |
+=========+=============================+
| 5.1.0   | Command introduced          |
+---------+-----------------------------+
| 6.0     | Applied new hierarchy       |
+---------+-----------------------------+
| 10.0    | Applied new hierarchy       |
+---------+-----------------------------+
| 11.0    | Applied new hierarchy       |
+---------+-----------------------------+
| 11.5.6  | Updated value of port range |
+---------+-----------------------------+

---

## logging/syslog/server/protocol.rst

system logging syslog server vrf protocol
-----------------------------------------

**Minimum user role:** operator

The default protocol for syslog services is UDP. You can change the protocol to the more reliable TCP protocol for important logs.

To configure the protocol for the syslog server:

**Command syntax: protocol [protocol]**

**Command mode:** config

**Hierarchies**

- system logging syslog server vrf

**Parameter table**

+-----------+---------------------------------------------------------+---------+---------+
| Parameter | Description                                             | Range   | Default |
+===========+=========================================================+=========+=========+
| protocol  | The protocol based on which system messages are logged. | | tcp   | udp     |
|           |                                                         | | udp   |         |
+-----------+---------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# server 1.2.3.4 vrf default
    dnRouter(system-logging-syslog-server)# protocol tcp


**Removing Configuration**

To revert the protocol per server configuration to default:
::

    dnRouter(system-logging-syslog-server)# no protocol

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 5.1.0   | Command introduced    |
+---------+-----------------------+
| 6.0     | Applied new hierarchy |
+---------+-----------------------+
| 10.0    | Applied new hierarchy |
+---------+-----------------------+
| 11.0    | Applied new hierarchy |
+---------+-----------------------+

---

## logging/syslog/server/server.rst

system logging syslog server vrf
--------------------------------

**Minimum user role:** operator

To send logs to a remote syslog server, configure the remote syslog server and enter its configuration mode. You can configure up to 20 remote servers. The server address can be IPv4/IPv6.

**Command syntax: server [server-address] vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**

- Notice the change in prompt

- The syslog exporting is supported for mgmt0 (out-of-band) and all in-band VRFs.

- VRF cannot be removed if it is used by a syslog server.

.. - "no server" command removes all the syslog-servers

  - "no server [ip vrf]" command removes specific syslog-servers

  - server address can be either IPv4/IPv6 address or fully/partially qualified domain name

  - syslog exporting is done per vrf, "default" vrf represents in-band management and "mgmt0" vrf represents out-of-band management channel.

  - syslog source address type will be set according to the destination server IP address type.

  - up to 20 syslog servers are supported

**Parameter table**

+----------------+----------------------------------------------------------------------------------+-------------------------------+---------+
| Parameter      | Description                                                                      | Range                         | Default |
+================+==================================================================================+===============================+=========+
| server-address | The IPv4/IPv6 address of the remote server                                       | | A.B.C.D                     | \-      |
|                |                                                                                  | | xx:xx::xx:xx                |         |
+----------------+----------------------------------------------------------------------------------+-------------------------------+---------+
| vrf-name       | Defines whether syslog server management is in-band (default VRF) or out-of-band | | default - in-band           | \-      |
|                | (mgmt0 VRF)                                                                      | | mgmt0 - out-of-band         |         |
|                |                                                                                  | | (name of non-default VRF)   |         |
+----------------+----------------------------------------------------------------------------------+-------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# server 1.2.3.4 vrf default
    dnRouter(system-logging-syslog-server)#
    dnRouter(cfg-system-logging-syslog)# server 2001:ab12::1 vrf mgmt0
    dnRouter(system-logging-syslog-server)#
    dnRouter(cfg-system-logging-syslog)# server 2.3.4.5 vrf my_vrf
    dnRouter(system-logging-syslog-server)#


**Removing Configuration**

To remove a syslog server:
::

    dnRouter(system-logging-syslog)# no server 1.2.3.4 vrf default

dnRouter(system-logging-syslog)# no server 2001:ab12::1 vrf default

dnRouter(system-logging-syslog)# no server 2.3.4.5 vrf my_vrf

**Command History**

+---------+-------------------------------------------------------------------------------------------------------+
| Release | Modification                                                                                          |
+=========+=======================================================================================================+
| 5.1.0   | Command introduced                                                                                    |
+---------+-------------------------------------------------------------------------------------------------------+
| 6.0     | Applied new hierarchy                                                                                 |
+---------+-------------------------------------------------------------------------------------------------------+
| 10.0    | Applied new hierarchy                                                                                 |
+---------+-------------------------------------------------------------------------------------------------------+
| 11.0    | Moved from logging hierarchy to syslog hierarchy. Changed the syntax from 'syslog-server' to 'server' |
+---------+-------------------------------------------------------------------------------------------------------+
| 11.4    | Added option to configure a server using its hostname                                                 |
+---------+-------------------------------------------------------------------------------------------------------+
| 13.1    | Added support for syslog-server out-of-band management in addition to in-band management using VRF    |
+---------+-------------------------------------------------------------------------------------------------------+
| 15.1    | Added support for IPv6 address format                                                                 |
+---------+-------------------------------------------------------------------------------------------------------+
| 18.1    | Removed the option to configure a server using its hostname                                           |
+---------+-------------------------------------------------------------------------------------------------------+
| 19.3    | Increased maximum number of servers to 20                                                             |
+---------+-------------------------------------------------------------------------------------------------------+

---

## logging/syslog/server/severity.rst

system logging syslog server vrf severity
-----------------------------------------

**Minimum user role:** operator

Configure the severity per syslog server.

The default severity per syslog server is warning. You can change the severity to emergency, criticial, error, warning, notification, info, and debug.

To configure the severity per syslog server:

**Command syntax: severity [severity]**

**Command mode:** config

**Hierarchies**

- system logging syslog server vrf

**Note**
- The 'no' command sets the severity to the default value.

**Parameter table**

+-----------+---------------------------------+---------------+---------+
| Parameter | Description                     | Range         | Default |
+===========+=================================+===============+=========+
| severity  | Set severity per syslog server. | | emergency   | warning |
|           |                                 | | alert       |         |
|           |                                 | | critical    |         |
|           |                                 | | error       |         |
|           |                                 | | warning     |         |
|           |                                 | | notice      |         |
|           |                                 | | info        |         |
|           |                                 | | debug       |         |
|           |                                 | | none        |         |
+-----------+---------------------------------+---------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# server 1.2.3.4 vrf default
    dnRouter(system-logging-syslog-server)# severity info
    dnRouter(system-logging-syslog-server)# no severity


**Removing Configuration**

To revert the severity per server configuration to default:
::

    dnRouter(system-logging-syslog-server)# no severity

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.1    | Command introduced |
+---------+--------------------+

---

## logging/syslog/server/source-interface.rst

system logging syslog server vrf source-interface
-------------------------------------------------

**Minimum user role:** operator

The selected source-interface defines the source IP address of packets sent to syslog servers in corresponding server VRF.

When the source-interface is *not* configured, depending on server VRF, the following rules apply:

- when server VRF is `mgmt0` then the IP address of `mgmt0` interface will be used
- when server VRF is `default` then:
    - if `system logging syslog source-interface` is configured, the IP address of that interface will be used
    - otherwise if `system in-band-management source-interface` is configured, then the IP address of that interface will be used
    - otherwise syslog messages will not be sent to the syslog server
- when server VRF is not `mgmt0` or `default` then:
    - if `network-services vrf instance in-band-management source-interface` is configured, then the IP address of that interface will be used
    - otherwise syslog messages will not be sent to the syslog server

To configure the source-interface:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system logging syslog server vrf

**Note**

- If the interface is configured with multiple IP addresses, the primary address will be used.

- Interface selected as source-interface for syslog server in any VRF cannot be removed.

**Parameter table**

+------------------+----------------------------------------------------------------------------------+----------------------------------------+---------+
| Parameter        | Description                                                                      | Range                                  | Default |
+==================+==================================================================================+========================================+=========+
| source-interface | The interface whose IP address will be used as the source IP address for         | Any interface in the corresponding VRF | \-      |
|                  | messages sent to remote syslog servers.                                          |                                        |         |
|                  | In the event that both IP address families are configured on the                 |                                        |         |
|                  | source-interface, the IP address will be assigned according to the server's      |                                        |         |
|                  | address family.                                                                  |                                        |         |
+------------------+----------------------------------------------------------------------------------+----------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# server 1.2.3.4 vrf my_vrf
    dnRouter(cfg-logging-syslog-server)# source-interface ge100-0/0/1


**Removing Configuration**

To delete the source-interface configuration of this syslog server and use the defaults provided by: network-services, system logging syslog or system in-band-management (depending on server VRF):
::

    dnRouter(cfg-logging-syslog-server)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## logging/syslog/source-interface.rst

system logging syslog source-interface
--------------------------------------

**Minimum user role:** operator

The syslog source-interface defines the source IP address of packets sent to syslog servers in default VRF (VRF-0). If you do not configure a source-interface, the IP of the system in-band-management source-interface will be used. If an in-band-management source-interface is not configured either, then syslog messages will not be directed to the syslog server.

To configure the source-interface:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**
- If the interface is configured with multiple IP addresses, the primary address will be used.

- Interface cannot be removed if it is selected as source interface for syslog server in default VRF (VRF-0).

.. - source-interface must be set with IP address (IPv4 or/and IPv6), in case both the IP address families are configured on the source interface the IP address will be assigned according to the server's address family

  - no source-interface command sets the source IP address for the syslog message to be according to the "system in-band-management source-interface" CLI command. If no interface was set for "system in-band-management source-interface", syslog messages will not be exported to the syslog server

  - if interface has more than one IP address, the primary address is used

**Parameter table**

+------------------+----------------------------------------------------------------------------------+------------------------------------------------------------+---------+
| Parameter        | Description                                                                      | Range                                                      | Default |
+==================+==================================================================================+============================================================+=========+
| source-interface | The interface whose IP address will be used as the source IP address for         | Any interface in the default VRF with an IPv4/IPv6 address | \-      |
|                  | messages sent to remote syslog servers.                                          |                                                            |         |
|                  | In the event that both IP address families are configured on the                 |                                                            |         |
|                  | source-interface, the IP address will be assigned according to the server's      |                                                            |         |
|                  | address family.                                                                  |                                                            |         |
+------------------+----------------------------------------------------------------------------------+------------------------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# source-interface bundle-1


**Removing Configuration**

To remove the default source-interface used by servers in default VRF (VRF-0):
::

    dnRouter(cfg-system-logging-syslog)# no source-interface

**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 11.0    | Command introduced                    |
+---------+---------------------------------------+
| 15.1    | Added support for IPv6 address family |
+---------+---------------------------------------+

---

## logging/syslog/suppress-event-list.rst

system logging syslog suppress-event-list
-----------------------------------------

**Minimum user role:** operator

The suppress-event-list is a list of system events that you do not want DNOS to generate.

To add a system event to the suppress-event-list:

**Command syntax: suppress-event-list [suppress-event-name]**

**Command mode:** config

**Hierarchies**

- system logging syslog

.. **Note**

	-  no command removes the event from suppress-list

**Parameter table**

+------------+--------------------------------------------------------------------+-----------+---------+
| Parameter  | Description                                                        | Range     | Default |
+============+====================================================================+===========+=========+
| event-name | State the name of the event that you do not want DNOS to generate. | Any event | \-      |
+------------+--------------------------------------------------------------------+-----------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# logging
	dnRouter(cfg-system-logging)# syslog
	dnRouter(cfg-system-logging-syslog)# suppress-event-list BGP_NEIGHBOR_MAXIMUM_PREFIX_THRESHOLD_EXCEEDED
	
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-logging-syslog)# no suppress-event-list BGP_NEIGHBOR_MAXIMUM_PREFIX_THRESHOLD_EXCEEDED

.. **Help line:** add system-event to the events suppress-list.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+



---

## logging/syslog/syslog.rst

system logging syslog
---------------------

**Minimum user role:** operator

You can manage which log files will be sent to a remote syslog server. See system logging syslog server for details on configuring a syslog server.

To enter the syslog configuration mode:

**Command syntax: syslog**

**Command mode:** config

**Hierarchies**

- system logging

**Note**
- Notice the change in prompt

.. - no command reverts all the syslog parameters back to the default

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)#


**Removing Configuration**

To revert all the syslog parameters back to the default
::

    dnRouter(cfg-system-logging)# no syslog

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## logging/syslog/timestamp-format/timestamp-format.rst

system logging syslog timestamp-format
--------------------------------------

**Minimum user role:** operator

Configure the timestamp UTC normalization.
Define how the timestamp is printed in the system-events syslogs.

**Command syntax: timestamp-format**

**Command mode:** config

**Hierarchies**

- system logging syslog

**Note**
- The 'no' command returns all configuration under timestamp-format to their default settings.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# timestamp-format
    dnRouter(cfg-logging-syslog-timestamp)#


**Removing Configuration**

To return all configuration under timestamp-format to their default settings
::

    dnRouter(cfg-system-logging-syslog)# no timestamp-format

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.1    | Command introduced |
+---------+--------------------+

---

## logging/syslog/timestamp-format/utc-normalize.rst

system logging syslog timestamp-format utc-normalize
----------------------------------------------------

**Minimum user role:** operator

Specifies if generated system-events timestamp format will be normalized based on the UTC time-zone or based on the configured system time-zone. When enabled, timestamp will be normalized based on the UTC time-zone.

**Command syntax: utc-normalize [admin-state]**

**Command mode:** config

**Hierarchies**

- system logging syslog timestamp-format

**Note**
- The 'no' command returns to the default value.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                                      | Range        | Default |
+=============+==================================================================================+==============+=========+
| admin-state | Specifies if generated system-events timestamp format is based on configured     | | enabled    | enabled |
|             | system time-zone or normalized to UTC.                                           | | disabled   |         |
+-------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# logging
    dnRouter(cfg-system-logging)# syslog
    dnRouter(cfg-system-logging-syslog)# timestamp-format
    dnRouter(cfg-logging-syslog-timestamp)# utc-normalize enabled


**Removing Configuration**

To return the utc-normalize configuration to default:
::

    dnRouter(cfg-logging-syslog-timestamp)# no utc-normalize

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.1    | Command introduced |
+---------+--------------------+

---

## name.rst

system name
-----------

**Minimum user role:** operator

The system name identifies the server in the CLI prompt and elsewhere. The system name is provided automatically during deployment, but you can change the default name, as follows:

**Command syntax: name [name]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- The new name will appear in the prompt after commit. See Transaction Commands.
- Support the following characters: 0-9 a-z A-Z - _ .

**Parameter table**

+-----------+-------------------------+-----------------+----------+
| Parameter | Description             | Range           | Default  |
+===========+=========================+=================+==========+
| name      | The name of the system. | | string        | dnRouter |
|           |                         | | length 1-48   |          |
+-----------+-------------------------+-----------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# name my-system-name


**Removing Configuration**

To revert the configured system name to default
::

    dnRouter(cfg-system)# no name

**Command History**

+---------+-------------------------------------+
| Release | Modification                        |
+=========+=====================================+
| 5.1.0   | Command introduced                  |
+---------+-------------------------------------+
| 6.0     | Applied new hierarchy               |
+---------+-------------------------------------+
| 9.0     | Name size limited to 255 characters |
+---------+-------------------------------------+
| 16.2    | Name size limited to 24 characters  |
+---------+-------------------------------------+
| 18.0    | Name size limited to 48 characters  |
+---------+-------------------------------------+

---

## ncc/description.rst

system ncc description
----------------------

**Minimum user role:** operator

To provide a description for the NCC:

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system ncc

**Note**

- no command returns the ncc description to its default. For ncc case its "dn-ncc-0" or "dn-ncc-1"

**Parameter table**

+-------------+----------------------------------------------------------------------------------+------------------+---------------------------------------+
| Parameter   | Description                                                                      | Range            | Default                               |
+=============+==================================================================================+==================+=======================================+
| description | "Free text describing the NCC."                                                  | | string         | dn-ncc-1 (the ID of the selected NCC) |
|             | "Enter free-text description with spaces in between quotation marks. If you do   | | length 1-255   |                                       |
|             | not use quotation marks, do not use spaces. For example:"                        |                  |                                       |
|             | "... description "My long description"                                           |                  |                                       |
|             | "... description My_long_description"                                            |                  |                                       |
+-------------+----------------------------------------------------------------------------------+------------------+---------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncc 1
    dnRouter(cfg-system-ncc-1)# description my_desc


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-ncc-1)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncc/hardware/hardware.rst

system ncc hardware
-------------------

**Minimum user role:** operator

Configure system hardware

**Command syntax: hardware**

**Command mode:** config

**Hierarchies**

- system ncc

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncc 1
    dnRouter(cfg-system-ncc-1)# hardware
    dnRouter(cfg-system-ncc-1-hardware)# hardware


**Removing Configuration**

To revert the configured hardware to default
::

    dnRouter(cfg-system-ncc-1)# no hardware

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## ncc/hardware/usb/admin_state.rst

system ncc hardware usb admin-state
-----------------------------------

**Minimum user role:** operator

To enable/disable the USB on a cluster element:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncc hardware usb

**Note**
- The command is applicable to any node (NCP, NCC, NCF).

.. - Admin-state disabled means unmount usb device.

	- admin-state -applies only after the DNOS software is loaded to the device and is first booted

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | The administrative state of the USB port. When disabled, you will not be able to | | enabled    | disabled |
|             | use the USB port.                                                                | | disabled   |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 1
    dnRouter(cfg-system-ncp-1)# hardware usb 0
    dnRouter(cfg-ncp-1-hardware-usb)# admin-state disabled


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-hardware-ncp-usb)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## ncc/hardware/usb/usb.rst

system ncc hardware usb
-----------------------

**Minimum user role:** operator

To enter the USB configuration mode:

**Command syntax: usb [usb-id]**

**Command mode:** config

**Hierarchies**

- system ncc hardware

**Note**

- Notice the change in prompt.

- The command is applicable to any node (NCP, NCC, NCF).

.. - no command returns the usb configuration to its default.

    - First user configured usb id is attached to first operation system assigned id usb.

**Parameter table**

+-----------+---------------------------------------------------+--------+---------+
| Parameter | Description                                       | Range  | Default |
+===========+===================================================+========+=========+
| usb-id    | The identifier of the USB port on the NC element. | [0..5] | \-      |
+-----------+---------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncc 1
    dnRouter(cfg-system-ncc-1)# hardware usb 0
    dnRouter(cfg-ncc-0-hardware-usb)#


**Removing Configuration**

To revert the router-id to default
::

    dnRouter(cfg-system-ncc-0-hardware)#no usb 0

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+
| 17.1    | Update max usb-id  |
+---------+--------------------+

---

## ncc/ncc.rst

system ncc
----------

**Minimum user role:** operator

Up to two NCCs can be set per cluster for redundancy; one active (the primary NCC) and the other in stand-by. The NCC identification is managed by DNOR. The first NCC that DNOR configures is by default the primary NCC and receives the ID 0. The other NCC is allocated the ID 1.
To enter the configuration mode of an NCC:

**Command syntax: ncc [ncc-id]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- NCC 1 is not applicable to a standalone NCP.

- Notice the change in prompt.

.. - no command returns the ncc entity to its default.

  - For **standalone cluster**, NCC-1 is not configured.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| ncc-id    | The identifier of the NCC. The ID is unique within the cluster. Up to 2 NCC per  | 0-1   | \-      |
|           | cluster can be configured                                                        |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncc 1
    dnRouter(cfg-system-ncc-1)#


**Removing Configuration**

To revert the router-id to default
::

    dnRouter(cfg-system)# no ncc 1

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncf/admin-state.rst

system ncf admin-state
----------------------

**Minimum user role:** operator

To change the admin-state of an NCF:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncf

**Note**

- When the NCF is disabled, all the Fabric interfaces go down. Mgmt, IPMI and Ctrl interfaces remain unaffected.

.. - no command set the admin-state to its default value

**Parameter table**

+-------------+--------------------------------------+--------------+---------+
| Parameter   | Description                          | Range        | Default |
+=============+======================================+==============+=========+
| admin-state | The administrative state of the NCF. | | enabled    | enabled |
|             |                                      | | disabled   |         |
+-------------+--------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 0
    dnRouter(cfg-system-ncf-0)# admin-state disabled


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-ncf-0)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncf/description.rst

system ncf description
----------------------

**Minimum user role:** operator

To provide a description for the NCF:

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system ncf

**Note**

- no command returns the ncc description to its default. For ncc case its "dn-ncf-0" etc

**Parameter table**

+-------------+----------------------------------------------------------------------------------+------------------+----------+
| Parameter   | Description                                                                      | Range            | Default  |
+=============+==================================================================================+==================+==========+
| description | "Free text describing the NCF."                                                  | | string         | dn-ncf-0 |
|             | "Enter free-text description with spaces in between quotation marks. If you do   | | length 1-255   |          |
|             | not use quotation marks, do not use spaces. For example:"                        |                  |          |
|             | "... description "My long description"                                           |                  |          |
|             | "... description My_long_description"                                            |                  |          |
+-------------+----------------------------------------------------------------------------------+------------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 1
    dnRouter(cfg-system-ncf-1)# description my_desc


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-ncf-1)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncf/hardware/hardware.rst

system ncf hardware
-------------------

**Minimum user role:** operator

Configure system hardware

**Command syntax: hardware**

**Command mode:** config

**Hierarchies**

- system ncf

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 1
    dnRouter(cfg-system-ncf-1)# hardware
    dnRouter(cfg-system-ncf-1-hardware)# hardware


**Removing Configuration**

To revert the configured hardware to default
::

    dnRouter(cfg-system-ncf-1)# no hardware

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## ncf/hardware/usb/admin_state.rst

system ncf hardware usb admin-state
-----------------------------------

**Minimum user role:** operator

To enable/disable the USB on a cluster element:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncf hardware usb

**Note**
- The command is applicable to any node (NCP, NCC, NCF).

.. - Admin-state disabled means unmount usb device.

	- admin-state -applies only after the DNOS software is loaded to the device and is first booted

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | The administrative state of the USB port. When disabled, you will not be able to | | enabled    | disabled |
|             | use the USB port.                                                                | | disabled   |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 1
    dnRouter(cfg-system-ncf-1)# hardware usb 0
    dnRouter(cfg-ncf-1-hardware-usb)# admin-state disabled


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-hardware-ncf-usb)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## ncf/hardware/usb/usb.rst

system ncf hardware usb
-----------------------

**Minimum user role:** operator

To enter the USB configuration mode:

**Command syntax: usb [usb-id]**

**Command mode:** config

**Hierarchies**

- system ncf hardware

**Note**

- Notice the change in prompt.

- The command is applicable to any node (NCP, NCC, NCF).

.. - no command returns the usb configuration to its default.

    - First user configured usb id is attached to first operation system assigned id usb.

**Parameter table**

+-----------+---------------------------------------------------+-------+---------+
| Parameter | Description                                       | Range | Default |
+===========+===================================================+=======+=========+
| usb-id    | The identifier of the USB port on the NC element. | 0     | \-      |
+-----------+---------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 1
    dnRouter(cfg-system-ncf-1)# hardware usb 0
    dnRouter(cfg-ncf-0-hardware-usb)#


**Removing Configuration**

To revert the router-id to default
::

    dnRouter(cfg-system-ncf-0-hardware)#no usb 0

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+
| 17.1    | Update max usb-id  |
+---------+--------------------+

---

## ncf/model.rst

system ncf model
----------------

**Minimum user role:** operator

To configure the model of the NCP:

**Command syntax: model [model]**

**Command mode:** config

**Hierarchies**

- system ncf

**Parameter table**

+-----------+------------------------+--------------+---------+
| Parameter | Description            | Range        | Default |
+===========+========================+==============+=========+
| model     | The NCF hardware model | | NCF-48CD   | \-      |
|           |                        | | NCF-128E   |         |
|           |                        | | NCF-64E    |         |
+-----------+------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 7 model NCF-48CD
    dnRouter(cfg-system-ncf-7)#


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system)# no ncf 7

**Command History**

+---------+------------------------------------+
| Release | Modification                       |
+=========+====================================+
| 11.0    | Command introduced                 |
+---------+------------------------------------+
| 16.1    | Added support for NCP-36CD-S model |
+---------+------------------------------------+
| 25.0    | Added support for NCF-64E model    |
+---------+------------------------------------+

---

## ncf/ncf.rst

system ncf
----------

**Minimum user role:** operator


To configure an NCF:

**Command syntax: ncf [ncf-id]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.

- While the NCP model is not required to identify a provisioned NCP, you nevertheless need to specify it as the same command is used to configure NCPs in a pre-provisioning scenario.

.. - no command deletes the ncf entity from the database.

  - For **standalone cluster**, NCF is not configured.

**Parameter table**

+-----------+-----------------------------------------------------------------+-------+---------+
| Parameter | Description                                                     | Range | Default |
+===========+=================================================================+=======+=========+
| ncf-id    | The identifier of the NCF. The ID is unique within the cluster. | 0..12 | \-      |
+-----------+-----------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncf 7 model NCF-48CD
    dnRouter(cfg-system-ncf-7)#


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system)# no ncf 7

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncm/description.rst

system ncm description
----------------------

**Minimum user role:** operator

To provide a description for the NCM:

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system ncm

**Note**

- no command returns the ncm description to its default. For ncm case its "dn-ncm-A0" etc

**Parameter table**

+-------------+----------------------------------------------------------------------------------+------------------+------------------------------------------+
| Parameter   | Description                                                                      | Range            | Default                                  |
+=============+==================================================================================+==================+==========================================+
| description | "Free text describing the NCM."                                                  | | string         | dn-ncm-<ID> (the ID of the selected NCM) |
|             | "Enter free-text description with spaces in between quotation marks. If you do   | | length 1-255   |                                          |
|             | not use quotation marks, do not use spaces. For example:"                        |                  |                                          |
|             | "... description "My long description"                                           |                  |                                          |
|             | "... description My_long_description"                                            |                  |                                          |
+-------------+----------------------------------------------------------------------------------+------------------+------------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncm A0
    dnRouter(cfg-system-ncm-A0)# description my_desc


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-ncm-A0)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.5    | Command introduced |
+---------+--------------------+

---

## ncm/ncm.rst

system ncm
----------

**Minimum user role:** operator

NCMs interconnect clusters' NCPs.

To enter the configuration mode of an NCM:

**Command syntax: ncm [ncm-id]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- NCM is not applicable to a standalone NCP.

- Notice the change in prompt.

.. - no command returns the ncm entity to its default.

  - For **standalone cluster**, ncm is not configured.

  - NCM configuration according to cluster type, i.e A0, B0 only valid for small cluster

**Parameter table**

+-----------+----------------------------------------------------------------------------------+----------------+---------+
| Parameter | Description                                                                      | Range          | Default |
+===========+==================================================================================+================+=========+
| ncm-id    | The identifier of the NCM. The ID is unique within the cluster. Up to 4 NCMs can | A0, B0, A1, B1 | \-      |
|           | be configured per cluster, depending on cluster size.                            |                |         |
+-----------+----------------------------------------------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncm A0
    dnRouter(cfg-system-ncm-A0)#


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system)# no ncm A0

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.5    | Command introduced |
+---------+--------------------+

---

## ncp/admin-state.rst

system ncp admin-state
----------------------

**Minimum user role:** operator

To change the admin-state of an NCP:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncp

**Note**

- When the NCP is disabled, all the datapath interfaces go down and there are no FIBs in the NCP. Mgmt, IPMI and Ctrl interfaces remain unaffected.

.. - no command set the admin-state to its default value

**Parameter table**

+-------------+--------------------------------------+--------------+----------+
| Parameter   | Description                          | Range        | Default  |
+=============+======================================+==============+==========+
| admin-state | The administrative state of the NCP. | | enabled    | disabled |
|             |                                      | | disabled   |          |
+-------------+--------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 0
    dnRouter(cfg-system-ncp-0)# admin-state disabled


**Removing Configuration**

To revert the admin-state to default:
::

    dnRouter(cfg-system-ncp-0)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncp/clock/clock.rst

system ncp clock
----------------

**Minimum user role:** operator

Enter timing related configuration options and reference synchronization clock settings.

To configure timing parameters:

**Command syntax: clock**

**Command mode:** config

**Hierarchies**

- system ncp

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)#


**Removing Configuration**

To revert the clock to its default value:
::

    dnRouter(cfg-system-ncp-7)# no clock

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/10mhz.rst

system ncp clock gnss 10mhz
---------------------------

**Minimum user role:** operator

Configure 10MHz GNSS input reference port

**Command syntax: 10mhz**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# 10mhz
    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)#


**Removing Configuration**

To revert the 10mhz GNSS source to default values:
::

    dnRouter(cfg-system-ncp-7-clk-gnss)# no 10mhz

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/10mhz/holdoff.rst

system ncp clock gnss 10mhz holdoff
-----------------------------------

**Minimum user role:** operator

Set 10mhz reference source hold-off-time parameter.

**Command syntax: holdoff [hold-off-time]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss 10mhz

**Parameter table**

+---------------+--------------------+----------+---------+
| Parameter     | Description        | Range    | Default |
+===============+====================+==========+=========+
| hold-off-time | SyncE holdoff time | 300-1800 | 300     |
+---------------+--------------------+----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# 10mhz
    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# holdoff 400


**Removing Configuration**

To revert the 10mhz GNSS reference source to default hold-off time:
::

    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# no holdoff

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/10mhz/mode.rst

system ncp clock gnss 10mhz mode
--------------------------------

**Minimum user role:** operator

When Sync-Ethernet timing feature is enabled, the GNSS based 10MHz port is set to either synchronous or non-synchronous.

**Command syntax: mode [mode]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss 10mhz

**Parameter table**

+-----------+----------------------------------------------+---------------------+-----------------+
| Parameter | Description                                  | Range               | Default         |
+===========+==============================================+=====================+=================+
| mode      | The GNSS 10MHz sync-ethernet operating mode. | | synchronous       | non-synchronous |
|           |                                              | | non-synchronous   |                 |
+-----------+----------------------------------------------+---------------------+-----------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# 10mhz
    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# mode synchronous

    dnRouter# configure
    dnRouter(cfg)# interfaces ge400-0/0/0 clock synce mode non-synchronous


**Removing Configuration**

To set interface synce mode to default:
::

    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# no mode

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/10mhz/priority.rst

system ncp clock gnss 10mhz priority
------------------------------------

**Minimum user role:** operator

Set the 10mhz GNSS reference source priority.

**Command syntax: priority [priority]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss 10mhz

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| priority  | Indicates the configured priority of the source clock. A smaller value           | 0-255 | 0       |
|           | represents a higher priority. 0 means interface will not be included for clock   |       |         |
|           | selection                                                                        |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# 10mhz
    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# priority 1


**Removing Configuration**

To revert the 10mhz GNSS source priority to default values:
::

    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# no priority

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/10mhz/quality-level.rst

system ncp clock gnss 10mhz quality-level
-----------------------------------------

**Minimum user role:** operator

Set the 10mhz GNSS reference source quality-level.

**Command syntax: quality-level [quality-level]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss 10mhz

**Parameter table**

+---------------+--------------------------------+----------------------------+---------+
| Parameter     | Description                    | Range                      | Default |
+===============+================================+============================+=========+
| quality-level | Reference source quality level | | no_ql                    | no_ql   |
|               |                                | | -- Option-1 Levels: --   |         |
|               |                                | | ql_prc                   |         |
|               |                                | | ql_ssu_a                 |         |
|               |                                | | ql_ssu_b                 |         |
|               |                                | | ql_sec                   |         |
|               |                                | | ql_dnu                   |         |
|               |                                | | -- Option-2 Levels: --   |         |
|               |                                | | ql_prs                   |         |
|               |                                | | ql_stu                   |         |
|               |                                | | ql_st2                   |         |
|               |                                | | ql_tnc                   |         |
|               |                                | | ql_st3e                  |         |
|               |                                | | ql_st3                   |         |
|               |                                | | ql_smc                   |         |
|               |                                | | ql_prov                  |         |
|               |                                | | ql_dus                   |         |
+---------------+--------------------------------+----------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# 10mhz
    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# quality-level ql_prc


**Removing Configuration**

To revert the 10mhz GNSS source quality-level to default
::

    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# no quality-level

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/10mhz/wait-to-restore.rst

system ncp clock gnss 10mhz wtr
-------------------------------

**Minimum user role:** operator

Set the 10mhz GNSS reference source wait-to-restore time.

**Command syntax: wtr [wtr]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss 10mhz

**Parameter table**

+-----------+-------------------------------------------+-------+---------+
| Parameter | Description                               | Range | Default |
+===========+===========================================+=======+=========+
| wtr       | Sets the wait to restore time in minutes. | 0-12  | 5       |
+-----------+-------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# 10mhz
    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# wtr 5


**Removing Configuration**

To revert the 10mhz GNSS source wtr time to default values:
::

    dnRouter(cfg-system-ncp-7-clk-gnss-10mhz)# no wtr

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/cable-compensation.rst

system ncp clock gnss cable-compensation
----------------------------------------

**Minimum user role:** operator

Set the GNSS cable length compensation value.

**Command syntax: cable-compensation [cable-compensation]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss

**Parameter table**

+--------------------+------------------------------------------------+----------------------+---------+
| Parameter          | Description                                    | Range                | Default |
+====================+================================================+======================+=========+
| cable-compensation | Cable length compensation value in nanoseconds | -100000000-100000000 | \-      |
+--------------------+------------------------------------------------+----------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# cable-compensation 100


**Removing Configuration**

Reset cable length compensation value to zero.
::

    dnRouter(cfg-system-ncp-7-clk-gnss)# no cable-compensation

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/cno.rst

system ncp clock gnss cno
-------------------------

**Minimum user role:** operator

Set the navigation carrier to noise density ratio [dbHz].

**Command syntax: cno [cno]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| cno       | GNSS CNO - ratio of the carrier power C to the noise power density N0, expressed | 0-255 | \-      |
|           | in dB-Hz                                                                         |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# cno 21


**Removing Configuration**

Reset CNo value to default.
::

    dnRouter(cfg-system-ncp-7-clk-gnss)# no cno

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations.rst

system ncp clock gnss constellations
------------------------------------

**Minimum user role:** operator

Configure GNSS constellations

**Command syntax: constellations**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)#


**Removing Configuration**

Reset constellations settings to default
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no constellations

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/beidou.rst

system ncp clock gnss constellations beidou
-------------------------------------------

**Minimum user role:** operator

Set the BEIDOU constellation as enabled or disabled.

**Command syntax: beidou [beidou]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+---------------------------------------------------+--------------+----------+
| Parameter | Description                                       | Range        | Default  |
+===========+===================================================+==============+==========+
| beidou    | Sets BEIDOU constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                   | | enabled    |          |
+-----------+---------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# beidou enabled


**Removing Configuration**

To disable the BEIDOU constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no beidou

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/galileo.rst

system ncp clock gnss constellations galileo
--------------------------------------------

**Minimum user role:** operator

Set the GALILEO constellation as enabled or disabled.

**Command syntax: galileo [galileo]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+----------------------------------------------------+--------------+----------+
| Parameter | Description                                        | Range        | Default  |
+===========+====================================================+==============+==========+
| galileo   | Sets GALILEO constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                    | | enabled    |          |
+-----------+----------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# galileo enabled


**Removing Configuration**

To disable the GALILEO constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no galileo

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/glonass.rst

system ncp clock gnss constellations glonass
--------------------------------------------

**Minimum user role:** operator

Set the GLONASS constellation as enabled or disabled.

**Command syntax: glonass [glonass]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+----------------------------------------------------+--------------+----------+
| Parameter | Description                                        | Range        | Default  |
+===========+====================================================+==============+==========+
| glonass   | Sets GLONASS constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                    | | enabled    |          |
+-----------+----------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# glonass enabled


**Removing Configuration**

To disable the GLONASS constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no glonass

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/gps.rst

system ncp clock gnss constellations gps
----------------------------------------

**Minimum user role:** operator

Set the GPS constellation as enabled or disabled.

**Command syntax: gps [gps]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+------------------------------------------------+--------------+----------+
| Parameter | Description                                    | Range        | Default  |
+===========+================================================+==============+==========+
| gps       | Sets GPS constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                | | enabled    |          |
+-----------+------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# gps enabled


**Removing Configuration**

To disable the GPS constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no gps

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/imes.rst

system ncp clock gnss constellations imes
-----------------------------------------

**Minimum user role:** operator

Set the IMES constellation as enabled or disabled.

**Command syntax: imes [imes]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+-------------------------------------------------+--------------+----------+
| Parameter | Description                                     | Range        | Default  |
+===========+=================================================+==============+==========+
| imes      | Sets IMES constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                 | | enabled    |          |
+-----------+-------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# imes enabled


**Removing Configuration**

To disable the IMES constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no imes

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/qzss.rst

system ncp clock gnss constellations qzss
-----------------------------------------

**Minimum user role:** operator

Set the QZSS constellation as enabled or disabled.

**Command syntax: qzss [qzss]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+-------------------------------------------------+--------------+----------+
| Parameter | Description                                     | Range        | Default  |
+===========+=================================================+==============+==========+
| qzss      | Sets QZSS constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                 | | enabled    |          |
+-----------+-------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# qzss enabled


**Removing Configuration**

To disable the QZSS constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no qzss

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/constellations/sbas.rst

system ncp clock gnss constellations sbas
-----------------------------------------

**Minimum user role:** operator

Set the SBAS constellation as enabled or disabled.

**Command syntax: sbas [sbas]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss constellations

**Parameter table**

+-----------+-------------------------------------------------+--------------+----------+
| Parameter | Description                                     | Range        | Default  |
+===========+=================================================+==============+==========+
| sbas      | Sets SBAS constellation as enabled or disabled. | | disabled   | disabled |
|           |                                                 | | enabled    |          |
+-----------+-------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# constellations
    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# sbas enabled


**Removing Configuration**

To disable the SBAS constellation
::

    dnRouter(cfg-system-ncp-7-clk-gnss-constellations)# no sbas

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/gnss.rst

system ncp clock gnss
---------------------

**Minimum user role:** operator

Enter GNSS related configuration options and reference synchronization clock settings.

To configure the sync parameters:

**Command syntax: gnss**

**Command mode:** config

**Hierarchies**

- system ncp clock

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk/gnss)#


**Removing Configuration**

To revert GNSS config to default values:
::

    dnRouter(cfg-system-ncp-7-clk)# no gnss

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/min-satellites.rst

system ncp clock gnss min-satellites
------------------------------------

**Minimum user role:** operator

Set the GNSS minimal satellites threshold.

**Command syntax: min-satellites [min-satellites]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss

**Parameter table**

+----------------+----------------------------------------------+-------+---------+
| Parameter      | Description                                  | Range | Default |
+================+==============================================+=======+=========+
| min-satellites | GNSS navigation minimal number of satellites | 1-8   | \-      |
+----------------+----------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# min-satellites 4


**Removing Configuration**

Reset min-satellites value to default.
::

    dnRouter(cfg-system-ncp-7-clk-gnss)# no min-satellites

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/gnss/mode.rst

system ncp clock gnss mode
--------------------------

**Minimum user role:** operator

Set the GNSS port as enabled or disabled.

**Command syntax: mode [mode]**

**Command mode:** config

**Hierarchies**

- system ncp clock gnss

**Parameter table**

+-----------+----------------------------------------+--------------+----------+
| Parameter | Description                            | Range        | Default  |
+===========+========================================+==============+==========+
| mode      | Sets GNSS port as enabled or disabled. | | enabled    | disabled |
|           |                                        | | disabled   |          |
+-----------+----------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# gnss
    dnRouter(cfg-system-ncp-7-clk-gnss)# mode enabled


**Removing Configuration**

To disable the GNSS port
::

    dnRouter(cfg-system-ncp-7-clk-gnss)# no gnss

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1.rst

system ncp clock ptp g8275-1
----------------------------

**Minimum user role:** operator

Enter the PTP 1588v2 G8275.1 specific profile related configuration options and reference synchronization clock settings.

To configure ptp G8275.1 parameters:

**Command syntax: g8275-1**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)#


**Removing Configuration**

Disable G8275.1 profile and remove its settings
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)#no g8275-1 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/admin-state.rst

system ncp clock ptp g8275-1 admin-state
----------------------------------------

**Minimum user role:** operator

Enable PTP clock or disable and remove its configuration.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1

**Note**
- The command is applicable only to UfiSpace NCP3 platform.

**Parameter table**

+-------------+----------------------------------+--------------+----------+
| Parameter   | Description                      | Range        | Default  |
+=============+==================================+==============+==========+
| admin-state | enable/disable PTP functionality | | enabled    | disabled |
|             |                                  | | disabled   |          |
+-------------+----------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# admin-state enabled


**Removing Configuration**

To revert to the default state:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/default-ds/clock-type.rst

system ncp clock ptp g8275-1 default-ds clock-type
--------------------------------------------------

**Minimum user role:** operator

Set the PTP clock type.

**Command syntax: clock-type [clock-type]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1 default-ds

**Parameter table**

+------------+--------------------------+-----------+---------+
| Parameter  | Description              | Range     | Default |
+============+==========================+===========+=========+
| clock-type | Sets the PTP clock type. | | t-gm    | t-bc    |
|            |                          | | t-bc    |         |
|            |                          | | t-tsc   |         |
+------------+--------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# default-ds
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# clock-type t-bc


**Removing Configuration**

To revert clock-type to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# no clock-type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/default-ds/default-ds.rst

system ncp clock ptp g8275-1 default-ds
---------------------------------------

**Minimum user role:** operator

Enter the PTP 1588v2 default dataset clock related configuration options.

To configure default dataset ptp clock parameters:

**Command syntax: default-ds**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# default-ds
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)#


**Removing Configuration**

To revert the ptp g8275.1 default dataset to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# no default-ds

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/default-ds/identity.rst

system ncp clock ptp g8275-1 default-ds identity
------------------------------------------------

**Minimum user role:** operator

Set the PTP clock identity. An IEEE-1588 defined octet array used to uniquely represent the identity of a PTP clock.

**Command syntax: identity [identity]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1 default-ds

**Parameter table**

+-----------+------------------------------+-------+---------+
| Parameter | Description                  | Range | Default |
+===========+==============================+=======+=========+
| identity  | Sets the PTP clock identity. | \-    | \-      |
+-----------+------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# default-ds
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)-default-ds)# identity a4:0c:c3:ff:fe:bf:2b:0


**Removing Configuration**

To revert the sync-option to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)-default-ds)# no identity

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/default-ds/local-priority.rst

system ncp clock ptp g8275-1 default-ds local-priority
------------------------------------------------------

**Minimum user role:** operator

Set the PTP clock local-priority attribute.

**Command syntax: local-priority [local-priority]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1 default-ds

**Parameter table**

+----------------+------------------------------+-------+---------+
| Parameter      | Description                  | Range | Default |
+================+==============================+=======+=========+
| local-priority | Set PTP clock local-priority | 0-255 | 128     |
+----------------+------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# default-ds
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# local-priority 128


**Removing Configuration**

To revert local-priority value to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# no local-priority

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/default-ds/max-steps-removed.rst

system ncp clock ptp g8275-1 default-ds max-steps-removed
---------------------------------------------------------

**Minimum user role:** operator

Set the PTP clock max-steps-removed attribute.

**Command syntax: max-steps-removed [max-steps-removed]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1 default-ds

**Parameter table**

+-------------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter         | Description                                                                      | Range | Default |
+===================+==================================================================================+=======+=========+
| max-steps-removed | Limits clock qualification when steps-removed field in the announce message      | 1-255 | 20      |
|                   | exceeds this value.                                                              |       |         |
+-------------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# default-ds
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# max-steps-removed 20


**Removing Configuration**

To revert max-steps-removed value to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# no max-steps-removed

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/g8275-1/default-ds/priority2.rst

system ncp clock ptp g8275-1 default-ds priority2
-------------------------------------------------

**Minimum user role:** operator

Set the PTP clock priority2 attribute.

**Command syntax: priority2 [priority2]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp g8275-1 default-ds

**Parameter table**

+-----------+---------------------------------+-------+---------+
| Parameter | Description                     | Range | Default |
+===========+=================================+=======+=========+
| priority2 | Irrelevant for T-TSC clock-type | 0-255 | 128     |
+-----------+---------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# g8275-1
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1)# default-ds
    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# priority2 128


**Removing Configuration**

To revert priority2 value to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp-g8275-1-default-ds)# no priority2

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/holdover-time.rst

system ncp clock ptp holdover-time
----------------------------------

**Minimum user role:** operator

Set the PTP clock holdover-time attribute.

**Command syntax: holdover-time [holdover-time]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp

**Parameter table**

+---------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter     | Description                                                                      | Range  | Default |
+===============+==================================================================================+========+=========+
| holdover-time | The duration time that a clock stays in holdover-in-spec before changing to      | 0-1440 | 120     |
|               | holdover-out-spec identity.                                                      |        |         |
+---------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# holdover-time 120


**Removing Configuration**

To revert holdover-time value to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-ptp)# no holdover-time

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/ptp.rst

system ncp clock ptp
--------------------

**Minimum user role:** operator

Enter PTP 1588v2 related configuration options and reference synchronization clock settings.

To configure ptp parameters:

**Command syntax: ptp**

**Command mode:** config

**Hierarchies**

- system ncp clock

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)#


**Removing Configuration**

To revert ptp config to its default value:
::

    dnRouter(cfg-system-ncp-7-clk)# no ptp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.3    | Command introduced |
+---------+--------------------+

---

## ncp/clock/ptp/tod-mode.rst

system ncp clock ptp tod-mode
-----------------------------

**Minimum user role:** operator

Set Tod RJ45 port as input or output.

**Command syntax: tod-mode [tod-mode]**

**Command mode:** config

**Hierarchies**

- system ncp clock ptp

**Note**
- The command is applicable only to UfiSpace NCPL platform.

**Parameter table**

+-----------+---------------------------------------------------------+------------+---------+
| Parameter | Description                                             | Range      | Default |
+===========+=========================================================+============+=========+
| tod-mode  | Indicate whether the ToD port is set as input or output | | output   | output  |
|           |                                                         | | input    |         |
+-----------+---------------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# ptp
    dnRouter(cfg-system-ncp-7-clk-ptp)# tod-mode input


**Removing Configuration**

To revert to the default state:
::

    dnRouter(cfg-system-ncp-7-clk-ptp)# no tod-mode

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.1    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/admin-state.rst

system ncp clock synce admin-state
----------------------------------

**Minimum user role:** operator

Enable or disable synchronous ethernet feature.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce

**Parameter table**

+-------------+---------------------------------------+--------------+----------+
| Parameter   | Description                           | Range        | Default  |
+=============+=======================================+==============+==========+
| admin-state | Sets the sync-ethernet feature state. | | disabled   | disabled |
|             |                                       | | enabled    |          |
+-------------+---------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# admin-state enabled


**Removing Configuration**

To revert the admin-state to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-synce)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/interface.rst

system ncp clock synce interface
--------------------------------

**Minimum user role:** operator

Enter internal interface name

**Command syntax: interface [interface]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce

**Note**

- Notice the change in prompt.

**Parameter table**

+-----------+------------------------------------------+------------------+---------+
| Parameter | Description                              | Range            | Default |
+===========+==========================================+==================+=========+
| interface | Sets the internal source interface name. | | string         | \-      |
|           |                                          | | length 1-255   |         |
+-----------+------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# interface ge400-0/0/0
    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)#


**Removing Configuration**

Remove interface from internal interface list
::

    dnRouter(cfg-system-ncp-7-clk-synce)# no interface ge400-0/0/0

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/interface/holdoff.rst

system ncp clock synce interface holdoff
----------------------------------------

**Minimum user role:** operator

Set internal reference source hold-off-time parameter.

**Command syntax: holdoff [hold-off-time]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce interface

**Parameter table**

+---------------+--------------------+----------+---------+
| Parameter     | Description        | Range    | Default |
+===============+====================+==========+=========+
| hold-off-time | SyncE holdoff time | 300-1800 | 300     |
+---------------+--------------------+----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# interface ge400-0/0/0
    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# holdoff 400


**Removing Configuration**

To revert the internal reference source to default hold-off time:
::

    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# no holdoff

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/interface/priority.rst

system ncp clock synce interface priority
-----------------------------------------

**Minimum user role:** operator

Set internal reference source priority.

**Command syntax: priority [priority]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce interface

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| priority  | Indicates the configured priority of the source clock. A smaller value           | 0-255 | 0       |
|           | represents a higher priority. 0 means interface will not be included for clock   |       |         |
|           | selection                                                                        |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# interface ge400-0/0/0
    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# priority 1


**Removing Configuration**

To revert the source priority to default values:
::

    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# no priority

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/interface/quality-level.rst

system ncp clock synce interface quality-level
----------------------------------------------

**Minimum user role:** operator

Set internal reference source quality-level. To return to ESMC-based quality level use no quality-level or quality-level no_ql commands.

**Command syntax: quality-level [quality-level]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce interface

**Parameter table**

+---------------+--------------------------------+----------------------------+---------+
| Parameter     | Description                    | Range                      | Default |
+===============+================================+============================+=========+
| quality-level | Reference source quality level | | no_ql                    | no_ql   |
|               |                                | | -- Option-1 Levels: --   |         |
|               |                                | | ql_prc                   |         |
|               |                                | | ql_ssu_a                 |         |
|               |                                | | ql_ssu_b                 |         |
|               |                                | | ql_sec                   |         |
|               |                                | | ql_dnu                   |         |
|               |                                | | -- Option-2 Levels: --   |         |
|               |                                | | ql_prs                   |         |
|               |                                | | ql_stu                   |         |
|               |                                | | ql_st2                   |         |
|               |                                | | ql_tnc                   |         |
|               |                                | | ql_st3e                  |         |
|               |                                | | ql_st3                   |         |
|               |                                | | ql_smc                   |         |
|               |                                | | ql_prov                  |         |
|               |                                | | ql_dus                   |         |
+---------------+--------------------------------+----------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# interface ge400-0/0/0
    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# quality-level ql_prc


**Removing Configuration**

To revert the source quality level to be based on ESMC
::

    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# no quality-level

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/interface/wait-to-restore.rst

system ncp clock synce interface wtr
------------------------------------

**Minimum user role:** operator

Set internal reference source wait-to-restore time.

**Command syntax: wtr [wtr]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce interface

**Parameter table**

+-----------+-------------------------------------------+-------+---------+
| Parameter | Description                               | Range | Default |
+===========+===========================================+=======+=========+
| wtr       | Sets the wait to restore time in minutes. | 0-12  | 5       |
+-----------+-------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# interface ge400-0/0/0
    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# wtr 5


**Removing Configuration**

To revert the source wtr time to default values:
::

    dnRouter(cfg-system-ncp-7-clk-synce-ge400-0/0/0)# no wtr

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/ql-enable.rst

system ncp clock synce ql-based-select
--------------------------------------

**Minimum user role:** operator

Enable or disable synchronous ethernet QL feature.

**Command syntax: ql-based-select [enable]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce

**Parameter table**

+-----------+------------------------------------------+--------------+---------+
| Parameter | Description                              | Range        | Default |
+===========+==========================================+==============+=========+
| enable    | Sets the sync-ethernet QL feature state. | | disabled   | enabled |
|           |                                          | | enabled    |         |
+-----------+------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# ql-based-select enabled


**Removing Configuration**

To revert the ql-based-select state to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-synce)# no ql-based-select

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/smb_10mhz.rst

system ncp clock synce smb-10mhz
--------------------------------

**Minimum user role:** operator

Configure SMB 10MHz port parameters

**Command syntax: smb-10mhz**

**Command mode:** config

**Hierarchies**

- system ncp clock synce

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# smb-10mhz
    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)#


**Removing Configuration**

To revert the clock sync-ethernet 10mhz SMB port to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-synce)# no smb-10mhz

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/smb_10mhz/holdoff.rst

system ncp clock synce smb-10mhz holdoff
----------------------------------------

**Minimum user role:** operator

Set SMB 10mhz reference source hold-off-time parameter.

**Command syntax: holdoff [hold-off-time]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce smb-10mhz

**Parameter table**

+---------------+--------------------+----------+---------+
| Parameter     | Description        | Range    | Default |
+===============+====================+==========+=========+
| hold-off-time | SyncE holdoff time | 300-1800 | 300     |
+---------------+--------------------+----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# smb-10mhz
    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# holdoff 400


**Removing Configuration**

To revert the SMB 10mhz reference source to default hold-off time:
::

    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# no holdoff

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/smb_10mhz/mode.rst

system ncp clock synce smb-10mhz mode
-------------------------------------

**Minimum user role:** operator

Set the SMB 10MHz port as input or output or disabled.

**Command syntax: mode [mode]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce smb-10mhz

**Parameter table**

+-----------+------------------------------------------------------------+--------------+----------+
| Parameter | Description                                                | Range        | Default  |
+===========+============================================================+==============+==========+
| mode      | Set the 10MHz SMB port mode as input or output or disabled | | disabled   | disabled |
|           |                                                            | | output     |          |
|           |                                                            | | input      |          |
+-----------+------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# smb-10mhz
    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# mode input


**Removing Configuration**

To revert the SMB 10mhz mode to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-synce)# no smb-10mhz

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/smb_10mhz/priority.rst

system ncp clock synce smb-10mhz priority
-----------------------------------------

**Minimum user role:** operator

Set SMB 10mhz reference source priority.

**Command syntax: priority [priority]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce smb-10mhz

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| priority  | Indicates the configured priority of the source clock. A smaller value           | 0-255 | 0       |
|           | represents a higher priority. 0 means interface will not be included for clock   |       |         |
|           | selection                                                                        |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# smb-10mhz
    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# priority 1


**Removing Configuration**

To revert the SMB 10mhz source priority to default values:
::

    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# no priority

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/smb_10mhz/quality-level.rst

system ncp clock synce smb-10mhz quality-level
----------------------------------------------

**Minimum user role:** operator

Set SMB 10mhz reference source quality-level.

**Command syntax: quality-level [quality-level]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce smb-10mhz

**Parameter table**

+---------------+--------------------------------+----------------------------+---------+
| Parameter     | Description                    | Range                      | Default |
+===============+================================+============================+=========+
| quality-level | Reference source quality level | | no_ql                    | no_ql   |
|               |                                | | -- Option-1 Levels: --   |         |
|               |                                | | ql_prc                   |         |
|               |                                | | ql_ssu_a                 |         |
|               |                                | | ql_ssu_b                 |         |
|               |                                | | ql_sec                   |         |
|               |                                | | ql_dnu                   |         |
|               |                                | | -- Option-2 Levels: --   |         |
|               |                                | | ql_prs                   |         |
|               |                                | | ql_stu                   |         |
|               |                                | | ql_st2                   |         |
|               |                                | | ql_tnc                   |         |
|               |                                | | ql_st3e                  |         |
|               |                                | | ql_st3                   |         |
|               |                                | | ql_smc                   |         |
|               |                                | | ql_prov                  |         |
|               |                                | | ql_dus                   |         |
+---------------+--------------------------------+----------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# smb-10mhz
    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# quality-level ql_prc


**Removing Configuration**

To revert the SMB 10mhz source quality-level to default
::

    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# no quality-level

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/smb_10mhz/wait-to-restore.rst

system ncp clock synce smb-10mhz wtr
------------------------------------

**Minimum user role:** operator

Set SMB 10mhz reference source wait-to-restore time.

**Command syntax: wtr [wtr]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce smb-10mhz

**Parameter table**

+-----------+-------------------------------------------+-------+---------+
| Parameter | Description                               | Range | Default |
+===========+===========================================+=======+=========+
| wtr       | Sets the wait to restore time in minutes. | 0-12  | 5       |
+-----------+-------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# smb-10mhz
    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# wtr 5


**Removing Configuration**

To revert the SMB 10mhz source wtr time to default values:
::

    dnRouter(cfg-system-ncp-7-clk-synce-smb-10mhz)# no wtr

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/sync_option.rst

system ncp clock synce sync-option
----------------------------------

**Minimum user role:** operator

Set the syncE clock synchronization option.

**Command syntax: sync-option [option]**

**Command mode:** config

**Hierarchies**

- system ncp clock synce

**Parameter table**

+-----------+----------------------------------------------+--------------+----------+
| Parameter | Description                                  | Range        | Default  |
+===========+==============================================+==============+==========+
| option    | Sets the syncE clock synchronization option. | | option-1   | option-1 |
|           |                                              | | option-2   |          |
+-----------+----------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk-synce)# sync-option option-1


**Removing Configuration**

To revert the sync-option to its default value:
::

    dnRouter(cfg-system-ncp-7-clk-synce)# no sync-option

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/clock/synce/synce.rst

system ncp clock synce
----------------------

**Minimum user role:** operator

Enter Synchronous-Ethernet related configuration options and reference synchronization clock settings.

To configure synce parameters:

**Command syntax: synce**

**Command mode:** config

**Hierarchies**

- system ncp clock

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# clock
    dnRouter(cfg-system-ncp-7-clk)# synce
    dnRouter(cfg-system-ncp-7-clk/synce)#


**Removing Configuration**

To revert the sync-ethernet option to its default value:
::

    dnRouter(cfg-system-ncp-7-clk)# no synce

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.2    | Command introduced |
+---------+--------------------+

---

## ncp/description.rst

system ncp description
----------------------

**Minimum user role:** operator

To provide a description for the NCP:

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system ncp

**Note**

- system ncp

.. **Note**

  - no command returns the ncp description to its default. For ncp case its "dn-ncp-0" etc

**Parameter table**

+-------------+----------------------------------------------------------------------------------+------------------+----------+
| Parameter   | Description                                                                      | Range            | Default  |
+=============+==================================================================================+==================+==========+
| description | "Free text describing the NCP."                                                  | | string         | dn-ncp-0 |
|             | "Enter free-text description with spaces in between quotation marks. If you do   | | length 1-255   |          |
|             | not use quotation marks, do not use spaces. For example:"                        |                  |          |
|             | "... description "My long description"                                           |                  |          |
|             | "... description My_long_description"                                            |                  |          |
+-------------+----------------------------------------------------------------------------------+------------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 1
    dnRouter(cfg-system-ncp-1)# description my_desc


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-ncp-1)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/hardware.rst

system ncp hardware
-------------------

**Minimum user role:** operator

Configure system hardware

**Command syntax: hardware**

**Command mode:** config

**Hierarchies**

- system ncp

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncc 1
    dnRouter(cfg-system-ncc-1)# hardware
    dnRouter(cfg-system-ncc-1-hardware)# hardware


**Removing Configuration**

To revert the configured hardware to default
::

    dnRouter(cfg-system-ncc-1)# no hardware

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.0    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/model/model.rst

system ncp hardware model agcxd40s
----------------------------------

**Minimum user role:** operator

To configure the model of the NCP:

**Command syntax: model agcxd40s**

**Command mode:** config

**Hierarchies**

- system ncp hardware

**Note**

- The no command removes the model configuration.

- You cannot remove the configuration of NCP 0.

- There are no validations on hardware model type per node.

-  agcxd40s is DNI NCP 40C platform

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# hardware
    dnRouter(cfg-system-ncp-7-hardware)# model agcxd40s


**Removing Configuration**

To revert the NCP configuration to default:
::

    dnRouter(cfg-system-ncp-1-hardware)# no model

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/model/temperature-threshold/sensor_temp_db_3v3.rst

system ncp hardware model agcxd40s temperature-threshold sensor temp-db-3v3
---------------------------------------------------------------------------

**Minimum user role:** operator

Configure DB-3V3 temperature sensor threshold

**Command syntax: sensor temp-db-3v3 [temp-db-3v3]**

**Command mode:** config

**Hierarchies**

- system ncp hardware model agcxd40s temperature-threshold

**Parameter table**

+-------------+-------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                 | Range  | Default |
+=============+=============================================================+========+=========+
| temp-db-3v3 | temp-db-3v3 temperature-sensor within the agcxd40s platform | 30-150 | 117     |
+-------------+-------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# hardware
    dnRouter(cfg-system-ncp-7-hardware)# model agcxd40s
    dnRouter(cfg-system-ncp-7-hardware-model)# temperature-threshold
    dnRouter(cfg-hardware-model-temperature)# sensor temp-db-3v3 100


**Removing Configuration**

To revert the temp-db-3v3 sensor threshold to default:
::

    dnRouter(cfg-hardware-model-temperature)# no sensor temp-db-3v3

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/model/temperature-threshold/sensor_temp_mac0_up.rst

system ncp hardware model agcxd40s temperature-threshold sensor temp-mac0-up
----------------------------------------------------------------------------

**Minimum user role:** operator

Configure MAC0-UP temperature sensor threshold

**Command syntax: sensor temp-mac0-up [temp-mac0-up]**

**Command mode:** config

**Hierarchies**

- system ncp hardware model agcxd40s temperature-threshold

**Parameter table**

+--------------+--------------------------------------------------------------+--------+---------+
| Parameter    | Description                                                  | Range  | Default |
+==============+==============================================================+========+=========+
| temp-mac0-up | temp_mac0_up temperature-sensor within the agcxd40s platform | 30-150 | 90      |
+--------------+--------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# hardware
    dnRouter(cfg-system-ncp-7-hardware)# model agcxd40s
    dnRouter(cfg-system-ncp-7-hardware-model)# temperature-threshold
    dnRouter(cfg-hardware-model-temperature)# sensor temp-mac0-up 100


**Removing Configuration**

To revert the temp-db-3v3 sensor threshold to default:
::

    dnRouter(cfg-hardware-model-temperature)# no sensor temp-mac0-up

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/model/temperature-threshold/temperature-threshold.rst

system ncp hardware model agcxd40s temperature-threshold
--------------------------------------------------------

**Minimum user role:** operator

The temperature threshold protects the equipment from overheating. When the temperature of a sensor crosses the specified threshold, an alarm is generated and the fan speed increases to maximum to cool off the equipment. However, once the equipment cools off, the fans return to the default speed, allowing the equipment to reheat. Whenever this happens, another event is generated. You can adjust the sensors' default temperature-threshold and prevent the massive generation of events. To configure the temperature-threshold values:

**Command syntax: temperature-threshold**

**Command mode:** config

**Hierarchies**

- system ncp hardware model agcxd40s

**Note**

- Notice the change in prompt.

- To remove specific sensor, no command will indicate the sensor name.

- There are no validations on hardware model type per node.

- * agcxd40s is DNI NCP 40C platform

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# hardware
    dnRouter(cfg-system-ncp-7-hardware)# model agcxd40s
    dnRouter(cfg-system-ncp-7-hardware-model)# temperature-threshold
    dnRouter(cfg-hardware-model-temperature)#


**Removing Configuration**

To revert the temperature-threshold to default:
::

    dnRouter(cfg-hardware-model)# no temperature-threshold

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/usb/admin_state.rst

system ncp hardware usb admin-state
-----------------------------------

**Minimum user role:** operator

To enable/disable the USB on a cluster element:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncp hardware usb

**Note**
- The command is applicable to any node (NCP, NCC, NCF).

.. - Admin-state disabled means unmount usb device.

	- admin-state -applies only after the DNOS software is loaded to the device and is first booted

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | The administrative state of the USB port. When disabled, you will not be able to | | enabled    | disabled |
|             | use the USB port.                                                                | | disabled   |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 1
    dnRouter(cfg-system-ncp-1)# hardware usb 0
    dnRouter(cfg-ncp-1-hardware-usb)# admin-state disabled


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-hardware-ncp-usb)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## ncp/hardware/usb/usb.rst

system ncp hardware usb
-----------------------

**Minimum user role:** operator

To enter the USB configuration mode:

**Command syntax: usb [usb-id]**

**Command mode:** config

**Hierarchies**

- system ncp hardware

**Note**

- Notice the change in prompt.

- The command is applicable to any node (NCP, NCC, NCF).

.. - no command returns the usb configuration to its default.

    - First user configured usb id is attached to first operation system assigned id usb.

**Parameter table**

+-----------+---------------------------------------------------+-------+---------+
| Parameter | Description                                       | Range | Default |
+===========+===================================================+=======+=========+
| usb-id    | The identifier of the USB port on the NC element. | 0     | \-      |
+-----------+---------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 1
    dnRouter(cfg-system-ncp-1)# hardware usb 0
    dnRouter(cfg-ncp-0-hardware-usb)#


**Removing Configuration**

To revert the router-id to default
::

    dnRouter(cfg-system-ncp-0-hardware)#no usb 0

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+
| 17.1    | Update max usb-id  |
+---------+--------------------+

---

## ncp/model.rst

system ncp model
----------------

**Minimum user role:** operator

To configure the model of the NCP:

**Command syntax: model [model]** hw-model [hw-model]

**Command mode:** config

**Hierarchies**

- system ncp

**Note**

- You cannot remove the configuration of NCP 0.

.. - "model" is a mandatory parameter for NCPs.

- For **standalone cluster**, NCP 0 is configured by system. You cannot remove ncp-0 configuration.

- "hw-model" is a optional parameter for NCPs. If not set, a hardware model is automatically configured. The default values is determined by the ncp model.

- If the hw-model is not the default selected per the ncp model, it must be configured for correct operation.

- Validate that Hardware model not compatible with the ncp model cannot be set

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------------------+---------+
| Parameter | Description                                                                      | Range               | Default |
+===========+==================================================================================+=====================+=========+
| model     | The model of the ncp, user must configure ncp model for cluster                  | | NCP-24X-2Ca       | \-      |
|           |                                                                                  | | NCP-24X-2Cb       |         |
|           |                                                                                  | | NCP-40C           |         |
|           |                                                                                  | | NCP-40C8CD        |         |
|           |                                                                                  | | NCP-40C6CD-S      |         |
|           |                                                                                  | | NCP-VR            |         |
|           |                                                                                  | | NCP-VR-40C        |         |
|           |                                                                                  | | NCP-VR-10CD       |         |
|           |                                                                                  | | NCP-VR-32CD       |         |
|           |                                                                                  | | NCP-VR-36CD-S     |         |
|           |                                                                                  | | NCP-VR-64X12C-S   |         |
|           |                                                                                  | | NCP-10CD          |         |
|           |                                                                                  | | NCP-32CD          |         |
|           |                                                                                  | | NCP-36CD-S        |         |
|           |                                                                                  | | NCP-36CD-S-SA     |         |
|           |                                                                                  | | NCP-38E           |         |
|           |                                                                                  | | NCP-64X12C-S      |         |
|           |                                                                                  | | NCP-64X8C-S       |         |
+-----------+----------------------------------------------------------------------------------+---------------------+---------+
| hw-model  | The hardware model of the ncp, user must configure ncp hardware model for        | | X86               | \-      |
|           | cluster                                                                          | | S9700-53DX        |         |
|           |                                                                                  | | S9610-48DX        |         |
|           |                                                                                  | | S9610-46DX        |         |
|           |                                                                                  | | S9700-23D         |         |
|           |                                                                                  | | S9710-76D         |         |
|           |                                                                                  | | S9610-36D         |         |
|           |                                                                                  | | AGCXD40S          |         |
|           |                                                                                  | | AS7926-40XKFB     |         |
|           |                                                                                  | | ASA926-18XKE      |         |
|           |                                                                                  | | ASA926-18XKA      |         |
|           |                                                                                  | | S9701-82DC        |         |
|           |                                                                                  | | S9600-72XC        |         |
|           |                                                                                  | | CS1-8203          |         |
|           |                                                                                  | | CS1-WB2000-32FH   |         |
|           |                                                                                  | | AS9286-32D        |         |
+-----------+----------------------------------------------------------------------------------+---------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# model NCP-40C hw-model S9700-53DX


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system)# no ncf 7

**Command History**

+---------+------------------------------------+
| Release | Modification                       |
+=========+====================================+
| 11.0    | Command introduced                 |
+---------+------------------------------------+
| 16.1    | Added support for NCP-36CD-S model |
+---------+------------------------------------+

---

## ncp/ncp.rst

system ncp
----------

**Minimum user role:** operator

This command caters for both provisioned and for pre-provisioned scenarios:
  - Provisioned NCP

      In the provisioned scenario, the cluster's NCPs have already been discovered and have each received a unique identifier (NCP-ID). The administrative state of an automatically provisioned cluster NCP is initially disabled. To enable it, you must enter the NCP's configuration mode using its NCP-ID and model. You can at any time use this command to change its admin-state and/or description.
      In this scenario, the NCP-ID is already mapped to a specific NCP model. If you enter a model that does not match the specific NCP-ID, an error is displayed. If no mismatch is found, you will enter the configuration mode for the NCP.

  - Pre-provisioning NCPs

      For pre-provisioning, you configure the cluster's NCPs before physically connecting them, so that when you connect them and power them up, they are discovered with their pre-designated IDs. If you connect an NCP whose model does not match the pre-configured model for this slot, an error is displayed.

To configure an NCP:

**Command syntax: ncp [ncp-id]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.

- While the NCP model is not required to identify a provisioned NCP, you nevertheless need to specify it as the same command is used to configure NCPs in a pre-provisioning scenario.

- You cannot remove the configuration for a standalone NCP. Although a standalone NCP automatically receives the ID 0, the no ncp 0 command will delete a cluster's NCP, but not a standalone NCP.

**Parameter table**

+-----------+-----------------------------------------------------------------+--------+---------+
| Parameter | Description                                                     | Range  | Default |
+===========+=================================================================+========+=========+
| ncp-id    | The identifier of the NCP. The ID is unique within the cluster. | 0..191 | \-      |
+-----------+-----------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7 model NCP-48CD
    dnRouter(cfg-system-ncp-7)#


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system)# no ncp 7

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ncp/port-select.rst

system ncp port-select
----------------------

**Minimum user role:** operator

Sets the port group to select either the QSFP28 100G ge100 ports 0 and 21 or all SFP-DD 10G ge10 ports.

**Command syntax: port-select [port-select]**

**Command mode:** config

**Hierarchies**

- system ncp

**Note**

- The command is applicable only to NCP-40C8CD and NCP-40C6CD-S with multiplexing functionality between network QSFP28 ports 0 and 21 and all SFP-DD 10G ge10 ports.
- The command is applicable only when non-selected port(s) are in admin-state disable state.

**Parameter table**

+-------------+------------------------+--------------------+----------------+
| Parameter   | Description            | Range              | Default        |
+=============+========================+====================+================+
| port-select | Select available ports | | ge100-0-and-21   | ge100-0-and-21 |
|             |                        | | ge10-all         |                |
+-------------+------------------------+--------------------+----------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 0
    dnRouter(cfg-system-ncp-0)# port-select ge100-0-and-21


**Removing Configuration**

To revert to the default state:
::

    dnRouter(cfg-system-ncp-0)# no port-select

**Command History**

+---------+----------------------------+
| Release | Modification               |
+=========+============================+
| 19.2    | Command introduced         |
+---------+----------------------------+
| 25.2    | Added NCP-40C6CD-S support |
+---------+----------------------------+

---

## ncp/security/measured-boot/admin-state.rst

system ncp security measured-boot admin-state
---------------------------------------------

**Minimum user role:** admin

Enable measured boot functionality or disable and remove its configuration.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncp security measured-boot

**Parameter table**

+-------------+--------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                  | Range        | Default  |
+=============+==============================================================+==============+==========+
| admin-state | Indicates whether measured boot is administratively enabled. | | enabled    | disabled |
|             |                                                              | | disabled   |          |
+-------------+--------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# security
    dnRouter(cfg-system-ncp-7-security)# measured-boot
    dnRouter(cfg-system-ncp-7-security-measured-boot)# admin-state enabled


**Removing Configuration**

To revert to the default state:
::

    dnRouter(cfg-system-ncp-7-security-measured-boot)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## ncp/security/measured-boot/measured-boot.rst

system ncp security measured-boot
---------------------------------

**Minimum user role:** admin

Enter measured boot related configuration settings.

To configure measured boot parameters:

**Command syntax: measured-boot**

**Command mode:** config

**Hierarchies**

- system ncp security

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# security
    dnRouter(cfg-system-ncp-7-security)# measured-boot
    dnRouter(cfg-system-ncp-7-security-measured-boot)#


**Removing Configuration**

To revert the measured-boot to its default value:
::

    dnRouter(cfg-system-ncp-7-security)# no measured-boot

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## ncp/security/security.rst

system ncp security
-------------------

**Minimum user role:** admin

Enter security related configuration settings.

To configure security parameters:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system ncp

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# security
    dnRouter(cfg-system-ncp-7-security)#


**Removing Configuration**

To revert security to its default value:
::

    dnRouter(cfg-system-ncp-7)# no security

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## ncp/security/signature-validation/admin-state.rst

system ncp security signature-validation admin-state
----------------------------------------------------

**Minimum user role:** admin

Enable signature validation functionality or disable and remove its configuration.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ncp security signature-validation

**Parameter table**

+-------------+---------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                         | Range        | Default  |
+=============+=====================================================================+==============+==========+
| admin-state | Indicates whether signature validation is administratively enabled. | | enabled    | disabled |
|             |                                                                     | | disabled   |          |
+-------------+---------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# security
    dnRouter(cfg-system-ncp-7-security)# signature-validation
    dnRouter(cfg-system-ncp-7-security-signature-validation)# admin-state enabled


**Removing Configuration**

To revert to the default state:
::

    dnRouter(cfg-system-ncp-7-security-signature-validation)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## ncp/security/signature-validation/signature-validation.rst

system ncp security signature-validation
----------------------------------------

**Minimum user role:** operator

Enter signature validation related configuration settings.

To configure signature validation parameters:

**Command syntax: signature-validation**

**Command mode:** config

**Hierarchies**

- system ncp security

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ncp 7
    dnRouter(cfg-system-ncp-7)# security
    dnRouter(cfg-system-ncp-7-security)# signature-validation
    dnRouter(cfg-system-ncp-7-security-signature-validation)#


**Removing Configuration**

To revert the signature-validation to its default value:
::

    dnRouter(cfg-system-ncp-7-security)# no signature-validation

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## netconf/class-of-service.rst

system netconf class-of-service
-------------------------------

**Minimum user role:** operator

To configure a CoS for all the outgoing NETCONF sessions:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system netconf

**Note**
With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you are able to control which packets receive priority.

**Parameter table**

+------------------+-------------------------------------------------+-------+---------+
| Parameter        | Description                                     | Range | Default |
+==================+=================================================+=======+=========+
| class-of-service | dscp marking for class-of-service configuration | 0-56  | 0       |
+------------------+-------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# class-of-service 54


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-netconf)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## netconf/max-sessions.rst

system netconf max-sessions
---------------------------

**Minimum user role:** operator

To configure the maximum number of concurrent Netconf sessions to a Netconf server:

**Command syntax: max-sessions [max-sessions]**

**Command mode:** config

**Hierarchies**

- system netconf

**Note**

- The no command returns the number of maximum sessions to default.

- If client 13 will try to connect - it will be automatically blocked and an event will be generated.

- Decreasing the max-sessions configuration will not affect existing established sessions.

**Parameter table**

+--------------+---------------------------------------------------------------------------+-------+---------+
| Parameter    | Description                                                               | Range | Default |
+==============+===========================================================================+=======+=========+
| max-sessions | configure maximum number of concurrent NETCONF sessions to NETCONF server | 1-12  | 6       |
+--------------+---------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# max-sessions 5


**Removing Configuration**

To revert the max-sessions to default:
::

    dnRouter(cfg-system-netconf)# no max-sessions

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## netconf/netconf.rst

system netconf
--------------

**Minimum user role:** operator

To configure a Netconf server:

**Command syntax: netconf**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)#


**Removing Configuration**

To revert all netconf configuration to default:
::

    dnRouter(cfg-system)# no netconf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## netconf/port.rst

system netconf port
-------------------

**Minimum user role:** operator

To configure the port on which the server listens to new incoming connection requests.

**Command syntax: port [listen-port]**

**Command mode:** config

**Hierarchies**

- system netconf

**Note**

- The no command returns the port number to default.

- Changing the port will disconnect all active connections and restart the netconf service.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter   | Description                                                                      | Range   | Default |
+=============+==================================================================================+=========+=========+
| listen-port | The port on which the server listens. If the port is not configured, the server  | 22, 830 | 830     |
|             | uses default port.                                                               |         |         |
+-------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# port 22


**Removing Configuration**

To revert the port number to default:
::

    dnRouter(cfg-system-netconf)# no port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## netconf/response-envelope/identityref-prefix.rst

system netconf response-envelope identityref-prefix
---------------------------------------------------

**Minimum user role:** operator

Configure the NETCONF response to add a namespace prefix to identity-ref or not. By default the response includes a namespace prefix for identity-ref values

**Command syntax: identityref-prefix [identityref-prefix-enabled]**

**Command mode:** config

**Hierarchies**

- system netconf response-envelope

**Note**

- When the identityref-prefix is enabled, this is the NETCONF response:
  <rpc-reply xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"  xmlns:iana-if-type="urn:ietf:params:xml:ns:yang:iana-if-type">
  (...)
  <interface>
  <name>vrfr1-0/0/0</name>
  <oper-items>
  <type>iana-if-type:propVirtual</type>
- When the identity-ref is disabled this is the NETCONF response:
  <interface>
  <name>vrfr1-0/0/0</name>
  <oper-items>
  <type>propVirtual</type>
- When ideneityref-prefix is disabled the response uses a legacy format which may not be fully compliant with the latest RFCs
- The change affects only new NETCONF sessions, existing sessions are not affected


**Parameter table**

+----------------------------+----------------------------------------------------------------------------------+-------------------+---------+
| Parameter                  | Description                                                                      | Range             | Default |
+============================+==================================================================================+===================+=========+
| identityref-prefix-enabled | Flag to determine if namespace prefixes should be included for identityref       | enabled, disabled | enabled |
|                            | values. When disabled, the response uses a legacy format with namespaces from    |                   |         |
|                            | previous versions, which may not be fully compliant with XML standards           |                   |         |
+----------------------------+----------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# response-envelope
    dnRouter(cfg-netconf-response-envelope)# identityref-prefix disabled


**Removing Configuration**

To revert the identity-ref to default:
::

    dnRouter(cfg-netconf-response-envelope)# no identity-ref

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## netconf/response-envelope/namespace-prefix.rst

system netconf response-envelope namespace-prefix
-------------------------------------------------

**Minimum user role:** operator

Configures the format of NETCONF responses with respect to XML namespace handling. By default (enabled), responses use the 'default namespace' format, where default namespaces are correctly defined in the appropriate XML element. When set to disabled, responses utilize a legacy format, which may not be fully compliant with XML standards

**Command syntax: namespace-prefix [prefix-enabled]**

**Command mode:** config

**Hierarchies**

- system netconf response-envelope

**Note**

- When default namespace is enabled this is the NETCONF response:
  <rpc-reply xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="101">
  <data>
  <netconf-state xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-monitoring">
  <capabilities>

- When default namespace is disabled, namespace prefixes are used and this is the NETCONF response:
  <rpc-reply xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="101" xmlns:ietf-netconf-monitoring="urn:ietf:params:xml:ns:yang:ietf-netconf-monitoring">
  <data>
  <ietf-netconf-monitoring:netconf-state>
  <capabilities>


**Parameter table**

+----------------+----------------------------------------------------------------------------------+-------------------+---------+
| Parameter      | Description                                                                      | Range             | Default |
+================+==================================================================================+===================+=========+
| prefix-enabled | Configures the format of NETCONF responses with respect to XML namespace         | enabled, disabled | enabled |
|                | handling. When set to enabled, responses use the 'default namespace' format,     |                   |         |
|                | where default namespaces are correctly defined in the appropriate XML element.   |                   |         |
|                | When set to disabled, responses utilize a legacy format, which may not be fully  |                   |         |
|                | compliant with XML standards.                                                    |                   |         |
+----------------+----------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# response-envelope
    dnRouter(cfg-netconf-response-envelope)# namespace-prefix enabled


**Removing Configuration**

To revert the namespace-prefix to default:
::

    dnRouter(cfg-netconf-response-envelope)# no namespace-prefix

**Command History**

+---------+-----------------------------+
| Release | Modification                |
+=========+=============================+
| 15.1    | Command introduced          |
+---------+-----------------------------+
| 25.1    | Command description updated |
+---------+-----------------------------+

---

## netconf/response-envelope/response-envelope.rst

system netconf response-envelope
--------------------------------

**Minimum user role:** operator

Enter the NETCONF response-envelope configuration.

**Command syntax: response-envelope**

**Command mode:** config

**Hierarchies**

- system netconf

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# response-envelope
    dnRouter(cfg-netconf-response-envelope)#


**Removing Configuration**

To revert the response-envelope configuration to default:
::

    dnRouter(cfg-system-netconf)# no response-envelope

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.1    | Command introduced |
+---------+--------------------+

---

## netconf/session-timeout.rst

system netconf session-timeout
------------------------------

**Minimum user role:** operator

To configure the maximum time (in minutes) allowed for Netconf sessions to be idle before they are disconnected. Idle is a session with no input from the client:

**Command syntax: session-timeout [session-timeout]**

**Command mode:** config

**Hierarchies**

- system netconf

**Note**

- The no command sets the values to default.

- An interval=0 means no timeout (inifinite session).

**Parameter table**

+-----------------+-------------------------------------------------------------------------------+-------+---------+
| Parameter       | Description                                                                   | Range | Default |
+=================+===============================================================================+=======+=========+
| session-timeout | maximum time allowed for NETCONF session to be idle before it is disconnected | 0-90  | 30      |
+-----------------+-------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf
    dnRouter(cfg-system-netconf)# session-timeout 60


**Removing Configuration**

To revert the value to the default:
::

    dnRouter(cfg-system-netconf)# no session-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## netconf/vrf/admin-state.rst

system netconf vrf admin-state
------------------------------

**Minimum user role:** operator

To enable/disable netconf server per VRF.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system netconf vrf

**Note**

- The admin-state can only be enabled on one in-band management non-default VRF.

**Parameter table**

+-------------+-----------------------------------------+--------------+---------+
| Parameter   | Description                             | Range        | Default |
+=============+=========================================+==============+=========+
| admin-state | The desired state of the NETCONF server | | enabled    | enabled |
|             |                                         | | disabled   |         |
+-------------+-----------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf vrf default
    dnRouter(cfg-system-netconf-vrf)# admin-state disabled
    dnRouter(cfg-system)# netconf vrf mgmt0
    dnRouter(cfg-system-netconf-vrf)# admin-state enabled
    dnRouter(cfg-system)# netconf vrf my_vrf
    dnRouter(cfg-system-netconf-vrf)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-netconf-vrf)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 17.0    | Command introduced |
+---------+--------------------+

---

## netconf/vrf/client-list-type.rst

system netconf vrf client-list type
-----------------------------------

**Minimum user role:** operator

This command defines whether the configured client-list (see \"system netconf vrf client-list\" is a white list or a black list. This will determine if the listed clients will be granted access to the NETCONF server.

**Command syntax: client-list type [list-type]**

**Command mode:** config

**Hierarchies**

- system netconf vrf

**Note**

- If the client-list type is set to "allow", the client-list must not be empty.

**Parameter table**

+-----------+---------------------------------------------------------------------------------+-----------+---------+
| Parameter | Description                                                                     | Range     | Default |
+===========+=================================================================================+===========+=========+
| list-type | Configure black or white list type of incoming IP-addresses for NETCONF clients | | allow   | deny    |
|           |                                                                                 | | deny    |         |
+-----------+---------------------------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf vrf default
    dnRouter(cfg-system-netconf-vrf)# client-list type allow


**Removing Configuration**

To revert the list type to default:
::

    dnRouter(cfg-system-netconf-vrf)# no client-list type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## netconf/vrf/client-list.rst

system netconf vrf client-list
------------------------------

**Minimum user role:** operator

Creates a list of clients that are permitted or denied to open netconf sessions to the system (according to \"system netconf vrf client-list type\".

To configure a client-list:

**Command syntax: client-list [ipv4-address/ipv6-address]** [, ipv4-address/ipv6-address, ipv4-address/ipv6-address]

**Command mode:** config

**Hierarchies**

- system netconf vrf

**Note**

- You can add up to 20 clients (for both IPv4 and IPv6 addresses combined) per VRF.

**Parameter table**

+---------------------------+-------------------------------------------------------------------+----------------+---------+
| Parameter                 | Description                                                       | Range          | Default |
+===========================+===================================================================+================+=========+
| ipv4-address/ipv6-address | White list of incoming IPv4/IPv6 addresses of the NETCONF clients | | A.B.C.D/x    | \-      |
|                           |                                                                   | | X:X::X:X/x   |         |
+---------------------------+-------------------------------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf vrf default
    dnRouter(cfg-system-netconf-vrf)# client-list 100.54.12.1/32
    dnRouter(cfg-system-netconf-vrf)# client-list 210.4.21.0/24
    dnRouter(cfg-system-netconf-vrf)# client-list 2001:db8:2222::/48


**Removing Configuration**

To remove a specific client from the client list:
::

    dnRouter(cfg-system-netconf-vrf)# no client-list 100.54.12.1/32

To remove all clients from the client-list:
::

    dnRouter(cfg-system-netconf-vrf)# no client-list

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## netconf/vrf/vrf.rst

system netconf vrf
------------------

**Minimum user role:** operator

To configure a Netconf server per VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system netconf

**Note**

- The VRF "default" represents in-band management, while VRF "mgmt0" represents out-of-band management.

- Netconf can be configured on up to 3 non-default inband management VRF contexts in general.

**Parameter table**

+-----------+----------------------+------------------+---------+
| Parameter | Description          | Range            | Default |
+===========+======================+==================+=========+
| vrf-name  | The name of the vrf. | | string         | \-      |
|           |                      | | length 1-255   |         |
+-----------+----------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# netconf vrf default
    dnRouter(cfg-system-netconf-vrf)#
    dnRouter(cfg-system)# netconf vrf mgmt0
    dnRouter(cfg-system-netconf-vrf)#
    dnRouter(cfg-system)# netconf vrf my_vrf
    dnRouter(cfg-system-netconf-vrf)#


**Removing Configuration**

To delete the configuration under the non-default specific vrf:
::

    dnRouter(cfg-system-netconf)# no vrf my_vrf

For VRF default and mgmt0 no command will rest the configuration:
::

    dnRouter(cfg-system-netconf)# no vrf default

**Command History**

+---------+--------------------------------------------+
| Release | Modification                               |
+=========+============================================+
| 13.1    | Command introduced                         |
+---------+--------------------------------------------+
| 17.0    | non-default in-band management VRF support |
+---------+--------------------------------------------+

---

## ntp/authentication-key/authentication-key.rst

system ntp authentication key
-----------------------------

**Minimum user role:** operator


When using NTP, the device synchronizes to a time source. If authentication is used, the synchronization is achieved only if the source carries the specified authentication keys. If the authentication fails, the local clock will not be updated.

To create an authentication key:

**Command syntax: authentication key [authentication-key]**

**Command mode:** config

**Hierarchies**

- system ntp

**Parameter table**

+--------------------+------------------------+---------+---------+
| Parameter          | Description            | Range   | Default |
+====================+========================+=========+=========+
| authentication-key | NTP authentication key | 1-65533 | \-      |
+--------------------+------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# authentication key 1


**Removing Configuration**

To remove the specified NTP authentication key:
::

    dnRouter(cfg-system-ntp-authentication)# no key 1242151523

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/authentication-key/password.rst

system ntp authentication key password
--------------------------------------

**Minimum user role:** operator

Configure NTP authentication key password

**Command syntax: password [password]** type [authentication-type]

**Command mode:** config

**Hierarchies**

- system ntp authentication key

**Parameter table**

+---------------------+----------------------------------------------------------+-------+---------+
| Parameter           | Description                                              | Range | Default |
+=====================+==========================================================+=======+=========+
| password            | encrypted mode for password text                         | \-    | \-      |
+---------------------+----------------------------------------------------------+-------+---------+
| authentication-type | Authentication algorithm currently only MD5 is supported | md5   | md5     |
+---------------------+----------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# authentication key <authentication-key> password


**Removing Configuration**

To remove the specified NTP authentication key password:
::

    dnRouter(cfg-system-ntp)# no authentication key password

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/class_of_service.rst

system ntp class-of-service
---------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority. To configure a CoS for all outgoing NTP messages:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system ntp

**Parameter table**

+------------------+------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                | Range | Default |
+==================+============================================================+=======+=========+
| class-of-service | This parameter specifies the dscp of generated NTP packets | 0-56  | 48      |
+------------------+------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# class-of-service 15


**Removing Configuration**

To revert the class-of-service to the default value:
::

    dnRouter(cfg-system-ntp)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## ntp/multicast-client/address.rst

system ntp multicast-client vrf address
---------------------------------------

**Minimum user role:** operator

Configure NTP multicast-client address

**Command syntax: address [address]**

**Command mode:** config

**Hierarchies**

- system ntp multicast-client vrf

**Parameter table**

+-----------+-----------------------------------------------+---------------------------------------------+---------+
| Parameter | Description                                   | Range                                       | Default |
+===========+===============================================+=============================================+=========+
| address   | The IP address of the multicast group to join | <224.0.0.0 - 239.255.255.255> or <ff00::/8> | \-      |
+-----------+-----------------------------------------------+---------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# multicast-client vrf default address


**Removing Configuration**

To remove multicast client address:
::

    dnRouter(cfg-system-ntp-multicast-client-vrf)# no address

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/multicast-client/admin-state.rst

system ntp multicast-client vrf admin-state
-------------------------------------------

**Minimum user role:** operator

Configure NTP multicast-client admin-state

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ntp multicast-client vrf

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                                      | Range        | Default |
+=============+==================================================================================+==============+=========+
| admin-state | admin-state of NTP remote server, only servers in the same VRF can be            | | enabled    | enabled |
|             | admin-state enabled.                                                             | | disabled   |         |
+-------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# multicast-client vrf default admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-ntp-multicast-client-vrf)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/multicast-client/key.rst

system ntp multicast-client vrf key
-----------------------------------

**Minimum user role:** operator

To configure an NTP server key:

**Command syntax: key [key]**

**Command mode:** config

**Hierarchies**

- system ntp multicast-client vrf

**Parameter table**

+-----------+--------------------------------+---------+---------+
| Parameter | Description                    | Range   | Default |
+===========+================================+=========+=========+
| key       | system ntp authentication keys | 1-65533 | \-      |
+-----------+--------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 12.12.12.12 vrf default
    dnRouter(cfg-system-ntp-multicast-client-vrf)# key 12344


**Removing Configuration**

To remove the specified NTP server prefer:
::

    dnRouter(cfg-system-ntp-multicast-client-vrf)# no key

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/multicast-client/multicast-client.rst

system ntp multicast-client vrf
-------------------------------

**Minimum user role:** operator

To configure an NTP multicast client:

**Command syntax: multicast-client vrf [multicast-client]**

**Command mode:** config

**Hierarchies**

- system ntp

**Parameter table**

+------------------+---------------------+------------------+---------+
| Parameter        | Description         | Range            | Default |
+==================+=====================+==================+=========+
| multicast-client | The name of the vrf | | string         | \-      |
|                  |                     | | length 1-255   |         |
+------------------+---------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# multicast-client vrf default


**Removing Configuration**

To remove the specified NTP multicast client:
::

    dnRouter(cfg-system-ntp)# no multicast-client vrf default

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/multicast-client/source-interface.rst

system ntp multicast-client vrf source-interface
------------------------------------------------

**Minimum user role:** operator

Configure NTP multicast-client source interface

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system ntp multicast-client vrf

**Parameter table**

+------------------+----------------------------------------------------------------------------------+--------------------------------------------+---------+
| Parameter        | Description                                                                      | Range                                      | Default |
+==================+==================================================================================+============================================+=========+
| source-interface | IP address of this interface is used as source IP address of all outingoing NTP  | loopback interfaces assigned to NTP server | \-      |
|                  | messages                                                                         |                                            |         |
+------------------+----------------------------------------------------------------------------------+--------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# multicast-client vrf default source-interface


**Removing Configuration**

To remove configured source interface:
::

    dnRouter(cfg-system-ntp-multicast-client)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/ntp.rst

system ntp
----------

**Minimum user role:** operator

Enter the NTP configuration hierarchy.

**Command syntax: ntp**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)#


**Removing Configuration**

To remove NTP configuration:
::

    no ntp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/server/admin-state.rst

system ntp server vrf admin-state
---------------------------------

**Minimum user role:** operator

Configure NTP server admin state

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ntp server vrf

**Note**

- The commit fails if the NTP server's admin-state is enabled on more than one VRF.

- You can configure up to 5 NTP remote servers with the admin-state enabled on all VRFs.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                                      | Range        | Default |
+=============+==================================================================================+==============+=========+
| admin-state | admin-state of NTP remote server, only servers in the same VRF can be            | | enabled    | enabled |
|             | admin-state enabled.                                                             | | disabled   |         |
+-------------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 200.24.34.1 vrf default
    dnRouter(cfg-system-ntp-server)# admin-state enabled
    dnRouter(cfg-system-ntp)# server 2001:ab12::1 vrf mgmt0
    dnRouter(cfg-system-ntp-server)# admin-state disabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-ntp-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/server/iburst.rst

system ntp server vrf iburst
----------------------------

**Minimum user role:** operator


When the iburst parameter is set, a series of NTP packets are sent instead of a single packet within the initial synchronization interval to achieve faster initial synchronization. To configure NTP to start synchronization in burst mode.

To enable an NTP server iburst:

**Command syntax: iburst**

**Command mode:** config

**Hierarchies**

- system ntp server vrf

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 12.12.12.12 vrf default
    dnRouter(cfg-system-ntp-server)# iburst


**Removing Configuration**

To remove the specified NTP server iburst:
::

    dnRouter(cfg-system-ntp-server)# no iburst

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/server/key.rst

system ntp server vrf key
-------------------------

**Minimum user role:** operator

To configure an NTP server key:

**Command syntax: key [key]**

**Command mode:** config

**Hierarchies**

- system ntp server vrf

**Parameter table**

+-----------+----------------+---------+---------+
| Parameter | Description    | Range   | Default |
+===========+================+=========+=========+
| key       | Encryption key | 1-65533 | \-      |
+-----------+----------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 12.12.12.12 vrf default
    dnRouter(cfg-system-ntp-server)# key 12344


**Removing Configuration**

To remove the specified NTP server prefer:
::

    dnRouter(cfg-system-ntp-server)# no key

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/server/prefer.rst

system ntp server vrf prefer
----------------------------

**Minimum user role:** operator

To enable an NTP server prefer:

**Command syntax: prefer**

**Command mode:** config

**Hierarchies**

- system ntp server vrf

**Note**

- Only one server can be configured with the preferred configuration.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 12.12.12.12 vrf default
    dnRouter(cfg-system-ntp-server)# prefer


**Removing Configuration**

To remove the specified NTP server prefer:
::

    dnRouter(cfg-system-ntp-server)# no prefer

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/server/server.rst

system ntp server vrf
---------------------

**Minimum user role:** operator

To configure an NTP server:

**Command syntax: server [address] vrf [vrf]**

**Command mode:** config

**Hierarchies**

- system ntp

**Note**

- Make sure that system timing mode is set to "ntp". If set to "manual" the NTP functionality is disabled. See system timing-mode.

- Up to 5 in-band (vrf default) and 5 out-of-band (vrf mgmt0) NTP servers are supported.

- Prefer parameter can be configured on only one NTP server. Prefer parameter indicates the preferred NTP server.

- When iburst parameter is set, a series of NTP packets are sent instead of a single packet within the initial synchronization interval to achieve faster initial synchronization.

- Up to 5 in-band (vrf default) and 5 out-of-band (vrf mgmt0) NTP servers are supported.

- Validation: 0nly one VRF at the same time can have configured administratively enabled NTP servers.

**Parameter table**

+-----------+---------------------+------------------+---------+
| Parameter | Description         | Range            | Default |
+===========+=====================+==================+=========+
| address   | NTP server config   | | A.B.C.D        | \-      |
|           |                     | | X:X::X:X       |         |
+-----------+---------------------+------------------+---------+
| vrf       | The name of the vrf | | string         | \-      |
|           |                     | | length 1-255   |         |
+-----------+---------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 12.12.12.12 vrf default


**Removing Configuration**

To remove the specified NTP server:
::

    dnRouter(cfg-system-ntp)# no server 12.12.12.12 vrf default

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/server/source-interface.rst

system ntp server vrf source-interface
--------------------------------------

**Minimum user role:** operator

Configure NTP server source interface

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system ntp server vrf

**Parameter table**

+------------------+----------------------------------------------------------------------------------+--------------------------------------------+---------+
| Parameter        | Description                                                                      | Range                                      | Default |
+==================+==================================================================================+============================================+=========+
| source-interface | IP address of this interface is used as source IP address of all outingoing NTP  | loopback interfaces assigned to NTP server | \-      |
|                  | messages                                                                         |                                            |         |
+------------------+----------------------------------------------------------------------------------+--------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# server 12.12.12.12 vrf default
    dnRouter(cfg-system-ntp-server)# source-interface


**Removing Configuration**

To remove configured source interface:
::

    dnRouter(cfg-system-ntp-server)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## ntp/source-interface.rst

system ntp source-interface
---------------------------

**Minimum user role:** admin

IP address of this interface is used as source IP address of all outgoing NTP messages. By default, packets sent to a remote NTP server use the IP address of the configured system in-band-management source-interface in the NTP messages. To change the source IP address:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system ntp

**Note**

- If you do not configure an NTP source interface, the system in-band-management source-interface will be used. If you do not have an system in-band-management source-interface configured, NTP messages will not be generated.

- If the selected interface has multiple IP addresses, the primary address is used.

- If interface has more than one IP address, the primary address is used.

**Parameter table**

+------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+
| Parameter        | Description                                                    | Range                                                                            | Default                                    |
+==================+================================================================+==================================================================================+============================================+
| source-interface | The source interface whose IP address is used for NTP messages | Any interface in the default VRF with an IPv4/IPv6 address, except GRE tunnel    | system in-band-management source-interface |
|                  |                                                                | interfaces                                                                       |                                            |
+------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+--------------------------------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ntp
    dnRouter(cfg-system-ntp)# source-interface ge100-0/0/0


**Removing Configuration**

To revert source-interface to default:
::

    dnRouter(cfg-system-ntp)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## preferred-ncc.rst

system preferred-ncc
--------------------

**Minimum user role:** operator

Up to two NCCs can be set per cluster for redundancy; one active (the preferred NCC) and the other in stand-by. The NCC identification is managed by DNOR. The first NCC that DNOR configures is by default the preferred NCC and receives the ID 0. The other NCC is allocated the ID 1.

During system boot, if both NCCs are available, the preferred NCC is the one that will be selected as the active NCC.

You can manually configure the preferred designation of an NCC.

To set the preferred NCC:

**Command syntax: preferred-ncc [ncc-id]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- This command is not applicable to a standalone NCP. The NCC in a standalone NCP is automatically configured as primary and receives the ID 0. You cannot change this setting.

- Only one NCC per cluster can serve as the preferred NCC. When you configure an NCC as preferred, the other NCC will automatically be stripped of its preferred status.

.. - The factory default preferred NCC number is ncc-id=0. 'no preferred-ncc' command returns the preferred-ncc parameter to the default.

  - For **standalone cluster**, NCC 0 is configured as primary. User cannot change this configuration.

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| ncc-id    | The identifier of the preferred NCC. If the NCC with the specified ID is not     | 0-1   | 0       |
|           | currently the preferred one, it will become the preferred one and it will become |       |         |
|           | the active NCC on the next system boot.                                          |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# preferred-ncc 1


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system)# no preferred-ncc

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## profile.rst

system profile
--------------

**Minimum user role:** operator

The system profile dictates the set of features that can be supported simultaneously in the system.

To configure the global profile, that shall be applied for all NCPs in the cluster:

**Command syntax: profile [system-profile]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- DNOS configuration cannot conflict with the configured system profile. A validation will enforce that the configuration is valid.

- Profile reconfiguration is traffic affecting, will require the user to confirm the change and shall cause the WB Agent process on each NCP to restart.

**Parameter table**

+----------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter      | Description                                                                      | Range   | Default |
+================+==================================================================================+=========+=========+
| system-profile | The name of the profile applied to the system. The profile is applied to all     | default | default |
|                | NCPs in the cluster.                                                             |         |         |
+----------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# profile profile_a
    Notice: Continuing with the commit will cause the following:
    The following commit will change the system profile. WB Agent process on all NCPs shall restart, traffic loss will occur and some features may not be available after this change takes effect.
    Enter yes to continue with commit, no to abort commit (yes/no) [no]


**Removing Configuration**

To revert the global system profile to its default value:
::

    dnRouter(cfg-system)# no profile

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/description.rst

system security keychains description
-------------------------------------

**Minimum user role:** operator

To configure a description for the keychain:

**Command syntax: description [description]**

**Command mode:** config

**Hierarchies**

- system security keychains

**Parameter table**

+-------------+-----------------------+------------------+---------+
| Parameter   | Description           | Range            | Default |
+=============+=======================+==================+=========+
| description | Keychain description. | | string         | \-      |
|             |                       | | length 1-255   |         |
+-------------+-----------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# description "Keys for ISIS instance_A"


**Removing Configuration**

To remove the description:
::

    dnRouter(cfg-system-security-keychain-isis-keys)# no description

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/cryptographic-algorithm.rst

system security keychains key cryptographic-algorithm
-----------------------------------------------------

**Minimum user role:** operator

To configure the crypto algorithm for the key in the keychain:

**Command syntax: cryptographic-algorithm [crypto-algorithm]**

**Command mode:** config

**Hierarchies**

- system security keychains key

**Note**

- The cryptographic-algorithm is a mandatory parameter for each key in the keychain
- When MD5 algorithm is used, since key-id is not included in transmitted packets then each of the valid receive keys shall be used to attempt to authenticate the packet. For any other cryptographic algorithm, the lowest valid key-id shall be used.

**Parameter table**

+------------------+----------------------------------------------------------------------------------+-------------------+---------+
| Parameter        | Description                                                                      | Range             | Default |
+==================+==================================================================================+===================+=========+
| crypto-algorithm | Cryptographic algorithm associated with the key.  Note that not all              | | MD5             | \-      |
|                  | cryptographic algorithms are available in all contexts (e.g., across different   | | HMAC_SHA_1      |         |
|                  | protocols).                                                                      | | HMAC_SHA_1_96   |         |
|                  |                                                                                  | | HMAC_SHA_256    |         |
+------------------+----------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# cryptographic-algorithm HMAC_SHA_256


**Removing Configuration**

To remove the cryptographic algorithm:
::

    dnRouter(cfg-security-keychain-isis-keys-key-0)# no cryptographic-algorithm

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/default-send-key.rst

system security keychains key default-send-key
----------------------------------------------

**Minimum user role:** operator

By default when there are no valid send keys then outgoing packets will be transmitted unauthenticated. This command 
allows user to set a default send key to be used for authenticating outgoing packets when there are no valid keys available. 

To set the key is the default send key:

**Command syntax: default-send-key**

**Command mode:** config

**Hierarchies**

- system security keychains key

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# default-send-key


**Removing Configuration**

To remove default-send-key configuration:
::

    dnRouter(fg-keychain-isis-keys-key-0)# no default-send-key

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/key.rst

system security keychains key
-----------------------------

**Minimum user role:** operator

To add a key to a security keychain:

**Command syntax: key [key-id]**

**Command mode:** config

**Hierarchies**

- system security keychains

**Note**

- Up to 64 keys per keychain are supported.
- A key ID that is invalid per the applicable application using the keychain may not be used by that application (e.g., value exceeds the range supported by a given application).

**Parameter table**

+-----------+---------------------------------------------+------------------------+---------+
| Parameter | Description                                 | Range                  | Default |
+===========+=============================================+========================+=========+
| key-id    | Identifier for the key within the keychain. | 0-18446744073709551615 | \-      |
+-----------+---------------------------------------------+------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)#


**Removing Configuration**

To remove the specified key from the key chain:
::

    dnRouter(cfg-system-security-keychain-isis-keys)# no key 3

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/receive-lifetime/period.rst

system security keychains key receive-lifetime period start-time
----------------------------------------------------------------

**Minimum user role:** operator

To configure the receive lifetime period:

**Command syntax: period start-time [start-date] [start-time] end-time [end-date] [end-time]** timezone [timezone]

**Command mode:** config

**Hierarchies**

- system security keychains key receive-lifetime

**Note**
- In case that two interconnected devices are found in different timezones, then it is recommended to set timezone to GMT on both ends.

**Parameter table**

+------------+----------------------------------------------------+------------+---------+
| Parameter  | Description                                        | Range      | Default |
+============+====================================================+============+=========+
| start-date | The date at which the key becomes valid for use.   | YYYY-MM-DD | \-      |
+------------+----------------------------------------------------+------------+---------+
| start-time | The time at which the key becomes valid for use.   | HH:MM:SS   | \-      |
+------------+----------------------------------------------------+------------+---------+
| end-date   | The date at which the key becomes invalid for use. | YYYY-MM-DD | \-      |
+------------+----------------------------------------------------+------------+---------+
| end-time   | The time at which the key becomes invalid for use. | HH:MM:SS   | \-      |
+------------+----------------------------------------------------+------------+---------+
| timezone   | Timezone enumerated value                          | | local    | local   |
|            |                                                    | | gmt      |         |
+------------+----------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# receive-lifetime
    dnRouter(cfg-keychain-isis-keys-key-0-receive-lifetime)# period start-time 2024-10-08 14:30:00 end-time 2025-10-08 23:59:00

    dnRouter(cfg-keychain-isis-keys-key-0-receive-lifetime)# period start-time 2024-10-08 14:30:00 end-time 2025-10-08 23:59:00 timezone gmt


**Removing Configuration**

To remove the start time:
::

    dnRouter(cfg-keychain-isis-keys-key-0-receive-lifetime)# no period

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/receive-lifetime/receive-lifetime.rst

system security keychains key receive-lifetime
----------------------------------------------

**Minimum user role:** operator

The applicable receive key for incoming packets is any valid key in the keychain (for MD5), 
or the lowest valid key-id for any other cryptographic algorithm.

To enter the key's receive lifetime hierarchy:

**Command syntax: receive-lifetime**

**Command mode:** config

**Hierarchies**

- system security keychains key

**Note**

- The receive-lifetime is a mandatory parameter for each key in the keychain

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# receive-lifetime
    dnRouter(cfg-keychain-isis-keys-key-0-receive-lifetime)#


**Removing Configuration**

To remove receive lifetime configuration:
::

    dnRouter(cfg-security-keychain-isis-keys-key-0)# no receive-lifetime

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/secret-key.rst

system security keychains key secret-key
----------------------------------------

**Minimum user role:** operator

To add authentication key to the key chain:

**Command syntax: secret-key [enc-password]**

**Command mode:** config

**Hierarchies**

- system security keychains key

**Note**

- Entering the command without the key will prompt user to enter and verify clear text key
- When entering a clear text key, the key **will not** be displayed in the CLI terminal
- A clear text key length cannot exceed 254 charachters
- The key is saved encrypted and always displayed as a secret
- The secret-key is a mandatory parameter for each key in the key chain

**Parameter table**

+--------------+----------------------------------------------------------------------------------+-----------------------------------------------+---------+
| Parameter    | Description                                                                      | Range                                         | Default |
+==============+==================================================================================+===============================================+=========+
| enc-password | The encrypted password. If you do not set an encrypted password, you will be     | A clear password cannot exceed 254 characters | \-      |
|              | prompted to enter a clear password and verify it.                                |                                               |         |
|              | When typing a clear password, the password will not be displayed in the CLI      |                                               |         |
|              | terminal. The password format must match the encrypted format as displayed in    |                                               |         |
|              | "show config".                                                                   |                                               |         |
+--------------+----------------------------------------------------------------------------------+-----------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# secret-key
    Enter password
    Enter password for verifications

    dnRouter(cfg-security-keychain-isis-keys-key-0)# secret-key enc-gAAAAABduqxChJ4bui9rSfwefF6MglPHuX8clLpAbLjXAEdzVH-sJWVIkKxVx2ukbwSq6_T79AR8oXJfw5ugGjKE95gv3ggatw==


**Removing Configuration**

To remove the secret key:
::

    dnRouter(cfg-security-keychain-isis-keys-key-0)# no secret-key

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/send-lifetime/period.rst

system security keychains key send-lifetime period start-time
-------------------------------------------------------------

**Minimum user role:** operator

To configure the send lifetime period:

**Command syntax: period start-time [start-date] [start-time] end-time [end-date] [end-time]** timezone [timezone]

**Command mode:** config

**Hierarchies**

- system security keychains key send-lifetime

**Note**
- In case that two interconnected devices are found in different timezones, then it is recommended to set timezone to GMT on both ends.

**Parameter table**

+------------+----------------------------------------------------+------------+---------+
| Parameter  | Description                                        | Range      | Default |
+============+====================================================+============+=========+
| start-date | The date at which the key becomes valid for use.   | YYYY-MM-DD | \-      |
+------------+----------------------------------------------------+------------+---------+
| start-time | The time at which the key becomes valid for use.   | HH:MM:SS   | \-      |
+------------+----------------------------------------------------+------------+---------+
| end-date   | The date at which the key becomes invalid for use. | YYYY-MM-DD | \-      |
+------------+----------------------------------------------------+------------+---------+
| end-time   | The time at which the key becomes invalid for use. | HH:MM:SS   | \-      |
+------------+----------------------------------------------------+------------+---------+
| timezone   | Timezone enumerated value                          | | local    | local   |
|            |                                                    | | gmt      |         |
+------------+----------------------------------------------------+------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# send-lifetime
    dnRouter(cfg-keychain-isis-keys-key-0-send-lifetime)# period start-time 2024-10-08 14:30:00 end-time 2025-10-08 23:59:00

    dnRouter(cfg-keychain-isis-keys-key-0-send-lifetime)# period start-time 2024-10-08 14:30:00 end-time 2025-10-08 23:59:00 timezone gmt


**Removing Configuration**

To remove the start time:
::

    dnRouter(cfg-keychain-isis-keys-key-0-send-lifetime)# no period

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/key/send-lifetime/send-lifetime.rst

system security keychains key send-lifetime
-------------------------------------------

**Minimum user role:** operator

The send key selected for outgoing packets is that of the lowest key-id among the valid keys in the key chain.

To enter the key's send lifetime hierarchy:

**Command syntax: send-lifetime**

**Command mode:** config

**Hierarchies**

- system security keychains key

**Note**

- If a send key is not configured and there are no other valid send keys in the keychain, then packets will be sent without authentication unless a default send key is specified.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# key 0
    dnRouter(cfg-security-keychain-isis-keys-key-0)# send-lifetime
    dnRouter(cfg-keychain-isis-keys-key-0-send-lifetime)#


**Removing Configuration**

To remove send lifetime configuration:
::

    dnRouter(cfg-security-keychain-isis-keys-key-0)# no send-lifetime

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/keychain.rst

system security keychains
-------------------------

**Minimum user role:** operator

A key chain provides a management of sequence of keys used to support application and services security. An example 
of such application can be key-based authentication for routing protocols that can provide a dynamic authentication 
service and a hitless rollover of keys to enhance the communication security. Each key in a key chain can be regarded 
as a set of encryption and authentication rules, that include, inter alia, the shared-secret, the cryptographic algorithm, 
and the lifetime of each shared-secret to be used between the peering devices.

To configure security key chains:

**Command syntax: keychains [keychain-name]**

**Command mode:** config

**Hierarchies**

- system security

**Note**

- Up to 64 key chains are supported.

**Parameter table**

+---------------+---------------------------------------+------------------+---------+
| Parameter     | Description                           | Range            | Default |
+===============+=======================================+==================+=========+
| keychain-name | Reference to configured keychain name | | string         | \-      |
|               |                                       | | length 1-255   |         |
+---------------+---------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)#


**Removing Configuration**

To remove the specified key chain:
::

    dnRouter(cfg-system-security)# no keychains isis-keys

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/keychain/receive-tolerance.rst

system security keychains receive-tolerance
-------------------------------------------

**Minimum user role:** operator

The receive tolerance may be configured to extend the lifetime of a key. This is used to overcome clock synchronization
issues between devices and to support a smooth key rollover. When used, then a key that is outside its active lifetime and 
should have been deemed invalid will still be regarded as valid as long as it is within the tolerance configuration that 
extends its lifetime (for example, either prior to the start of the lifetime, or after the end of the lifetime). The tolerance 
value is applied to all receive keys in a keychain.

To configure the tolerance for all receive keys in the key chain:

**Command syntax: receive-tolerance [tolerance]**

**Command mode:** config

**Hierarchies**

- system security keychains

**Parameter table**

+-----------+----------------------------------------------------------------------------------+--------------+---------+
| Parameter | Description                                                                      | Range        | Default |
+===========+==================================================================================+==============+=========+
| tolerance | Tolerance (overlap time) that a receive key should be accepted.  May be          | | 0-86400    | 0       |
|           | expressed as range in seconds, or using the infinite value to indicate that the  | | infinite   |         |
|           | key does not expire.  The default value should be 0, i.e., no tolerance.         |              |         |
+-----------+----------------------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)# keychains isis-keys
    dnRouter(cfg-system-security-keychain-isis-keys)# receive-tolerance 300


**Removing Configuration**

To remove the receive-tolerance:
::

    dnRouter(cfg-system-security-keychain-isis-keys)# no receive-tolerance

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## security/security.rst

system security
---------------

**Minimum user role:** operator

To enter the Security configuration hierarchy:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# security
    dnRouter(cfg-system-security)#


**Removing Configuration**

To remove Security configuration:
::

    no security

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## snmp/user/authentication.rst

system snmp user authentication password
----------------------------------------

**Minimum user role:** operator

To configure the SNMP user authentication algorithm and the password:

**Command syntax: authentication [type] password [enc-password]**

**Command mode:** config

**Hierarchies**

- system snmp user

**Note**
- User configuration must include include auth-type and auth-password
- password length must be a minimum of 8 characters
- password will be displayed as encrypted text. (enc-xxxx)
- validation. password should be validated to avoid user errors
- The same password is used for encryption and authentication
- it is not possible to remove user encryption

**Parameter table**

+--------------+-----------------------------------------------------------------------------+---------+---------+
| Parameter    | Description                                                                 | Range   | Default |
+==============+=============================================================================+=========+=========+
| type         | To configure SNMP user encryption                                           | | md5   | \-      |
|              |                                                                             | | sha   |         |
+--------------+-----------------------------------------------------------------------------+---------+---------+
| enc-password | Localized secret specified as a list of colon-specified hexadecimal octets. | \-      | \-      |
+--------------+-----------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system snmp
    dev-dnRouter(cfg-system-snmp)# user snmp-test authentication sha password
    Enter password
    Enter password for verification


**Removing Configuration**

To remove the configuration:
::

    dev-dnRouter(cfg-system-snmp)# no user snmp-test authentication sha password

**Command History**

+---------+--------------------------------+
| Release | Modification                   |
+=========+================================+
| 5.1.0   | Command introduced             |
+---------+--------------------------------+
| 6.0     | Applied new hierarchy for SNMP |
+---------+--------------------------------+
| 9.0     | Applied new hierarchy for user |
+---------+--------------------------------+

---

## snmp/user/encryption.rst

system snmp user encryption
---------------------------

**Minimum user role:** operator

To configure SNMP user encryption

**Command syntax: encryption [type]**

**Command mode:** config

**Hierarchies**

- system snmp user

**Note**
- validation authentication(md5/sha) **MUST** be configured on the user for encryption to be applied. a warning should be displayed to the user in this case
- no command removes the encryption paramater

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| type      | The encrypted password. If you do not set an encrypted password, you will be     | | aes   | \-      |
|           | prompted to enter a clear password and verify it.                                | | des   |         |
|           | When typing a clear password, the password will not be displayed in the CLI      |         |         |
|           | terminal. The password format must match the encrypted format as displayed in    |         |         |
|           | "show config".                                                                   |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# user MySnmpUser2
    dnRouter(cfg-system-snmp-user)# encryption des
    dnRouter(cfg-system-snmp)# user MySnmpUser3
    dnRouter(cfg-system-snmp-user)# encryption aes


**Removing Configuration**

To revert the router-id to default
::

     dnRouter(cfg-system-snmp-user)# no encryption

**Command History**

+---------+--------------------------------+
| Release | Modification                   |
+=========+================================+
| 5.1.0   | Command introduced             |
+---------+--------------------------------+
| 6.0     | Applied new hierarchy for SNMP |
+---------+--------------------------------+
| 9.0     | Applied new hierarchy for user |
+---------+--------------------------------+

---

## ssh/client/admin-state.rst

system ssh client admin-state
-----------------------------

**Minimum user role:** operator

SSH client configuration enables to set accessibility from the system to a remote device via SSH.

The SSH client functionality is disabled by default. To enable or disable it:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ssh client

**Note**
- Changing the client admin-state to "disabled" will immediately terminate any active session.

- Active sessions are immediately disconnected upon configuration of "disable".

**Parameter table**

+-------------+-------------------------------------------+--------------+---------+
| Parameter   | Description                               | Range        | Default |
+=============+===========================================+==============+=========+
| admin-state | the state of the SSH client on the system | | enabled    | enabled |
|             |                                           | | disabled   |         |
+-------------+-------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# client
    dnRouter(cfg-system-ssh-client)# admin-state disabled


**Removing Configuration**

To revert the ssh client admin-state to default:
::

    dnRouter(cfg-system-ssh-client)# no admin-state

**Command History**

+---------+-------------------------------------------------------------------+
| Release | Modification                                                      |
+=========+===================================================================+
| 5.1.0   | Command introduced                                                |
+---------+-------------------------------------------------------------------+
| 6.0     | Added admin-state to the command syntax and applied new hierarchy |
+---------+-------------------------------------------------------------------+

---

## ssh/client/class_of_service.rst

system ssh client class-of-service
----------------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority. To configure a CoS for all outgoing SSH client messages:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system ssh client

**Parameter table**

+------------------+------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                | Range | Default |
+==================+============================================================+=======+=========+
| class-of-service | This parameter specifies the dscp of generated NTP packets | 0-56  | 16      |
+------------------+------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# client
    dnRouter(cfg-system-client)# class-of-service 15


**Removing Configuration**

To revert the class-of-service to the default value:
::

    dnRouter(cfg-system-ssh-client)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## ssh/client/client.rst

system ssh client
-----------------

**Minimum user role:** operator

Configure SSH client parameters:

**Command syntax: client**

**Command mode:** config

**Hierarchies**

- system ssh

**Note**

- Notice the change in prompt.

- no commands removes configuration/set the default value.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# client


**Removing Configuration**

To revert ssh client to default state:
::

    dnRouter(cfg-system-ssh)# no client

**Command History**

+---------+-----------------------------------------------+
| Release | Modification                                  |
+=========+===============================================+
| 10.0    | Command introduced as part of new hierarchy   |
+---------+-----------------------------------------------+
| 11.0    | Parameters moved to the lower level hierarchy |
+---------+-----------------------------------------------+

---

## ssh/security/ca-public-key.rst

system ssh security ca-public-key
---------------------------------

**Minimum user role:** operator

Use certificate authentication as part of SSH protocol handshake using a digital certificate authenticating the identity of the certificate holder, and allowing to encrypt the communication using a public key.
If an SSH CA public key file is not configured, session will be established using public key or legacy password authentication.
Configuration applies both to SSH and Netconf servers.
To configure an SSH CA public key file on the system:
1. Upload the public key file to the /security/key folder. To see how, refer to \"request file download\".
2. Configure the public key file to use.

**Command syntax: ca-public-key [ca-public-key]**

**Command mode:** config

**Hierarchies**

- system ssh security

**Note**

- SSH sessions may be established without a CA public key file, if SSH ca-public-key is not configured, session will be established using legacy public key or password.

**Parameter table**

+---------------+------------------------+--------------------------+---------+
| Parameter     | Description            | Range                    | Default |
+===============+========================+==========================+=========+
| ca-public-key | SSH CA public key name | Any loaded CA public key | \-      |
+---------------+------------------------+--------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-sec)# ca-public-key ca.pub


**Removing Configuration**

To disable SSH CA public key configuration:
::

    dnRouter(cfg-system-ssh-sec)# no ca-public-key

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 25.1    | Command introduced                     |
+---------+----------------------------------------+
| TBD     | Fix description, cli_examples and note |
+---------+----------------------------------------+

---

## ssh/security/ca-signature-algorithms.rst

system ssh security ca-signature-algorithms
-------------------------------------------

**Minimum user role:** operator

Configure SSH Server and Netconf allowed CA signature algorithms

**Command syntax: ca-signature-algorithms [ca-signature-algorithms]** [, ca-signature-algorithms, ca-signature-algorithms]

**Command mode:** config

**Hierarchies**

- system ssh security

**Parameter table**

+-------------------------+------------------------------------------------------------------------+-------------------------+---------+
| Parameter               | Description                                                            | Range                   | Default |
+=========================+========================================================================+=========================+=========+
| ca-signature-algorithms | List certificate authority signature algorithms accepted by the server | | ssh-ed25519           | \-      |
|                         |                                                                        | | ssh-rsa               |         |
|                         |                                                                        | | rsa-sha2-256          |         |
|                         |                                                                        | | rsa-sha2-512          |         |
|                         |                                                                        | | ecdsa-sha2-nistp256   |         |
|                         |                                                                        | | ecdsa-sha2-nistp384   |         |
|                         |                                                                        | | ecdsa-sha2-nistp521   |         |
+-------------------------+------------------------------------------------------------------------+-------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-security)# ca-signature-algorithms ssh-ed25519,rsa-sha2-512


**Removing Configuration**

To revert SSH and Netconf allowed CA signature algorithms to default:
::

    dnRouter(cfg-system-security)# no ca-signature-algorithms

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## ssh/security/ciphers.rst

system ssh security ciphers
---------------------------

**Minimum user role:** operator

Configure SSH Server and Netconf Cipher algorithms. SSH Client is not affected.

**Command syntax: ciphers [ciphers]** [, ciphers, ciphers]

**Command mode:** config

**Hierarchies**

- system ssh security

**Parameter table**

+-----------+-------------------------+-----------------------------------+---------+
| Parameter | Description             | Range                             | Default |
+===========+=========================+===================================+=========+
| ciphers   | List of allowed ciphers | | 3des-cbc                        | \-      |
|           |                         | | aes128-cbc                      |         |
|           |                         | | aes192-cbc                      |         |
|           |                         | | aes256-cbc                      |         |
|           |                         | | aes128-ctr                      |         |
|           |                         | | aes192-ctr                      |         |
|           |                         | | aes256-ctr                      |         |
|           |                         | | aes128-gcm-openssh.com          |         |
|           |                         | | aes256-gcm-openssh.com          |         |
|           |                         | | chacha20-poly1305-openssh.com   |         |
+-----------+-------------------------+-----------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-security)# ciphers chacha20-poly1305-openssh.com,aes256-gcm-openssh.com


**Removing Configuration**

To revert the ssh server ciphers to default: 
::

    dnRouter(cfg-system-ssh-security)# no ciphers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1.3  | Command introduced |
+---------+--------------------+

---

## ssh/security/host-certificate.rst

system ssh security host-certificate
------------------------------------

**Minimum user role:** operator

Use certificate authentication as part of SSH protocol handshake using a digital certificate authenticating the identity of the certificate holder and allowing to encrypt the communication using a public key.

If an SSH host-certificate is not configured, a session will be established using public key or legacy password authentication.

Configuration applies both to SSH and Netconf servers.

To configure an SSH host-certificate on the system:
1. Naming: cert and key filename should be the same with different extensions - .crt and .key

2. Upload the certificate to the /security/cert folder. To see how, refer to \"request file download\".

3. Upload the private key matching the loaded certificate to the /security/key folder. To see how, refer to \"request file download\".

4. Configure the certificate to use (filename without .crt extension).

**Command syntax: host-certificate [host-certificate]**

**Command mode:** config

**Hierarchies**

- system ssh security

**Note**

- SSH sessions may be established without host-certificate, if SSH host-certificate is not configured, session will be established using public key or password.

**Parameter table**

+------------------+---------------------------+-----------------------------+---------+
| Parameter        | Description               | Range                       | Default |
+==================+===========================+=============================+=========+
| host-certificate | SSH host certificate name | Any loaded host-certificate | \-      |
+------------------+---------------------------+-----------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-sec)# host-certificate my_cert


**Removing Configuration**

To disable SSH and Netconf certificate authentication:
::

    dnRouter(cfg-system-ssh-sec)# no host-certificate

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 25.1    | Command introduced                     |
+---------+----------------------------------------+
| TBD     | Fix description, cli_examples and note |
+---------+----------------------------------------+

---

## ssh/security/host-key-algorithms.rst

system ssh security host-key-algorithms
---------------------------------------

**Minimum user role:** operator

Configure SSH Server and Netconf Host-Key algorithms. SSH Client is not affected.

**Command syntax: host-key-algorithms [host-key-algorithms]** [, host-key-algorithms, host-key-algorithms]

**Command mode:** config

**Hierarchies**

- system ssh security

**Parameter table**

+---------------------+-----------------------------------------------------------+----------------------------------------------+---------+
| Parameter           | Description                                               | Range                                        | Default |
+=====================+===========================================================+==============================================+=========+
| host-key-algorithms | List host key signature algorithms that the server offers | | ssh-ed25519                                | \-      |
|                     |                                                           | | ssh-ed25519-cert-v01-openssh.com           |         |
|                     |                                                           | | ssh-rsa                                    |         |
|                     |                                                           | | rsa-sha2-256                               |         |
|                     |                                                           | | rsa-sha2-512                               |         |
|                     |                                                           | | ecdsa-sha2-nistp256                        |         |
|                     |                                                           | | ecdsa-sha2-nistp384                        |         |
|                     |                                                           | | ecdsa-sha2-nistp521                        |         |
|                     |                                                           | | ssh-rsa-cert-v01-openssh.com               |         |
|                     |                                                           | | rsa-sha2-256-cert-v01-openssh.com          |         |
|                     |                                                           | | rsa-sha2-512-cert-v01-openssh.com          |         |
|                     |                                                           | | ecdsa-sha2-nistp256-cert-v01-openssh.com   |         |
|                     |                                                           | | ecdsa-sha2-nistp384-cert-v01-openssh.com   |         |
|                     |                                                           | | ecdsa-sha2-nistp521-cert-v01-openssh.com   |         |
+---------------------+-----------------------------------------------------------+----------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-security)# host-key-algorithms ssh-ed25519,rsa-sha2-512


**Removing Configuration**

To revert the ssh server host-key-algorithms to default:
::

    dnRouter(cfg-system-security)# no host-key-algorithms

**Command History**

+---------+-------------------------------+
| Release | Modification                  |
+=========+===============================+
| 19.1.3  | Command introduced            |
+---------+-------------------------------+
| 25.1    | Expanded algorithms selection |
+---------+-------------------------------+

---

## ssh/security/macs.rst

system ssh security macs
------------------------

**Minimum user role:** operator

Configure SSH Server and Netconf MAC algorithms. SSH Client is not affected.

**Command syntax: macs [macs]** [, macs, macs]

**Command mode:** config

**Hierarchies**

- system ssh security

**Parameter table**

+-----------+----------------------------------------------------------------+-----------------------------------+---------+
| Parameter | Description                                                    | Range                             | Default |
+===========+================================================================+===================================+=========+
| macs      | List of available MAC (message authentication code) algorithms | | hmac-sha1                       | \-      |
|           |                                                                | | hmac-sha1-96                    |         |
|           |                                                                | | hmac-sha2-256                   |         |
|           |                                                                | | hmac-sha2-512                   |         |
|           |                                                                | | hmac-md5                        |         |
|           |                                                                | | hmac-md5-96                     |         |
|           |                                                                | | umac-64-openssh.com             |         |
|           |                                                                | | umac-128-openssh.com            |         |
|           |                                                                | | hmac-sha1-etm-openssh.com       |         |
|           |                                                                | | hmac-sha1-96-etm-openssh.com    |         |
|           |                                                                | | hmac-sha2-256-etm-openssh.com   |         |
|           |                                                                | | hmac-sha2-512-etm-openssh.com   |         |
|           |                                                                | | hmac-md5-etm-openssh.com        |         |
|           |                                                                | | hmac-md5-96-etm-openssh.com     |         |
|           |                                                                | | umac-64-etm-openssh.com         |         |
|           |                                                                | | umac-128-etm-openssh.com        |         |
+-----------+----------------------------------------------------------------+-----------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-security)# macs hmac-sha2-512


**Removing Configuration**

To revert the ssh security macs to default: 
::

    dnRouter(cfg-system-ssh-security)# no macs

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1.3  | Command introduced |
+---------+--------------------+

---

## ssh/security/security.rst

system ssh security
-------------------

**Minimum user role:** operator

Configure SSH security parameters:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system ssh

**Note**

- Security affects both SSH Server and Netconf servers on all vrfs

- Security does not affect SSH Client

- Notice the change in prompt.

- no commands removes configuration/set the default value.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-ssh-server-security)# mac hmac-sha2-512
    dnRouter(cfg-ssh-server-security)# !
    dnRouter(cfg-ssh-server)# security ciphers chacha20-poly1305-openssh.com,aes256-gcm-openssh.com


**Removing Configuration**

To revert to default algorithms
::

    dnRouter(cfg-system-ssh)# no security

**Command History**

+---------+---------------------------------------------+
| Release | Modification                                |
+=========+=============================================+
| 19.2    | Command introduced as part of new hierarchy |
+---------+---------------------------------------------+

---

## ssh/server/admin-state.rst

system ssh server admin-state
-----------------------------

**Minimum user role:** operator

Configure the state of the SSH server on the system.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ssh server

**Note**

- Changing the server admin-state to "disabled" will immediately terminate any active session.

- no command returns the state to default.

- Once disabled, only console access is provided.

- Active sessions are immediately disconnected upon configuration of "disable".

- Only new sessions can not be established

- SSH server supports connections on the following interfaces

- physical

- sub-interface(physical.vlan, bundle.vlan)

- loopback

- mgmt

**Parameter table**

+-------------+---------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                         | Range        | Default |
+=============+=====================================================================+==============+=========+
| admin-state | admin-state of ssh-server per system, the global admin-state switch | | enabled    | enabled |
|             |                                                                     | | disabled   |         |
+-------------+---------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)# admin-state disabled


**Removing Configuration**

To revert the ssh server admin-state to default:
::

    dnRouter(cfg-system-ssh-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ssh/server/class-of-service.rst

system ssh server class-of-service
----------------------------------

**Minimum user role:** operator

The DSCP value that is used in the IP header to classify the packet and give it a priority.

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system ssh server

**Note**

- With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you are able to control which packets receive priority.

**Parameter table**

+------------------+------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                | Range | Default |
+==================+============================================================+=======+=========+
| class-of-service | This parameter specifies the dscp of generated SSH packets | 0-56  | 16      |
+------------------+------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)# class-of-service 54


**Removing Configuration**

To revert the ssh server class-of-service to default: 
::

    dnRouter(cfg-system-netconf)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+

---

## ssh/server/max-sessions.rst

system ssh server max-sessions
------------------------------

**Minimum user role:** operator

To configure the maximum number of concurrent SSH sessions:

**Command syntax: max-sessions [max-sessions]**

**Command mode:** config

**Hierarchies**

- system ssh server

**Note**

- To enable these concurrent sessions, ssh-client must be enabled. See system ssh client admin-state.

- no command returns the number of maximum sessions to default.

**Parameter table**

+--------------+---------------------------------------------------------+-------+---------+
| Parameter    | Description                                             | Range | Default |
+==============+=========================================================+=======+=========+
| max-sessions | maximum number of concurrent CLI sessions to SSH server | 1-32  | 10      |
+--------------+---------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)# max-sessions 5


**Removing Configuration**

To revert ssh server max-sessions to default: 
::

    dnRouter(cfg-system-ssh-server)# no max-sessions

**Command History**

+---------+-------------------------------+
| Release | Modification                  |
+=========+===============================+
| 5.1.0   | Command introduced            |
+---------+-------------------------------+
| 6.0     | Applied new hierarchy         |
+---------+-------------------------------+
| 10.0    | Merged with system ssh server |
+---------+-------------------------------+
| 11.0    | Moved into system ssh server  |
+---------+-------------------------------+

---

## ssh/server/server.rst

system ssh server
-----------------

**Minimum user role:** operator

Configure SSH server parameters:

**Command syntax: server**

**Command mode:** config

**Hierarchies**

- system ssh

**Note**

- SSH is supported on the default, mgmt and non-default vrf.

- Notice the change in prompt.

- no commands removes configuration/set the default value.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server vrf default
    dnRouter(cfg-ssh-server-vrf)# client-list 2001:ab12::1/128
    dnRouter(cfg-ssh-server-vrf)# client-list type
    dnRouter(cfg-ssh-server-vrf)#  !
    dnRouter(cfg-system-ssh-server)# max-sessions 5
    dnRouter(cfg-system-ssh-server)# admin-state disable


**Removing Configuration**

To revert the ssh server admin-state
::

    cfg-system-ssh-server)# no admin-state

To revert ssh server class of service
::

    dnRouter(cfg-system-ssh-server)# no class-of-service

To revert ssh server max-sessions:
::

    dnRouter(cfg-system-ssh-server)# no max-sessions

**Command History**

+---------+-----------------------------------------------+
| Release | Modification                                  |
+=========+===============================================+
| 10.0    | Command introduced as part of new hierarchy   |
+---------+-----------------------------------------------+
| 11.0    | Parameters moved to the lower level hierarchy |
+---------+-----------------------------------------------+

---

## ssh/server/vrf/admin-state.rst

system ssh server vrf admin-state
---------------------------------

**Minimum user role:** operator

Configure the state of the SSH server on the system.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ssh server vrf

**Note**

- Changing the server admin-state to "disabled" will immediately terminate any active session

- Once disabled, only console access is provided.

- Active sessions are immediately disconnected upon configuration of "disable".

- Only new sessions can not be established

- SSH server supports connections on the following interfaces

- physical

- sub-interface(physical.vlan, bundle.vlan)

- loopback

- mgmt

- Validation - fail commit if more than one in-band management non-default VRF is configured with admin-state enabled knob.

**Parameter table**

+-------------+-----------------------------------+--------------+---------+
| Parameter   | Description                       | Range        | Default |
+=============+===================================+==============+=========+
| admin-state | admin-state of ssh-server per VRF | | enabled    | enabled |
|             |                                   | | disabled   |         |
+-------------+-----------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)# admin-state disabled
    dnRouter(cfg-ssh)# server vrf mgmt0
    dnRouter(cfg-ssh-server-vrf)# admin-state enabled
    dnRouter(cfg-ssh-server-vrf)#
    dnRouter(cfg-ssh)# server vrf my_vrf
    dnRouter(cfg-ssh-server-vrf)# admin-state disabled
    dnRouter(cfg-ssh-server-vrf)#


**Removing Configuration**

To revert the admin-state to default:
::

    dnRouter(cfg-system-ssh-server)# no admin-state

**Command History**

+---------+---------------------+
| Release | Modification        |
+=========+=====================+
| 13.1    | Command introduced  |
+---------+---------------------+
| 19.1    | Added NDVRF Support |
+---------+---------------------+

---

## ssh/server/vrf/client-list-type.rst

system ssh server vrf client-list type
--------------------------------------

**Minimum user role:** operator

Defines whether the listed clients will be granted access to the in-band SSH server. 

**Command syntax: client-list type [list-type]**

**Command mode:** config

**Hierarchies**

- system ssh server vrf

**Note**

- If the list-type is set to "allow", the client list must not be empty.

- no command return the list type to its default value

- if client-list type is set to "allow", client-list must not be empty

**Parameter table**

+-----------+-----------------------------------------------------------------------------+-----------+---------+
| Parameter | Description                                                                 | Range     | Default |
+===========+=============================================================================+===========+=========+
| list-type | Configure black or white list type of incoming IP-addresses for SSH service | | allow   | deny    |
|           |                                                                             | | deny    |         |
+-----------+-----------------------------------------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server vrf default
    dnRouter(cfg-ssh-server-vrf)# client-list type allow


**Removing Configuration**

To revert the type to default:
::

    dnRouter(cfg-ssh-server-vrf)# no client-list type

**Command History**

+---------+-------------------------------+
| Release | Modification                  |
+=========+===============================+
| 6.0     | Command introduced            |
+---------+-------------------------------+
| 10.0    | Merged with system ssh server |
+---------+-------------------------------+
| 11.0    | Moved into system ssh server  |
+---------+-------------------------------+
| 13.1    | Moved under VRF hierarchy     |
+---------+-------------------------------+

---

## ssh/server/vrf/client-list.rst

system ssh server vrf client-list
---------------------------------

**Minimum user role:** operator

The IP-addresses per vrf for SSH server

**Command syntax: client-list [ipv4-address/ipv6-address]** [, ipv4-address/ipv6-address, ipv4-address/ipv6-address]

**Command mode:** config

**Hierarchies**

- system ssh server vrf

**Note**

- no command without value removes all the IP addresses from the list.

- no command with value removes the specified IP addresses from the list.

- Scale validation

- up to 1000 clients (for both of addresses together) per vrf

- if client-list type is set to "allow", client-list must not be empty.

**Parameter table**

+---------------------------+------------------------------------------------------------------------+----------------+---------+
| Parameter                 | Description                                                            | Range          | Default |
+===========================+========================================================================+================+=========+
| ipv4-address/ipv6-address | Black/white list of incoming ip-prefixes for system in-band ssh server | | A.B.C.D/x    | \-      |
|                           |                                                                        | | X:X::X:X/x   |         |
+---------------------------+------------------------------------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-ssh)# server vrf default
    dnRouter(cfg-ssh-server-vrf)# client-list 200.10.10.6/32
    dnRouter(cfg-ssh-server-vrf)# client-list 2001:ab12::1/128
    dnRouter(cfg-ssh-server-vrf)# client-list 50.1.22.0/24
    dnRouter(cfg-ssh-server-vrf)# client-list 2001:db8:2222::/48


**Removing Configuration**

To remove the a specific from the list:
::

    dnRouter(cfg-ssh-server-vrf)# no client-list 2001:ab12::1/128

To remove all addresses from the list:
::

    dnRouter(cfg-ssh-server-vrf)# no client-list

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.6    | Command introduced |
+---------+--------------------+

---

## ssh/server/vrf/vrf.rst

system ssh server vrf
---------------------

**Minimum user role:** operator

Allows to define separate SSH client-lists and admin-states per VRF (in-band default, in-band non-default and out-of-band)

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system ssh server

**Note**

- Notice the change in prompt.

- vrf definition level is introduced for attaching client-list.

- vrf "default" represents the in-band management, while vrf "mgmt0" represents the out-of-band management.

- client-list configuration configured under VRF mgmt0 will be implicitly attached and applied on the host out-of-band interfaces (mgmt-ncc-0 and mgmt-ncc-1)

- no command deletes the configuration under the specific vrf.

- validation is required to fail commit if more than 3 non-default VRFs are configured in general

**Parameter table**

+-----------+----------------------+------------------+---------+
| Parameter | Description          | Range            | Default |
+===========+======================+==================+=========+
| vrf-name  | The name of the vrf. | | string         | \-      |
|           |                      | | length 1-255   |         |
+-----------+----------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)#
    dnRouter(cfg-system-ssh-server)#  vrf default
    dnRouter(cfg-ssh-server-vrf)#
    dnRouter(cfg-system-ssh-server)# vrf mgmt0
    dnRouter(cfg-ssh-server-vrf)#
    dnRouter(cfg-system-ssh-server)# vrf my_vrf
    dnRouter(cfg-ssh-server-vrf)#


**Removing Configuration**

To delete the configuration under the non-default specific vrf:
::

    dnRouter(cfg-system-ssh-server)# no vrf my_vrf

For VRF default and mgmt0 no command will reset the configuration::
::

    dnRouter(cfg-system-ssh-server)# no vrf default

**Command History**

+---------+---------------------+
| Release | Modification        |
+=========+=====================+
| 13.1    | Command introduced  |
+---------+---------------------+
| 19.1    | Added NDVRF Support |
+---------+---------------------+

---

## system cli-alias.rst

system cli-alias
----------------

**Minimum user role:** operator

Entering the same commands repeatedly is sometimes a redundant task. The DNOS CLI allows you to define command shortcuts that can be used for the most common commands. You can configure up to 1024 aliases.

After setting up the various shortcuts, you can integrate them in the CLI.

To configure aliases for commands:

**Command syntax: cli-alias [cli-alias] [cli-alias-command]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- When introducing alias keys with two or more words separated by a space, only the first word will be saved.

- When upgrading to version 17.2, any alias key with two or more words separated by a space, will be deleted.

- when executing the alias it will be replaced with the configured value (including all spaces)

- alias value maximum length of 255 chars, alias name max length of 255 chars

- up to 1024 configurable aliases shall be supported

- alias will be supported at under any CLI level (main, config, interfaces, protocols, system, etc.)

- There will no validation for the value of the alias, thus is it can contain an unknown command, running the alias will return the relevant error

System will prevent recursive aliasing, for example, the following configuration will fail:

- cli-alias a b

- cli-alias b a

aliases work in exact match - when executing it, the CLI process will look for the exact alias.

- aliases are case sensitive

- security - user using the alias will not be able to run commands not in the permission level (the checks will be done on the alias value)

- alias will support concatenation of one alias to another aliases or to regular CLI commands

- no command without alias-key removes all alias configuration.

- no command with specific alias-key removes specific alias configuration.

Not supported:

- auto complete (tab) of alias commands

- present optional completion when using ?

- short commands for alias-value like "sh bg sum"

- single alias running two commands (separated with ; )

**Parameter table**

+-------------------+---------------------------------------------------+------------------+---------+
| Parameter         | Description                                       | Range            | Default |
+===================+===================================================+==================+=========+
| cli-alias         | Configured name of the cli alias command          | | string         | \-      |
|                   |                                                   | | length 1-255   |         |
+-------------------+---------------------------------------------------+------------------+---------+
| cli-alias-command | Configured command line (string) of the cli alias | | string         | \-      |
|                   |                                                   | | length 1-255   |         |
+-------------------+---------------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cli-alias sbs "show bgp summary"
    dnRouter(cfg-system)# cli-alias sr0 "show route 0.0.0.0"
    dnRouter(cfg-system)# cli-alias sint "show interfaces"
    dnRouter(cfg-system)# cli-alias incbun "| include bundle"
    dnRouter(cfg-system)# cli-alias confip "interfaces lo0 ipv4-address 1.2.3.4/32"

    dnRouter# sbs
    dnRouter# sint incbun
    dnRouter# show interfaces counters incbun
    dnRouter(cfg)# confip


**Removing Configuration**

To delete cli-alias configuration:
::

    dnRouter(cfg-system)# no cli-alias

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 13.1    | Command introduced                     |
+---------+----------------------------------------+
| 17.2    | Added note about spaces in alias names |
+---------+----------------------------------------+

---

## system cli-timestamp.rst

system cli-timestamp
--------------------

**Minimum user role:** operator

By default, commands displayed in the CLI do not show a timestamp. To turn on timestamp so that each entered command will be displayed with a timestamp:

**Command syntax: cli-timestamp [admin-state]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- In the same way as debug set commands, the command "set cli-timestamp" overrides this configuration during the session.

- no command returns to default configuration.

**Parameter table**

+-------------+---------------------------------------------------+--------------+----------+
| Parameter   | Description                                       | Range        | Default  |
+=============+===================================================+==============+==========+
| admin-state | The desired configuration of cli-timestamp option | | enabled    | disabled |
|             |                                                   | | disabled   |          |
+-------------+---------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# cli-timestamp enabled
    dnRouter(cfg-system)# cli-timestamp disabled


**Removing Configuration**

To revert the system cli-timestamp to its default value:
::

    dnRouter(cfg-system)# no cli-timestamp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.4    | Command introduced |
+---------+--------------------+

---

## system debug file files.rst

system debug file files
-------------------------

**Minimum user role:** operator

By default, the system saves 10 debug messages local log files. You can change this limit, depending on the space that you can allocate to logging.

To set the number of log files:

**Command syntax: files [files]**

**Command mode:** config

**Hierarchies**

- system debug


.. **Note**

	- "no debug" command reverts the whole debug paramets to its default value

	- "no debug file" command reverts the debug file parameter to its default value

	- "no debug file <file-name>" reverts the debug file parameter to its default value

	- "no debug file <file-name> files" reverts configuration of number of rotated files per specific debug file to its default.

	- After maximum number of files is reached, the oldest file is overwritten


**Parameter table**

+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                                                                                         | Range | Default |
+===========+=====================================================================================================================================================+=======+=========+
| Files     | The maximum number of log files that the system will create. When the number is reached and the last file is full, the oldest file will be deleted. | 1..20 | 10      |
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# debug
	dnRouter(cfg-system-debug)# file bgp 
	dnRouter(system-debug-file-bgp)# files 20
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(system-debug-file-bgp)# no files 

.. **Help line:** configure number of rotated files for debug messages logging to local files.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.5    | Command introduced |
+---------+--------------------+



---

## system debug file size.rst

system debug file size
------------------------

**Minimum user role:** operator

**Description:** 


**Command syntax: size [size]**

**Command mode:** config

**Hierarchies**

- system debug


.. **Note**

	- "no debug" command reverts the whole debug paramets to its default value

	- "no debug file <file-name>" reverts the debug file parameter to its default value

	- "no debug file <file-name> size" removes configuration of rotated files size per specific debug file to default.

**Parameter table**

+-----------+-----------------------------------------------------------------------------------------------+------------+---------+
| Parameter | Description                                                                                   | Range      | Default |
+===========+===============================================================================================+============+=========+
| Size      | The maximum size of the file. When the size is reached, new logs will be saved in a new file. | 1..1024 MB | 10 MB   |
+-----------+-----------------------------------------------------------------------------------------------+------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# debug
	dnRouter(cfg-system-debug)# file bgp
	dnRouter(system-debug-file-bgp)# size 3

	dnRouter(cfg-system-debug)# file ospf
	dnRouter(system-debug-file-ospf)# size 5


**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(system-debug-file-bgp)# no size
	dnRouter(cfg-system-debug)# no file bgp


.. **Help line:** configure maximum number of the logging file for debug messages logging to local files.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.5    | Command introduced |
+---------+--------------------+



---

## system debug file.rst

system debug file
-----------------

**Minimum user role:** operator

Configure debug messages logging to local files. Debug messages are generated for debugging purposes and are stored in local files.

To configure logging of debug messages to local files:

**Command syntax: system debug file [file-name]**

**Command mode:** config

**Hierarchies**

- system debug


**Note**

- Debug messages are much more volume intensive than system events.

- Notice the change in prompt.

- If a newly configured debug file already exists in the file system, the debug data will be appended to the existing file.

.. - "no debug" command reverts the whole debug paramets to its default value

	- "no debug file <file-name>" command reverts the debug file parameter to its default value

**Parameter table**

+-----------+-----------------------------+--------------------+---------+
| Parameter | Description                 | Range              | Default |
+===========+=============================+====================+=========+
| file-name | The debug file to configure | Any system process | \-      |
+-----------+-----------------------------+--------------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# debug
	dnRouter(cfg-system-debug)# file bgp
	dnRouter(system-debug-file-bgp)#




**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-debug)# no file bgp
	dnRouter(cfg-system)# no debug

.. **Help line:** configure debug messages logging to local files.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.5    | Command introduced |
+---------+--------------------+



---

## system event-manager event-policy event time-interval.rst

system event-manager event-policy event time-interval
-----------------------------------------------------

**Minimum user role:** admin

Use this command to configure the time frame within which the registered system-events must get to the triggered condition.

**Command syntax: time-interval [interval]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy


**Note**

- Notice the change in prompt.

.. - *time-interval -* the duration of time the event-count needs to be reached in order to execute the policy. "0" is used as infinite value.

    - no command returns to default value.

**Parameter table**

+-----------+--------------------------------------------------------------------------------------------------------------------+--------------------------+---------+
| Parameter | Description                                                                                                        | Range                    | Default |
+===========+====================================================================================================================+==========================+=========+
| interval  | The duration of time the event-count must be reached for the policy to be executed. "0" is used as infinite value. | 0 | 60..604800 (seconds) | 0       |
+-----------+--------------------------------------------------------------------------------------------------------------------+--------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)# time-interval 300
    dnRouter(cfg-policy-test-event)#


**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-policy-test-event)# no time-interval

.. **Help line:** configure the time interval in seconds.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system event-manager event-policy event trigger-condition.rst

system event-manager event-policy event trigger-condition
---------------------------------------------------------

**Minimum user role:** admin

Use this to configure the event attributes and conditions that will trigger the policy.

**Command syntax: trigger-condition [condition]** [event-count]

**Command mode:** config

**Hierarchies**

- system event-manager event-policy


**Note**

- notice the change in prompt

.. - *trigger-condition -* ON, once the event received and the event-count reached.

    - no command returns to default value.

**Parameter table**

+-------------+-----------------------------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                                       | Range  | Default |
+=============+===================================================================================+========+=========+
| condition   | The policy is executed when the number of matching                                |        |         | 
|             | events received equals event-count                                                | \-     | On      |
+-------------+-----------------------------------------------------------------------------------+--------+---------+
| event-count | The number of matching system events that must be received to trigger the policy  | 1..100 | 1       |
+-------------+-----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)# trigger-condition on 10
    dnRouter(cfg-policy-test-event)#

**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-policy-test-event)# no trigger-condition

.. **Help line:** configures when the event-policy will be executed.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system event-manager event-policy event.rst

system event-manager event-policy event
---------------------------------------

**Minimum user role:** admin

Use this command to configure the attributes and conditions which triggers the policy. Up to five scripts can run simultaneously.

**Command syntax: event [event-name]** {attribute [event-attribute] \| trigger-condition [condition] \| time-interval [interval]}

**Command mode:** config

**Hierarchies**

- system event-manager event-policy event

**Note**

- A policy script can be used by several named policies as long as the system-events are different.

- Notice the change in prompt.

.. - *trigger-condition -* ON, once the event received and the event-count reached.

    - *time-interval -* the duration of time the event-count needs to be reached in order to execute the policy. "0" is used as infinite value.

    - no command removes a specific event entry, upon removal all running policies will continue to run until termination.

    Validation:

    - Policy-script can be used by several policy-names as long as the system-events are different.

    - Only up to 5 policies can be in admin-state "enabled" in the same time.

**Parameter table**

+-----------------+--------------------------------------------------------------------------------------------------------------------+---------------------------+---------+
| Parameter       | Description                                                                                                        | Range                     | Default |
+=================+====================================================================================================================+===========================+=========+
| event-name      | The system event name the script needs to register                                                                 | string (lower case only)  | \-      |
+-----------------+--------------------------------------------------------------------------------------------------------------------+---------------------------+---------+
| event-attribute | A variable name to match in the system event                                                                       | string                    | \-      |
+-----------------+--------------------------------------------------------------------------------------------------------------------+---------------------------+---------+
| condition       | Once the event-count has been reached, the condition when the policy is triggered                                  | \-                        | On      |
+-----------------+--------------------------------------------------------------------------------------------------------------------+---------------------------+---------+
| interval        | The duration of time the event-count must be reached for the policy to be executed. "0" is used as infinite value. | 0 | 60.. 604800 (seconds) | 0       |
+-----------------+--------------------------------------------------------------------------------------------------------------------+---------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-policy-test-event)# attribute new-state
    dnRouter(cfg-policy-test-event)#
    dnRouter(cfg-policy-test-event)# trigger-condition on
    dnRouter(cfg-policy-test-event)#
    dnRouter(cfg-policy-test-event)# time-interval 300
    dnRouter(cfg-policy-test-event)#



**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-event-policy-test)# no event if_link_state_change_down

.. **Help line:** configure the event-policy parameters.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+


---

## system event-manager event-policy policy-iteration.rst

system event-manager event-policy policy-iteration
--------------------------------------------------

**Minimum user role:** admin

Use this command to configure the number of times the policy will be executed.

**Command syntax:policy-iteration [iteration]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy 


**Note**

- Notice the change in prompt.

.. - Once the policy executed the policy-iteration number of times the policy will appear in operational-state "inactive".

    - a change in the policy-iteration configuration during policy execution will take effect on the next policy execution.

    - "0" is used as infinite value.

    - no command resets policy-iteration to default, will take effect on next policy execution.

**Parameter table**

+-----------+--------------------------------------------------+-------------+---------+
| Parameter | Description                                      | Range       | Default |
+===========+==================================================+=============+=========+
| iteration | The number of times the policy will be executed. | 0 | 1..1000 | 0       |
|           | "0" is an infinite value                         |             |         |
+-----------+--------------------------------------------------+-------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# event if_link_state_change_down
    dnRouter(cfg-event-policy-test)# policy-iteration 0
    dnRouter(cfg-event-policy-test)#
    dnRouter(cfg-event-policy-test)# policy-iteration 20
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-event-policy-test)# no policy-iteration

.. **Help line:** configure the number of policy iterations.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system event-manager event-policy script-maxruntime.rst

system event-manager event-policy script-maxruntime
---------------------------------------------------

**Minimum user role:** admin

Use this command to configure the maximum time can run. Once the maximum time is reached the policy is terminated. During policy execution the same policy cannot be run.

**Command syntax: script-maxruntime [runtime]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy


**Note**

- Notice the change in prompt

.. - a change in the script-maxruntume configuration during policy execution will take effect on the next policy execution.

    - once script-maxruntime reached, the policy will be terminated even if it still in the middle of the execution.

    - during policy execution no another execution will be initiated of the same policy rule (policy-name)

    - no command resets script-maxruntime to default, will take effect on next policy execution.

**Parameter table**

+-----------+------------------------------------------------------------------------------------------------------------------------+------------------+---------+
| Parameter | Description                                                                                                            | Range            | Default |
+===========+========================================================================================================================+==================+=========+
| runtime   | The maximum time a policy can run before it is terminated.                                                             | 5..600 (seconds) | 30      |
|           | Any change in the script-maxruntume configuration whilst a policy is running take effect on the next policy execution. |                  |         |
+-----------+------------------------------------------------------------------------------------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)# script-maxruntime 300
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-event-policy-test)# no script-maxruntime

.. **Help line:** configure the runtime duration of the policy in seconds.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system event-manager event-policy script-name.rst

system event-manager event-policy script-name
---------------------------------------------

**Minimum user role:** admin

Use this command to configure the name of the script-name to be executed. If the script is deleted, the policy operational state becomes "inactive". Once an event policy has completed, it cannot be triggered again for 30 seconds.

**Command syntax: script-name [script-name]**

**Command mode:** config

**Hierarchies**

- system event-manager event-policy


**Note**

- Notice the change in prompt

.. - event-policy scripts shall be located under /event-manager/event-policy/scripts dir.

    - Once policy terminated a 30 seconds suspension will be issued before next policy execution.

    - there is no "no command", policy-script can't be removed.

    - "script-name" is a mandatory parameter and commit will fail if no script-name was configured for policy.

    - In case of script-name file deletion, policy operational-state will become inactive.

    Validation:

    - script-name can be used by several policy-names as long as the system-events are different.

**Parameter table**

+-------------+---------------------------------------------------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                                                             | Range  | Default |
+=============+=========================================================================================================+========+=========+
| script-name | The name of the script-file which must be located in the /event-manager/event-policy/scripts directory. | string | \-      |
|             | This is a mandatory parameter. The commit will fail if no script name has been configured.              |        |         |
+-------------+---------------------------------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)#
    dnRouter(cfg-event-policy-test)# script-name event_policy_example.py
    dnRouter(cfg-event-policy-test)#


.. **Help line:** configure the script-name name that will be executed.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system event-manager event-policy.rst

system event-manager event-policy
---------------------------------

**Minimum user role:** admin

The event-policy monitors specific system events and performs configuration changes and operational request commands when the monitored system event is generated. For example, when a specific event is triggered, the device is rebooted. Once an event policy has completed, it cannot be triggered again for 30 seconds. This policy is executed based on a matching trigger of a registered system event.

The configure the event-policy name:

**Command syntax: event-policy [policy-name]**

**Command mode:** config

**Hierarchies**

- system event-manager


**Note**

- Notice the change in prompt

.. - event-policy - is a policy that will be executed upon matching trigger of registered system event.

    - policy-name must be unique per policy type.

    - no command deletes the policy configuration and the log files generated by the policy.

**Parameter table**

+-------------+-------------------------------------------------+--------+---------+
| Parameter   | Description                                     | Range  | Default |
+=============+=================================================+========+=========+
| policy-name | The name of the policy                          | String | \-      |
|             | The policy-name must be unique per policy type. |        |         |
+-------------+-------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)# event-policy test
    dnRouter(cfg-event-policy-test)#


**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-system-event-manager)# no event-policy test

.. **Help line:** configures the name given by the user to the policy.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system event-manager.rst

system event-manager
--------------------

**Minimum user role:** admin

To enter the event-manager configuration level:

**Command syntax: event-manager**

**Command mode:** config

**Hierarchies**

- system event-manager


**Note**

- Up to five policies, from all types, can be in admin-state "enabled" simultaneously

- Notice the change in prompt

 .. - event-policy - policy that will be executed upon matching trigger of registered system event.

     - periodic-policy - a recurrent policy according to the scheduled configuration, with limited execution time.

     - generic-policy - policy that will be executed only once and unlimited in execution time.

     - up-to 5 policies can be in admin-state "enabled" at the same time, from all policy types.

    -  there is no "no command".


**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# event-manager
    dnRouter(cfg-system-event-manager)#


.. **Help line:** configure the event-manager functionality.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+


---

## system fabric-min-links.rst

system fabric-min-links
-----------------------

**Minimum user role:** operator

Each NCP in the cluster is connected to the NCF using up to 40 links depending on the NCP model and cluster type. You can configure the minimum number of NCP fabric member interfaces that must be active for the NCP to be available. The configuration is global for all NCPs in the cluster.

For non-blocking traffic, we recommend configuring a minimum of 11 fabric links for small clusters, 10 fabric links for medium and large clusters (the number of physical fabric interface connections minus 1), and 32 fabric links for clusters using NCP-36CD-S model types, which is the minimum number of NCP fabric member interfaces that must be active for the NCP-36CD-S model type to be available.

If you receive the system event IF_LINK_STATE_CHANGE_MIN_LINKS_REACHED, the link state has moved to a 'down' state because the configured min-links limit has been reached. To correct this, check the faulty links and the NCF or use the system fabric-min-links configuration command to reconfigure the minimum number of required NCF links.

To configure the number of fabric links that must be active:

**Command syntax: fabric-min-links [fabric-min-links]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- This command is not applicable to a standalone NCP.

- Validation  number of fabric-min-links cannot be higher than supported fabric interfaces per ncp in cluster (per cluster type)

- no command restores the fabric min-links value to default value

**Parameter table**

+------------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                                      | Range | Default |
+==================+==================================================================================+=======+=========+
| fabric-min-links | The number of links below which the NCP will become unavailable. The value       | 0-40  | 1       |
|                  | cannot be higher than supported fabric interfaces per cluster NCP.               |       |         |
+------------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# fabric-min-links 11
    dnRouter(cfg-system)#


**Removing Configuration**

To revert the system fabric-min-links to its default value:
::

    dnRouter(cfg-system)# no fabric-min-links

**Command History**

+---------+----------------------------------+
| Release | Modification                     |
+=========+==================================+
| 11.0    | Command introduced               |
+---------+----------------------------------+
| 11.5    | Changed the default value to 10  |
+---------+----------------------------------+
| 13.3    | Changed the default from 10 to 1 |
+---------+----------------------------------+
| 16.1    | Extended upper bound to 40 links |
+---------+----------------------------------+
| 19.10   | Added setting of 0 for AI nodes  |
+---------+----------------------------------+

---

## system fabric-min-ncf.rst

system fabric-min-ncf
---------------------

**Minimum user role:** operator

Every cluster has a recommended number of cluster NCFs that takes into consideration N+1 redundancy:

- Small cluster: 1 NCF (no redundancy)

- Medium cluster: 6 NCFs (5+1)

- Large cluster: 11 NCFs (10+1)

For non-blocking traffic, we recommend configuring the following number of minimum NCFs:

- 1 - for CL-32 using NCP-40C model types. Available range 1-2.

- 2 - for CL-48 using NCP-40C model types. Available range 1-3.

- 3 - for CL-49 using NCP-64X12C-S and NCP-40C and NCP-10CD model types. Available range 1-3.

- 3 - for CL-51 using NCP-36CD-S model types. Available range 1-3.

- 3 - for CL-64 using NCP-40C model types. Available range 1-4.

- 4 - for CL-76 using NCP-36CD-S model types. Available range 1-5.

- 5 - for CL-86 using NCP-64X12C-S and NCP-40C and NCP-10CD model types. Available range 1-6.

- 5 - for CL-96 using NCP-40C model types. Available range 1-7.

- 8 - for CL-153 using NCP-36CD-S model types. Available range 1-10.

- 10 - for CL-192 using NCP-40C model types. Available range 1-13.

- 32 - for CL-409 using NCP-36CD-S model types. Available range 1-36.

- 18 - for AI-768-400G-1 using NCP-36CD-S model types. Available range 0-20.

- 2  - for AI-216-800G-2 using NCP-38E model types. Available range 0-2.

- 32 - for AI-8192-400G-2 using NCP-38E model types. Available range 0-36.

- 1  - for AI-72-800G-2 using NCP-38E model types. Available range 0-1.

- 18 - for AI-2304-800G-2 and AI-2016-800G-2 using NCP-38E model types. Available range 0-20.

- 5 - for AI-576-800G-2 using NCP-38E model types. Available range 0-5.

- 9 - for AI-1152-800G-2 using NCP-38E model types. Available range 0-10.

To configure the minimum number of NCF nodes that must be active for all the NCPs in the cluster to be active:

**Command syntax: fabric-min-ncf [fabric-min-ncf]**

**Command mode:** config

**Hierarchies**

- system

**Note**
- This command is not applicable to a standalone NCP.

- This configuration applies to system cluster types, for standalone, configuration is not available.

- Validation  number of fabric-min-ncf cannot be higher than supported ncfs in cluster (per cluster type)

**Parameter table**

+----------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter      | Description                                                                      | Range | Default |
+================+==================================================================================+=======+=========+
| fabric-min-ncf | The number of active NCF nodes below which the cluster NCPs will become          | 0-36  | 1       |
|                | unavailable. The value cannot be higher than the number of supported NCFs in the |       |         |
|                | cluster.                                                                         |       |         |
+----------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# fabric-min-ncf 10
    dnRouter(cfg-system)#


**Removing Configuration**

To revert the system fabric-min-ncf to its default value:
::

    dnRouter(cfg-system)# no fabric-min-ncf

**Command History**

+---------+------------------------------------------------------------------------------------------------------+
| Release | Modification                                                                                         |
+=========+======================================================================================================+
| 11.2    | Command introduced                                                                                   |
+---------+------------------------------------------------------------------------------------------------------+
| 13.3    | Changed the defaults from 6 for medium cluster and 11 for large clusters to 1 for both cluster types |
+---------+------------------------------------------------------------------------------------------------------+
| 15.1    | Added support for CL-32, CL-48, and CL-64                                                            |
+---------+------------------------------------------------------------------------------------------------------+
| 16.1    | Added support for CL-51 and CL-76                                                                    |
+---------+------------------------------------------------------------------------------------------------------+
| 18.1    | Added support for CL-153                                                                             |
+---------+------------------------------------------------------------------------------------------------------+
| 19.10   | Added support for AI cluster formations                                                              |
+---------+------------------------------------------------------------------------------------------------------+

---

## system ipv4-fragmentation-in-transit admin-state.rst

system ipv4-fragmentation-in-transit admin-state
------------------------------------------------

**Minimum user role:** operator

Use this command to fragment transit data packets when the MTU on the ingress L3 interface is larger than the MTU on the egress L3 interface.

Enables/disables IPv4 packet fragmentation:

**Command syntax: ipv4-fragmentation-in-transit admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system ipv4


.. **Note**

	- No command reverts the ipv4 fragmentation admin-state to default.

**Parameter table**

+-------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+----------+
| Parameter   | Description                                                                                                                                                                                                                    | Range    | Default  |
+=============+================================================================================================================================================================================================================================+==========+==========+
| admin-state | The administrative state of the IPv4 fragmentation feature. When enabled, data packets larger than the size allowed by the egress port will be fragmented. When disabled, packets larger than the allowed MTU will be dropped. | Enabled  | Disabled |
|             |                                                                                                                                                                                                                                | Disabled |          |
+-------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+----------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# ipv4-fragmentation-in-transit admin-state enabled

	dnRouter(cfg-system)# ipv4-fragmentation-in-transit admin-state disabled


**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system)# no ipv4-fragmentation-in-transit admin-state

.. **Help line:** Enable/disable IPv4 packet fragmentation in transit.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+


---

## system login banner.rst

system login banner 
--------------------

**Minimum user role:** operator

You can define a customized banner to be displayed before the username and password login prompts.

To define a login banner:

**Command syntax: banner [banner-message]**

**Command mode:** config

**Hierarchies**

- system login


.. **Note**

	- no command removes the login banner

**Parameter table**

+----------------+--------------------------------------------------------------------------------+
| Parameter      | Description                                                                    |
+================+================================================================================+
| banner-message | Enter text that will appear before the login prompt. Start a new line with \n. |
+----------------+--------------------------------------------------------------------------------+

The banner is displayed when connecting to the NCP using:

- Console

- Telnet

- SSH

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# banner "This is My banner"
	dnRouter(cfg-system-login)# banner "This is My banner '@#$!<>"
	dnRouter(cfg-system-login)# banner "This is My \\ \" banner"

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no banner

.. **Help line:** Configure system login banner

**Command History**

+---------+-----------------------------------------------------------+
| Release | Modification                                              |
+=========+===========================================================+
| 5.1.0   | Command introduced                                        |
+---------+-----------------------------------------------------------+
| 6.0     | Applied new hierarchy                                     |
+---------+-----------------------------------------------------------+
| 13.1    | Added banner display when connected via the console port. |
+---------+-----------------------------------------------------------+



---

## system login ipmi user password.rst

system login ipmi user password
-------------------------------

**Minimum user role:** operator

To configure an encrypted password for DNOS ipmi interfaces.

**Command syntax: password** [password]

**Command mode:** config

**Hierarchies**

- system login ipmi


**Note**

- This command may also be used to change the password for existing users. Typically, when you want to create a new user with a new password, you would use the clear password option.

- You need an admin or techsupport role to change the password for dnroot.

.. - One line command allows to enter password in encrypted format only.

	- It is not possible to remove password

	- If password with no value is entered, clear text password is requested with double confirmation. Clear password size is limited by 16 characters

	**Validation:**

	- Only user with admin/techsupport role can edit passwords for users with privilege administrator

	- Clear passwords must be at least eight (8) and maximum sixteen (16) characters in length.

	- Clear passwords must include at least one alpha character.

	- Clear passwords must include at least one numeric character.

	- User should not be able to type a special characters that may have command function.

**Parameter table**

+-----------+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
| Parameter | Description                                                                                  | Range                                                                                                             |
+===========+==============================================================================================+===================================================================================================================+
| password  | Enter a clear text password for accessing DNOS IPMI.                                         | Clear passwords must include the following:                                                                       |
|           | If you do not enter a password, you will be prompted to enter a clear password for the user. | Minimum 8 characters, maximum 16.                                                                                 |
|           |                                                                                              | Must include at least one alpha character.                                                                        |
|           |                                                                                              | Must include at least one numeric character.                                                                      |
|           |                                                                                              | Special characters that have a command function (' ', '\n') are not allowed.                                      |
+-----------+----------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ipmi
	dnRouter(cfg-system-login-ipmi)# user user1
	dnRouter(system-login-ipmi-user1)# password enc-!@#$%

	dnRouter(system-login-ipmi-user1)# password
	Enter password:
	Enter password for verification:




.. **Help line:** configure password for DNOS ipmi user.

**Command History**

+---------+---------------------------------------------------------+
| Release | Modification                                            |
+=========+=========================================================+
| 10.0    | Command introduced                                      |
+---------+---------------------------------------------------------+
| 13.0    | Replaced hashed password with encrypted password        |
+---------+---------------------------------------------------------+
| 15.0    | Updated minimum length of password to six characters    |
+---------+---------------------------------------------------------+
| 19.3    | Updated minimum length of password to eight characters  |
+---------+---------------------------------------------------------+



---

## system login ipmi user privilege.rst

system login ipmi user privilege 
--------------------------------

**Minimum user role:** operator

To configure the privilege level for an IPMI user:

**Command syntax: privilege [level]**

**Command mode:** config

**Hierarchies**

- system login ipmi user


**Note**

- To change the privilege level of an administrator, you need an admin or a techsupport role.

- You cannot change the privilege level for "dnroot".

.. - The full list of IPMI commands and the minimum privilege level per each command are specified by Appendix G in IPMIv2.0 specifciation document.

	**Validation:**

	- only user with admin/techsupport role can edit privilege for users with privilege administrator

	- privilege level for "dnroot" user cannot be changed

	- privilege level is a mandatory parameter, commit will fail if user will be created without setting privilege level

**Parameter table**

+-----------+--------------------------------------------------------------------------------+---------------+---------+
| Parameter | Description                                                                    | Range         | Default |
+===========+================================================================================+===============+=========+
| level     | The privilege level for the IPMI user, as defined by the ipmiv2 specification. | callback      | \-      |
|           |                                                                                | user          |         |
|           |                                                                                | operator      |         |
|           |                                                                                | administrator |         |
+-----------+--------------------------------------------------------------------------------+---------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ipmi
	dnRouter(cfg-system-login-ipmi)# user user1
	dnRouter(system-login-ipmi-user1)# privilege USER

	


.. **Help line:** configure privilege level for ipmi user.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.5    | Command introduced |
+---------+--------------------+



---

## system login ipmi user.rst

system login ipmi user 
-----------------------

**Minimum user role:** operator

To configure credentials for DNOS ipmi interfaces.

**Command syntax: ipmi user [user-name]**

**Command mode:** config

**Hierarchies**

- system login ipmi


**Note**

- Notice the change in prompt

- If the user-name does not exist, a new user will be created.

.. - If user name does not exist, new user is created

	- The following default users should exist:

	   - dnroot - privilege administrator

	- "no ipmi" command sets the values to default

	- "no users" removes all user-names for IPMI except "dnroot"

	- "no user <user-name> remove specific user-name for IPMI

	- typed password is not presented to the user


	**Validation:**

	- default local user cannot be deleted

	- default local user privilege cannot be changed

	- administrator users IPMI users can only be created/changed deleted by admin/techsupport users

	- default local users password can ONLY be changed according to the following-rules

	   - dnroot - can be changed by admin/techsupport

	- User must configured with a password, if user has been configured without password, commit will fail

**Parameter table**

+-----------+---------------------------------------------------------+--------+
| Parameter | Description                                             | Range  |
+===========+=========================================================+========+
| user-name | Enter a user-name for accessing the DNOS IPMI interface | String |
+-----------+---------------------------------------------------------+--------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ipmi
	dnRouter(cfg-system-login-ipmi)# user user1
	dnRouter(system-login-ipmi-user1)#
	

	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login-ipmi)# no user user1
	dnRouter(cfg-system-login-ipmi)# no user
	dnRouter(cfg-system-login)# no ipmi

.. **Help line:** configure credentials for DNOS ipmi interfaces.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+



---

## system login ipmi.rst

system login ipmi
-----------------

**Minimum user role:** operator

To configure login parameters (user and password) for DNOS ipmi interfaces:

**Command syntax: ipmi**

**Command mode:** config

**Hierarchies**

- system login


**Note**

- Notice the change in prompt

.. - no command sets the values to default


**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ipmi
	dnRouter(cfg-system-login-ipmi)# 
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no ipmi

.. **Help line:** configure login parameters for DNOS ipmi interfaces.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+



---

## system login ncm user password.rst

system login ncm user password 
------------------------------

**Minimum user role:** operator

The password is a mandatory parameter for authentication. When creating new users, you must configure them with a password, otherwise the commit will fail. Once a password is configured, it cannot be deleted, only changed.

To set up a password or change an existing password for a user:

**Command syntax: password** {[encrypted-password] \| [password]}

**Command mode:** config

**Hierarchies**

- system login ncm user


**Note**

- Only users with an admin or techsupport role can edit passwords for users. Admins cannot edit the password for users with a techsupport role.

- Special characters that have a command function (; & | ' ") are not allowed.

- Clear passwords must include the following:

- Minimum 6 characters, maximum 16.

- Must include a combination of at least 2 of the following groups: letters, numbers, special characters (e.g.@#$!)

- Must not contain a sequence of three or more characters from the previous password.

- The password must be different from the user-id (except for the default local user passwords)

.. - One line command allows to enter password in encrypted format only.

	- It is not possible to remove password

	- If password with no value is entered, clear text password is requested with double confirmation

	**Validation:**

	- only DNOS user with admin/techsupport role can edit passwords for users

	- passwords length will be between 8-16 characters. operator which will insert other length will get an error message "passwords length should be between 8-16 characters"

	- clear passwords validations:

	   - clear passwords must include characters from at least two (2) of these groupings: alpha, numeric, and special characters. operator which will insert other length will get an error message "passwords must include characters from at least 2 of these groupings: alpha, numeric, and special characters"

	   - User should not be able to type a special characters that may have command function.

	   - clear passwords must not be the same as the user name with which they are associated.

**Parameter table**

+--------------------+--------------------------------+--------+---------+
| Parameter          | Description                    | Range  | Default |
+====================+================================+========+=========+
| encrypted-password | The new password for the user. | String | \-      |
+--------------------+--------------------------------+--------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ncm
	dnRouter(cfg-system-login-ncm)# user user1	
	dnRouter(system-login-ncm-user1)# password $6$qOB4/fW9kH0
	
	dnRouter(system-login-ncm-user1)# password
	Enter password:
	Enter password for verification:
	
	


.. **Help line:** configure password for NCM user.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.3    | Command introduced |
+---------+--------------------+



---

## system login ncm user role.rst

system login ncm user role
--------------------------

**Minimum user role:** operator

To configure the user's role:

**Command syntax: role [role]**

**Command mode:** config

**Hierarchies**

- system login ncm user


.. **Note**

	The following roles exist by default:

	-  admin - has full control

	-  viewer - able to use "show" commands only

	**Validation:**

	- only DNOS admin and techsupport role users can define roles of ncm users

	- It is not possible to configure new ncm roles

**Parameter table**

+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------+-------------+---------+
| Parameter | Description                                                                                                                                       | Range       | Default |
+===========+===================================================================================================================================================+=============+=========+
| role      | Enter admin/operator/viewer (lowercase). The default is "viewer". If you do not assign a role, the user will be assigned the default viewer role. | techsupport | viewer  |
|           |                                                                                                                                                   | admin       |         |
|           |                                                                                                                                                   | operator    |         |
|           |                                                                                                                                                   | viewer      |         |
+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------+-------------+---------+

Roles are used for authorization. After a user is authenticated, the user is granted access depending on his/her assigned role.

The available roles are:

- Techsupport - has full control

- Admin - has full control

- Operator - has full control, except request system restart commands

- Viewer - can execute show commands only

The minimum user role required for each command is specified for every command in this manual, as follows:

The minimum user role required for this command:

+--------------+----------------------------------------------------------------------+
| User Role    | Description                                                          |
+==============+======================================================================+
| Techsupport  | Only Techsupport can execute the command.                            |
+--------------+----------------------------------------------------------------------+
| Admin        | Administrators and Techsupport can execute the command.              |
+--------------+----------------------------------------------------------------------+
| Operator     | Operators, Administrators, and Techsupport can execute the command.  |
+--------------+----------------------------------------------------------------------+
| Viewer       | Viewers, Operators, and Administrators can execute the command.      |
+--------------+----------------------------------------------------------------------+

- Only DNOS techsupport users can create an NCM techsupport user

- Only users with admin or techsupport roles can change roles of existing users

- A user with an admin role cannot change the role of a user with a techsupport role

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ncm
	dnRouter(cfg-system-login-ncm)# user user1
	dnRouter(system-login-ncm-user1)# role admin



.. **Help line:** Configure ncm user role

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.3    | Command introduced |
+---------+--------------------+



---

## system login ncm user.rst

system login ncm user 
---------------------

**Minimum user role:** operator

You need a user name and a password to access the NCM. Using this command, you can configure users and passwords directly from the DNOS CLI. When the NCM connects to the cluster, it will synchronize with the allowed users.

You need an admin/techsupport privileges to create or change a user with an admin role.

You need an techsupport privileges to create or change a user with a techsupport role.

To configure a user:

**Command syntax: ncm user [user-name]**

**Command mode:** config

**Hierarchies**

- system login

**Note**

- Notice the change in prompt

.. - If user name does not exist, new user is created

	- The following default users should exist:

	- dnrootncm - privilege administrator

	- "no user <user-name> remove specific user-name from NCM

	- typed password is not presented to the user


	**Validation:**

	- default user cannot be deleted

	- default user privilege cannot be changed

	- "admin" will not be an available user-name - operator which will type "admin" will get an error message "unsupported user name"

	- admin/viewer role users can only be created/changed deleted by DNOS admin/techsupport users

	- default users password can ONLY be changed according to the following-rules

	- dnrootncm - can be changed by DNOS admin/techsupport user

	- User must configured with a password, if user has been configured without password, commit will fail

**Parameter table**

+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------+--------+---------+
| Parameter | Description                                                                                                                                       | Range  | Default |
+===========+===================================================================================================================================================+========+=========+
| user-name | Enter a user-name for accessing the NCM console. If the name doesn't already exist, it will be created and you will enter its configuration mode. | String | \-      |
|           | You cannot configure a user named "admin".                                                                                                        |        |         |
+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------+--------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# ncm
	dnRouter(cfg-system-login-ncm)# user user1
	dnRouter(system-login-ncm-user1)#
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login-ncm)# no user user1

.. **Help line:** configure credentials for DNOS ipmi interfaces.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.3    | Command introduced |
+---------+--------------------+


---

## system login session-holdoff.rst

system login session-holdoff
----------------------------

**Minimum user role:** operator

To configure the amount of time that the system will block login attempts after the maximum number of allowed failed attempts is reached:

**Command syntax: session-holdoff [session-holdoff]**

**Command mode:** config

**Hierarchies**

- system login


.. **Note**

	- no command sets the values to default

	- in case maximum number of attempts was tried, the connection should be silently rejected.

**Parameter table**

+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+
| Parameter       | Description                                                                                                                                                   | Range | Default |
+=================+===============================================================================================================================================================+=======+=========+
| session-holdoff | The amount of time (in minutes) to wait after the maximum number of failed login attempts is reached, before the system will allow to attempt to login again. | 3..15 | 10      |
+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# session-holdoff 5
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no session-holdoff

.. **Help line:** configure holdoff time in case the maximum number of failed login retries has been reached.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 6.0     | Command introduced |
+---------+--------------------+


---

## system login session-retry.rst

system login session-retry
--------------------------

**Minimum user role:** operator

To configure the number of allowed failed login attempts:

**Command syntax: session-retry [session-retry]**

**Command mode:** config

**Hierarchies**

- system login


.. **Note**

	- no command sets the values to default

	- in case maximum number of attempts was tried, the connection should be silently rejected

**Parameter table**

+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+
| Parameter     | Description                                                                                                                                                                                                                      | Range | Default |
+===============+==================================================================================================================================================================================================================================+=======+=========+
| session-retry | The number of consecutive login failed attempts allowed. If the maximum number of failed login attempts has been reached, the system will block further attempts for a configured time period. See system login session-holdoff. | 1..10 | 8       |
+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# session-retry 10 
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no session-retry

.. **Help line:** configure maximum number of failed login retries.

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 6.0     | Command introduced    |
+---------+-----------------------+
| 13.0    | Changed default value |
+---------+-----------------------+


---

## system login session-timeout.rst

system login session-timeout
----------------------------

**Minimum user role:** operator

CLI sessions are terminated when no activity is done for a predefined amount of time. If you start a prolonged action in the CLI foreground, the idle timer stops, and will restart when the foreground process ends and control is returned to the shell prompt.

The actions that cause the idle timer to stop are:

- All transaction commands (e.g. commit, rollback)

- Load

- Save

- All request commands

- All run commands, except run shell, for which a fixed timeout is set to 15 minutes.

To configure the maximum allowed idle-time before the CLI session is disconnected:

**Command syntax: session-timeout [interval]**

**Command mode:** config

**Hierarchies**

- system login

.. **Note**

	- no command sets the values to default

	- interval=0 means no timeout (inifinite session)

	- if user start another program to run in the foreground of the CLI, the idle timer control is stopped from being computed. The calculation of idle time of the CLI session is restarted only after the foreground process exits and the control is returned to the shell prompt.

	Relevant commands are:

	- All transactions commands (commit, rollback)

	- Load

	- Save

	- All request commands

	- All run commands except "run shell"

	- For run shell commands, timeout is fixed for 15 minutes for idle session

**Parameter table**

+-----------+----------------------------------------------------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                                                                | Range | Default |
+===========+============================================================================================================================+=======+=========+
| interval  | The amount of time (in minutes) allowed for a CLI session to be idle (no keyboard input) before disconnecting the session. | 0..90 | 30      |
|           | An interval with value 0 means no timeout. The session will continue indefinitely.                                         |       |         |
+-----------+----------------------------------------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# session-timeout 30
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no session-timeout

.. **Help line:** configure maximum time allowed for CLI session to be idle before it is disconnected. Idle is a session with no input from user via keyboard.

**Command History**

+---------+-----------------------------------------+
| Release | Modification                            |
+=========+=========================================+
| 6.0     | Command introduced                      |
+---------+-----------------------------------------+
| 10.0    | Range changed from minimum 15 min to 0. |
+---------+-----------------------------------------+



---

## system login shell-timeout.rst

system login shell-timeout
----------------------------

**Minimum user role:** operator

The shell-timeout command sets the maximum time that a connection with the HostOS shell is allowed to be idle before it is disconnected. "Idle" refers to a session with no keyboard input from the user. The HostOS shell of the NCC/NCP/NCF may be accessed via Console port, IPMI SoL, or using the SSH protocol.

To configure a timeout for idle connections with the hostOS:

**Command syntax: shell-timeout [interval]**

**Command mode:** config

**Hierarchies**

- system 

.. **Note**

	- no command sets the values to default

	- interval=0 means no timeout (inifinite session)

	- access to the HostOS shell of NCC/NCP/NCF node can be acheived via console port, IPMI SoL or via SSH protocol. 

	- this command has no effect on the timeout for NCM sessions

**Parameter table**

+-----------+--------------------------------------------------------------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                                                                          | Range | Default |
+===========+======================================================================================================================================+=======+=========+
| interval  | The maximum amount of time (in minutes) in which a session with the HostOS of the NCC/NCP/NCF can be idle before it is disconnected. | 0..90 | 30      |
|           | A value of 0 means no timeout (the session can be idle indefinitely).                                                                |       |         |
+-----------+--------------------------------------------------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# shell-timeout 30
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no shell-timeout

.. **Help line:** configure maximum time allowed for connection to HostOS shell to be idle before it is disconnected. Idle is a session with no input from user via keyboard. Access to HostOS shell of NCC/NCP/NCF may be done either via SoL/Console or via SSH. 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.2    | Command introduced |
+---------+--------------------+



---

## system login techsupport-login.rst

system login techsupport-login
------------------------------

**Minimum user role:** operator

To allow or deny login access to users with a techsupport role:

**Command syntax: techsupport-login admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system login 


.. **Note**

	- no command sets the values to default

**Parameter table**

+-------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+----------+
| Parameter   | Description                                                                                                                                                         | Range    | Default  |
+=============+=====================================================================================================================================================================+==========+==========+
| admin-state | The administrative state of the techsupport login. When enabled, login access will be granted to users with a "techsupport" role. Otherwise, access will be denied. | Enabled  | Disabled |
|             |                                                                                                                                                                     | Disabled |          |
+-------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+----------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# techsupport-login admin-state enabled
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no techsupport-login

.. **Help line:** allow or deny login for users with techsupport role.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+



---

## system login user description.rst

system login user description
-----------------------------

**Minimum user role:** operator

To set an optional description for the user:

**Command syntax: user [user-name]** description [description]

**Command mode:** config

**Hierarchies**

- system login


**Note**

- A techsupport role cannot change the description of a user with an admin role.

.. - no command removes the user description

	- If user name does not exist, new user is created

	**Validation:**

	- only users with role admin/techsupport, can edit other local users

	- user with role admin, cannot edited by user with techsupport role

**Parameter table**

+-------------+----------------------------------------------------------------------------------------------------------------------------------------+
| Parameter   | Description                                                                                                                            |
+=============+========================================================================================================================================+
| description | Provide a description for the user.                                                                                                    |
|             | Enter free-text description with spaces in between quotation marks. If you do not use quotation marks, do not use spaces. For example: |
|             | ... description "My long description"                                                                                                  |
|             | ... description My_long_description                                                                                                    |
+-------------+----------------------------------------------------------------------------------------------------------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# user MyUserName
	dnRouter(cfg-system-login-MyUserName)# description MyDescription

**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-login-MyUserName)# no description

.. **Help line:** Configure login user description

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 5.1.0   | Command introduced    |
+---------+-----------------------+
| 6.0     | Applied new hierarchy |
+---------+-----------------------+
| 10.0    | Applied new hierarchy |
+---------+-----------------------+



---

## system login user key ssh-rsa file.rst

system login user key ssh-rsa file
--------------------------------------

**Minimum user role:** admin

Public key authentication is step forward to the security improvement of password-protected systems. It provides a cryptographic strength that is considerably stronger than conventional passwords (even if they are extremely long or complicated). With SSH, authentication using a public key dismisses the need of users creating and remembering complex passwords.

You can use this command to import an SSH public key from a file located in the ssh-keys directory. You can then login to the CLI and NETCONF using the matching private key.

To import a public key from a file for a user:

**Command syntax: user [user-name]** key ssh-rsa file [filename]

**Command mode:** config

**Hierarchies**

- system login user


**Note**

- The public key file must be located in the NCC ssh-keys directory and must contain one line in the format "ssh-rsa <base64-encoded key> [optional comment]". Empty lines and lines beginning with '#' will be ignored.

- You are required to have a password or an SSH public key, but if both exist you can use either to authenticate.

.. - no command removes the key.

	- User that has both password and SSH key may authenticate with either.

	**Validation:**

	- User must have either a password or an SSH public key or both.

	- The file must be found in NCC ssh-keys directory.

	- The file must contain one line in the format "ssh-rsa <base64-encoded key> [optional comment]". Empty lines and lines starting with '#' are ignored.

**Parameter table**

+-----------+-------------------------------------------------------+--------+---------+
| Parameter | Description                                           | Range  | Default |
+===========+=======================================================+========+=========+
| filename  | The name of the file where the public key is located. | String | \-      |
+-----------+-------------------------------------------------------+--------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# user MyUserName
	dnRouter(cfg-system-login-MyUserName)# key ssh-rsa file john_id_rsa.pub


**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-login-MyUserName)# no key

.. **Help line:** Configure SSH user public key for key-based login to CLI and NETCONF.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.0    | Command introduced |
+---------+--------------------+

---

## system login user key ssh-rsa terminal.rst

system login user key ssh-rsa terminal
--------------------------------------

**Minimum user role:** operator

Public key authentication is step forward to the security improvement of password-protected systems. It provides a cryptographic strength that is considerably stronger than conventional passwords (even if they are extremely long or complicated). With SSH, authentication using a public key dismisses the need of users creating and remembering complex passwords.

Once you have generated a private-public key (outside of DNOS), the public key needs to be verified by DNOS to be a valid SSH RSA public key. You can then login to the CLI and NETCONF using the matching private key.

To configure a user public key from a terminal:

**Command syntax: user [user-name]** key ssh-rsa terminal [public-key-string]

**Command mode:** config

**Hierarchies**

- system login user


**Note**

- If a username doesn't exist, a new user will be created.

- You are required to have a password or an SSH public key, but if both exist you can use either to authenticate.

.. - no command removes the key.

	- If user name does not exist, new user is created.

	- User that has both password and SSH key may authenticate with either.

	**Validation:**

	- User must have either a password or an SSH public key or both.

**Parameter table**

+-------------------+-------------------------------------------------+--------+---------+
| Parameter         | Description                                     | Range  | Default |
+===================+=================================================+========+=========+
| public-key-string | The SSHv2 RSA public key in OpenSSH format:     | String | \-      |
|                   | ssh-rsa <base64-encoded key> [optional comment] |        |         |
+-------------------+-------------------------------------------------+--------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# user MyUserName
	dnRouter(cfg-system-login-MyUserName)# key ssh-rsa terminal "ssh-rsa AAAAB3NzaC1yc2EAAA...D4I7SFrQ== MyUserName@My-MacBook-Pro"
	dnRouter(cfg-system-login)# user AnotherUser
	dnRouter(cfg-system-login-AnotherUser)# key ssh-rsa terminal "ssh-rsa AAAAFGbnj1yc2EAAA...D4I8KJd6=="


**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-login-MyUserName)# no key

.. **Help line:** Configure SSH user public key for key-based login to CLI and NETCONF.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.0    | Command introduced |
+---------+--------------------+

---

## system login user password.rst

system login user password
--------------------------

**Minimum user role:** admin

The password is a mandatory parameter for authentication. When creating new users, you must configure them with a password, otherwise the commit will fail. Once a password is configured, it cannot be deleted, only changed.

To set up a password or change an existing password for a user:

**Command syntax: user [user-name]** password {[hashed-password] \| [password]}

**Command mode:** config

**Hierarchies**

- system login user


**Note**

- Only users with an admin or techsupport role can edit passwords for users. Admins cannot edit the password for users with a techsupport role.

- Special characters that have a command function (' ') are not allowed.

- You are required to have a password or an SSH public key.

If you enter the password command without a hashed-password, you will be prompted to enter a clear text password with double confirmation.
Clear passwords must include the following:

- Clear passwords must be at least eight (8) characters in length.

- Must include a combination of at least 2 of the following groups: letters, numbers, special characters (e.g.@#$!)

- The password must be different from the user-id (except for the default local user passwords)

.. - One line command allows to enter password in SHA-512 format only.

	- no command removes the password.

	- If password with no value is entered, clear text password is requested with double confirmation

	**Validation:**

	- User must have either a password or an SSH public key or both.

	- only user with admin/techsupport role can edit passwords for users

	- user with role admin, cannot edited password for user in techsupport role

	- Clear passwords must be at least eight (8) characters in length.

	- Clear passwords must include characters from at least two (2) of these groupings: alpha, numeric, and special characters.

	- User should not be able to type a special characters that may have command function.

	- Clear passwords must not be the same as the userid with which they are associated, except the default local user passwords.

**Parameter table**

+-----------------+--------------------------------------------------------------------------------------------+
| Parameter       | Description                                                                                |
+=================+============================================================================================+
| hashed-password | Enter the user's existing password. The password is inserted as a hashed string (SHA-512). |
+-----------------+--------------------------------------------------------------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# user MyUserName2
	dnRouter(cfg-system-login-MyUserName2)# password $6$qOB4/fW9kH0yWvta$MF4iWvbAztfrbOBKAQLZ7GCFO7wVhUY4GoILSs/4HtG1QP8TjzPiQQ33B0J/t3ReeEHARLNR3QnMzFowTgETR.

	dnRouter(cfg-system-login-MyUserName2)# password
	Enter password:
	Enter password for verification:



**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-login-MyUserName2)# no password

.. **Help line:** Configure user password

**Command History**

+---------+--------------------------------------------------------------------------------------------------+
| Release | Modification                                                                                     |
+=========+==================================================================================================+
| 5.1.0   | Command introduced                                                                               |
+---------+--------------------------------------------------------------------------------------------------+
| 6.0     | Applied new hierarchy                                                                            |
+---------+--------------------------------------------------------------------------------------------------+
| 10.0    | Applied new hierarchy                                                                            |
+---------+--------------------------------------------------------------------------------------------------+
| 11.2    | Added note about forbidden special characters.                                                   |
+---------+--------------------------------------------------------------------------------------------------+
| 15.0    | Added the option to remove the password and updated minimum length of password to six characters |
+---------+--------------------------------------------------------------------------------------------------+
| 19.1    | Updated minimum length of password to eight characters                                           |
+---------+--------------------------------------------------------------------------------------------------+

---

## system login user role.rst

system login user role
----------------------

**Minimum user role:** operator

Only users with admin or techsupport role can change roles of existing users. Users with an admin role cannot change the role of a user with a techsupport role.

More complex profiles can be set by combining roles with groups in the TACACS+ server. For more details, see system aaa-server.

Local users can only be configured with Admin, Operator, or Viewer roles. It is not possible to create new local roles.

To assign a role to a local user:

**Command syntax: user [user-name]** role [role]

**Command mode:** config

**Hierarchies**

- system login


.. **Note**

	- no command reverts the role to its default value

	The following roles exist by default:

	- admin - has full control

	- operator - has full control with several exceptions

	- viewer - able to use "show" commands only

	- If user name does not exist, new user is created

	**Validation:**

	- only admin and techsupport role users can change roles of existing users

	- user with role admin, cannot change role of techsupport role user

	- TACACS can be configured with any of the default system roles.

	- Local users can be configured only with admin/operator/viewer. It is not possible to configure new local roles


**Parameter table**

+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter | Description                                                                                                                                       |
+===========+===================================================================================================================================================+
| role      | Enter admin/operator/viewer (lowercase). The default is "viewer". If you do not assign a role, the user will be assigned the default viewer role. |
+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------+

Roles are used for authorization. After a user is authenticated, the user is granted access depending on his/her assigned role.

The available roles are:

- Techsupport - has full control

- Admin - has full control

- Operator - has full control, except request system restart commands

- Viewer - can execute show commands only

The minimum user role required for each command is specified for every command in this manual, as follows:

The minimum user role required for this command:

+--------------+----------------------------------------------------------------------+
| User Role    | Description                                                          |
+==============+======================================================================+
| Techsupport  | Only Techsupport can execute the command.                            |
+--------------+----------------------------------------------------------------------+
| Admin        | Administrators and Techsupport can execute the command.              |
+--------------+----------------------------------------------------------------------+
| Operator     | Operators, Administrators, and Techsupport can execute the command.  |
+--------------+----------------------------------------------------------------------+
| Viewer       | Viewers, Operators, and Administrators can execute the command.      |
+--------------+----------------------------------------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# user MyUserName 
	dnRouter(cfg-system-login-MyUserName)# role admin
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login-MyUserName)# no role

.. **Help line:** Configure user role

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 5.1.0   | Command introduced    |
+---------+-----------------------+
| 6.0     | Applied new hierarchy |
+---------+-----------------------+
| 10.0    | Applied new hierarchy |
+---------+-----------------------+



---

## system login user.rst

system login user 
------------------

**Minimum user role:** operator

You can configure users locally and/or on a TACACS+.RADIUS server. If both local and remote authentication types are set, local authentication, via a password stored on the device, will be used only if the authentication from the TACACS+ or RADIUS authentication server is not available or fails.

The following sections describe how to configure users locally using the DNOS CLI. For instructions on configuring users on the TACACS+.RADIUS server, refer to the TACACS+/RADIUS documentation.

The following default users are mandatory:

- dnroot - with role admin - the default password can only be changed by users with "admin" or "techsupport" roles

- dntechsupport - with role techsupport - the default password can only be changed by users with "techsupport" role

- Users with "techsupport" role can only be created, changed, or deleted by other users with a "techsupport" role

To create a local user and/or enter a user's configuration mode:

**Command syntax: user [user-name]**

**Command mode:** config

**Hierarchies**

- system login


**Note**

- Notice the change in prompt.

- Default local users cannot be deleted or changed.

.. - If user name does not exist, new user is created

	- no command removes the user configuration. By default new user name get "Viewer" role.

	- User must be configured with a password or with an SSH key or with both, otherwise commit will fail.

	- The following default users should exist:

	- dnroot - role admin

	- dntechsupport - role techsupport

	- default local users cannot be deleted

	- default local users role cannot be changed

	- techsupport role user can only be created/changed/deleted by techsupport

	- admin/operator/viewer role users can only be created/changed deleted by admin/techsupport users

	- default local users password can ONLY be changed according to the following-rules

	- dnroot - can be changed by admin/techsupport

	- dntechsupport - can be changed by techsupport

**Parameter table**

+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter | Description                                                                                                                                                               |
+===========+===========================================================================================================================================================================+
| user-name | The user identifier. This is a mandatory parameter and it must be unique in the system. The user name must have a minimum of 2 characters and a maximum of 20 characters. |
|           | Allowed characters: a-z, A-Z, 0-9, - (hyphen), _ (underscore), ~ (tilda)                                                                                                  |
|           | The first character must be a letter, a-z or A-Z.                                                                                                                         |
+-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

If the user name does not exist, it will be created.

The user must be configured with a password or with an SSH key, or with both. If it isn't, the commit will fail. See system login user password.

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# user MyUserName
	dnRouter(cfg-system-login-MyUserName)#
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no user MyUserName

.. **Help line:** Configure login user name

**Command History**

+---------+----------------------------------------------------------------+
| Release | Modification                                                   |
+=========+================================================================+
| 5.1.0   | Command introduced                                             |
+---------+----------------------------------------------------------------+
| 6.0     | Applied new hierarchy                                          |
+---------+----------------------------------------------------------------+
| 10.0    | Added limitations on creating/updating users depending on role |
|         | Applied new user hierarchy                                     |
+---------+----------------------------------------------------------------+



---

## system login.rst

system login 
-------------

**Minimum user role:** operator

From the system login hierarchy you can configure new users and login parameters.

To enter system login configuration mode:

**Command syntax: login [parameters]**

**Command mode:** config

**Hierarchies**

- system


**Note**

- You may only create/update parameters of users with an equivalent or lower role level. For example, users with a "techsupport" role can only be created or changed by users with a "techsupport" role; users with an "operator" role can only create or change users with "viewer" or "operator" roles; etc.

- Notice the change in prompt

.. - Validation: user must be configured with a password

	- It is not possible to remove password configuration

	- no command removes the user configuration


**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# login
	dnRouter(cfg-system-login)# banner This is My banner
	dnRouter(cfg-system-login)# user MyUserName 
	dnRouter(cfg-system-login-MyUserName)#
	

	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-login)# no user MyUserName
	dnRouter(cfg-system-login)# no banner

.. **Help line:** Configure system login users

**Command History**

+---------+---------------------------------------------+
| Release | Modification                                |
+=========+=============================================+
| 6.0     | Command introduced as part of new hierarchy |
+---------+---------------------------------------------+



---

## system management vrf static address-familiy.rst

system management vrf static address-familiy
--------------------------------------------

**Minimum user role:** operator

To configure static routes for out-of-band management mgmt vrfs. These vrfs are not part of any traffic forwarding vrf:

**Command syntax: address-family [address-family]**

**Command mode:** config

**Hierarchies**

- system management static


**Note**

- Notice the change in prompt

.. - "no [address-family]" removes all static routes from the specified address-family

**Parameter table**

+----------------+----------------------------------------------------------------------------+-------+---------+
| Parameter      | Description                                                                | Range | Default |
+================+============================================================================+=======+=========+
| address-family | Enters the address-family for which to configure management static routes. | IPv4  | \-      |
|                |                                                                            | IPv6  |         |
+----------------+----------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# management
	dnRouter(cfg-system-mgmt)# vrf mgmt0
	dnRouter(cfg-system-mgmt-vrf)# static 
	dnRouter(cfg-system-mgmt-vrf-static)# address-family ipv4
	dnRouter(cfg-mgmt-vrf-static-ipv4)#

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# management
	dnRouter(cfg-system-mgmt)# vrf mgmt0
	dnRouter(cfg-system-mgmt-vrf)# static 
	dnRouter(cfg-system-mgmt-vrf-static)# address-family ipv6
	dnRouter(cfg-mgmt-vrf-static-ipv6)#
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-mgmt-vrf-static)# no address-family ipv4 


**Command History**

+---------+------------------------+
| Release | Modification           |
+=========+========================+
| 10.0    | Command introduced     |
+---------+------------------------+
| 13.0    | Command syntax updated |
+---------+------------------------+



---

## system management vrf static address-family route next-hop.rst

system management static address-family route next-hop
------------------------------------------------------

**Minimum user role:** operator

Configure a static route for the mgmt0 interface. mgmt0 is the out-of-band management interface and is not part of any traffic forwarding VRF.

To configure a static route for the OOB management interface (mgmt0):

**Command syntax: route [ip-prefix] next-hop [gateway]**

**Command mode:** config

**Hierarchies**

- system management static address-family


**Note**

- Static routes to mgmt0 VRF ignores admin-distance values and all routes will be installed.

.. -  [ip-prefix] & [gateway] address type must match the route ip address

	-  "no [ip-prefix]" removes all static routes with [prefix] destination.

	-  "no [ip-prefix] next-hop [gateway]" removes the specific prefix&gateway entry.

	-  Static route to mgmt0 VRF ignores admin-distance value. All routes will be installed

**Parameter table**

+-------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+---------+
| Parameter   | Description                                                                                                                                                                                                                                        | Range             | Default |
+=============+====================================================================================================================================================================================================================================================+===================+=========+
| ip-prefix   | The destination IPv4 or IPv6 prefix.                                                                                                                                                                                                               | A.B.C.D/x         | \-      |
|             | In IPv4-unicast configuration mode you can only set IPv4 destination prefixes and in IPv6-unicast configuration mode you can only set IPv6 destination prefixes.                                                                                   | x:x::x:x/x        |         |
|             | When setting a non /32 prefix, the route installed is the matching subnet network address. For example, for route 192.168.1.197/26 next-hop 10.173.2.65, the configured static route will be 192.168.1.192/26. The same applies for IPv6 prefixes. |                   |         |
+-------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+---------+
| description | Provide a description for the route.                                                                                                                                                                                                               | 1..255 characters | \-      |
|             | Enter free-text description with spaces in between quotation marks. If you do not use quotation marks, do not use spaces. For example:                                                                                                             |                   |         |
|             | ... description "My long description"                                                                                                                                                                                                              |                   |         |
|             | ... description My_long_description                                                                                                                                                                                                                |                   |         |
+-------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+---------+
| next-hop    | The gateway IPv4 or IPv6 address for the prefix.                                                                                                                                                                                                   | A.B.C.D           | \-      |
|             | In IPv4-unicast configuration mode you can only set IPv4 next hops and in IPv6-unicast configuration mode you can only set IPv6 next hops.                                                                                                         | x:x::x:x          |         |
|             | You can set multiple IP next hops for the same route.                                                                                                                                                                                              |                   |         |
|             | The next-hop address must be different from the route address.                                                                                                                                                                                     |                   |         |
+-------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# management
	dnRouter(cfg-system-mgmt)# vrf mgmt0
	dnRouter(cfg-system-mgmt-vrf)# static
	dnRouter(cfg-mgmt-vrf-static)# address-family ipv4
	dnRouter(cfg-vrf-static-ipv4)# route 10.0.0.0/24 next-hop 192.168.0.1
	dnRouter(cfg-vrf-static-ipv4)# route 10.0.0.0/24 next-hop 192.150.1.4

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# management
	dnRouter(cfg-system-mgmt)# vrf mgmt0
	dnRouter(cfg-system-mgmt-vrf)# static
	dnRouter(cfg-mgmt-vrf-static)# address-family ipv6
	dnRouter(cfg-vrf-static-ipv6)# route 2001:1111::0/124 next-hop abde::1
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-vrf-static-ipv4)# no route 10.0.0.0/24 next-hop 192.150.1.4
	dnRouter(cfg-vrf-static-ipv4)# no route 10.0.0.0/24


**Command History**

+---------+------------------------+
| Release | Modification           |
+=========+========================+
| 10.0    | Command introduced     |
+---------+------------------------+
| 13.0    | Command syntax updated |
+---------+------------------------+



---

## system management vrf static.rst

system management vrf static 
----------------------------

**Minimum user role:** operator

To enter management static route configuration mode:

**Command syntax: static**

**Command mode:** config

**Hierarchies**

- system management


**Note**

- Notice the change in prompt

.. - "no static" removes all static routes from all static routes from management interface


**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# management
	dnRouter(cfg-system-mgmt)# vrf mgmt0
	dnRouter(cfg-system-mgmt-vrf)# static
	dnRouter(cfg-mgmt-vrf-static)#


**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-mgmt)# no static



**Command History**

+---------+------------------------+
| Release | Modification           |
+=========+========================+
| 10.0    | Command introduced     |
+---------+------------------------+
| 13.0    | Updated command syntax |
+---------+------------------------+


---

## system management vrf.rst

system management vrf  
---------------------

**Minimum user role:** operator

To enter management vrf configuration level:

**Command syntax: vrf [vrf]**

**Command mode:** config

**Hierarchies**

- system management


**Note**

- Notice the change in prompt

.. - "no static" removes all configuration from management vrf

**Parameter table**

+-----------+-----------------------------+-----------------------------------+---------+
| Parameter | Description                 | Range                             | Default |
+===========+=============================+===================================+=========+
| vrf       | Displays the management vrf | mgmt0, mgmt-ncc-0, mgmt-ncc-1     | \-      |
+-----------+-----------------------------+-----------------------------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system 
	dnRouter(cfg-system)# management
	dnRouter(cfg-system-mgmt)# vrf mgmt0
	dnRouter(cfg-system-mgmt-vrf)#


**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-mgmt)# no mgmt0


**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+



---

## system management.rst

system management 
------------------

**Minimum user role:** operator

To enter the system management configuration mode:

**Command syntax: management**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.

.. - "no management" - remove all configuration under management


**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# management 
	dnRouter(cfg-system-mgmt)# 
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system)# no management


**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 10.0    | Command introduced |
+---------+--------------------+



---

## system overview.rst

System Overview
---------------

System commands enable to configure and edit the server's information. Use the system command to add information about the server/rack. System commands also enable to configure the logging mechanism (see System Logging).

---

## system snmp class-of-service.rst

system snmp class-of-service
----------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority.

To configure a CoS for all outgoing SNMP sessions:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system snmp

.. **Note**

	- Configuration is global for all outgoing snmp applications (trap-server output etc).

	- Value is the dscp value on the ip header

**Parameter table**

+------------+---------------------------------------------------------------------------------------------+-------+---------+
| Parameter  | Description                                                                                 | Range | Default |
+============+=============================================================================================+=======+=========+
| dscp-value | The DSCP value that is used in the IP header to classify the packet and give it a priority. | 0..56 | 16      |
+------------+---------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# class-of-service 54
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp)# no class-of-service

.. **Help line:** Configure system snmp class of service value

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 11.0    | Command introduced |
+---------+--------------------+



---

## system snmp community access.rst

system snmp community access
----------------------------

**Minimum user role:** operator

You can set the following access rights for the SNMP community:

Read-only - The device responds to SNMP Get, GetNext, and GetBulk commands

To set the SNMP community authorization:

**Command syntax: access [authorization]**

**Command mode:** config

**Hierarchies**

- system snmp community

.. **Note**

    - By default, snmp community access is read-only

    - no command reverts the snmp community access to its default value

**Parameter table**

+-----------+---------------------------------------+------------+-----------+
| Parameter | Description                           | Range      | Default   |
+===========+=======================================+============+===========+
| access    | The access rights for SNMP community. | read-only  | read-only |
+-----------+---------------------------------------+------------+-----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# community MyPublicSnmpCommunity vrf default
    dnRouter(cfg-system-snmp-community)# access read-only

    dnRouter(cfg-system-snmp)# community MyPrivateSnmpCommunity vrf mgmt0
    dnRouter(cfg-system-snmp-community)# access read-write


**Removing Configuration**

To revert the router-id to default:
::

    dnRouter(cfg-system-snmp-community)# no access

.. **Help line:** Configure system snmp community

**Command History**

+---------+-------------------------------------+
| Release | Modification                        |
+=========+=====================================+
| 5.1.0   | Command introduced                  |
+---------+-------------------------------------+
| 6.0     | Applied new hierarchy for SNMP      |
+---------+-------------------------------------+
| 9.0     | Applied new hierarchy for community |
+---------+-------------------------------------+
| 18.1    | Removed the access right read-write |
+---------+-------------------------------------+

---

## system snmp community admin-state.rst

system snmp community admin-state
---------------------------------

**Minimum user role:** operator

Configure system snmp community admin state.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Note:**

No command reverts the admin-state configuration to its default value

Validation: fail commit if more than one in-band management non-default VRF is configured with admin-state enabled knob.

**Parameter table:**

+--------------+------------------------+---------------+
| Parameter    | Values                 | Default value |
+==============+========================+===============+
| admin-state  | enabled/disabled       | enabled       |
+--------------+------------------------+---------------+

**Example:**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# community MySnmpCommunity vrf default
    dnRouter(cfg-system-snmp-community)# admin-state disabled

    dnRouter(cfg-system-snmp)# community MyPrivateSnmpCommunity vrf mgmt0
    dnRouter(cfg-system-snmp-community)# admin-state disabled

    dnRouter(cfg-system-snmp)# community MyPublicSnmpCommunity vrf my_vrf
    dnRouter(cfg-system-snmp-community)# admin-state enabled


**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 16.2    | Command introduced                    |
+---------+---------------------------------------+




---

## system snmp community client-list.rst

system snmp community client-list
---------------------------------

**Minimum user role:** operator

A client-list is a group of clients that are provided with authorization to access the device. You can configure multiple client-lists for an SNMP community. By default an SNMP community has open access to all clients (0.0.0.0/0).

To configure a client-list:

**Command syntax: client-list [network-address]**

**Command mode:** config

**Hierarchies**

- system snmp community

.. **Note**

	- By default, snmp community has open access to all clients(0.0.0.0/0 or the IPv6 equivalent ::/0)

	- It is possible to configure multiple clients for an SNMP community per vrf

	- no command removes a specific / all clients for a given snmp community

**Parameter table**

+-------------+-------------------------------------------------------------------------------------------------+-----------+---------+
| Parameter   | Description                                                                                     | Range     | Default |
+=============+=================================================================================================+===========+=========+
| client-list | A group of clients to add to the SNMP community.                                                | A.B.C.D/x | \-      |
|             | You can configure multiple clients for an SNMP community.                                       | x:x::x:x  |         |
|             | By default an SNMP community has open access to all clients (0.0.0.0/0 or IPv6 equivalent ::/0) |           |         |
+-------------+-------------------------------------------------------------------------------------------------+-----------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# community MySnmpCommunity vrf default
	dnRouter(cfg-system-snmp-community)# client-list 192.168.0.0/24
	dnRouter(cfg-system-snmp-community)# client-list 172.17.0.0/16
	dnRouter(cfg-system-snmp-community)# client-list 2001:db8:2222::/48
	dnRouter(cfg-system-snmp-community)# client-list 2001:ab12::1/128
	


**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp-community)# no client-list
	dnRouter(cfg-system-snmp-community)# no client-list 172.17.0.0/16
	dnRouter(cfg-system-snmp-community)# no client-list 2001:db8:2222::/48

.. **Help line:** Configure system snmp community

**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 5.1.0   | Command introduced                    |
+---------+---------------------------------------+
| 6.0     | Applied new hierarchy for SNMP        |
+---------+---------------------------------------+
| 9.0     | Applied new hierarchy for community   |
+---------+---------------------------------------+
| 15.1    | Added support for IPv6 address format |
+---------+---------------------------------------+



---

## system snmp community view.rst

system snmp community view
--------------------------

**Minimum user role:** operator

A view is a collection of MIB object types that you want to group together to restrict or provide access to SNMP objects. For information on configuring SNMP views, see system snmp view.

To configure a view for the community:

**Command syntax: view [view]**

**Command mode:** config

**Hierarchies**

- system snmp community

.. **Note**

	- An SNMP community can only have 1 view attached

	- no command reverts the snmp view configuration to default config

**Parameter table**

+-----------+-------------------------------------------------------------------------------------------------------------+--------+-------------+
| Parameter | Description                                                                                                 | Range  | Default     |
+===========+=============================================================================================================+========+=============+
| view      | Select an existing view for the community. For information on configuring SNMP views, see system snmp view. | string | viewdefault |
|           | Only one view is allowed per community.                                                                     |        |             |
+-----------+-------------------------------------------------------------------------------------------------------------+--------+-------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# community MySnmpCommunity vrf default
	dnRouter(cfg-system-snmp-community)# view MySnmpView
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp-community)# no view

.. **Help line:** Configure system snmp community view

**Command History**

+---------+-------------------------------------+
| Release | Modification                        |
+=========+=====================================+
| 5.1.0   | Command introduced                  |
+---------+-------------------------------------+
| 6.0     | Applied new hierarchy for SNMP      |
+---------+-------------------------------------+
| 9.0     | Applied new hierarchy for community |
+---------+-------------------------------------+



---

## system snmp community.rst

system snmp community
---------------------

**Minimum user role:** operator

An SNMP community is the grouping of an SNMP server with its authorized SNMP clients. You can define the relationship that the device has with the SNMP server by configuring SNMP community properties.

To configure community properties:

**Command syntax: community [community] vrf [vrf-name]** parameter [parameter-value]

**Command mode:** config

**Hierarchies**

- system snmp

**Note**

- SNMP community is a v1/v2c concept and is not related to v3.

- Notice the change in prompt from dnRouter(cfg-system-snmp)# to dnRouter(cfg-system-snmp-community)# (SNMP community configuration mode).

- User can configure multiple snmp communities per VRF

Validations :
    - Only 2 in-band VRFs and up to 1 out-of-band VRF are allowed to be in admin-state enabled:
        - VRF default
        - Single non-default VRF
        - VRF mgmt0
    - In case snmp community is configured with non-default VRF and a user is trying to delete the non-default VRF, the commit will fail on validation.
    - Up to 10 snmp servers are allowed to be configured in total.

**Parameter table**

+-----------+-----------------------------------------------------------------------------------------------------------------------+----------------------------+---------+
| Parameter | Description                                                                                                           | Range                      | Default |
+===========+=======================================================================================================================+============================+=========+
| community | The name for the SNMP community                                                                                       | string                     | \-      |
+-----------+-----------------------------------------------------------------------------------------------------------------------+----------------------------+---------+
| vrf-name  | Defines whether the client-list attachment to the snmp-server is via in-band (default VRF, or out-of-band (mgmt0 VRF) | default - in-band          | \-      |
|           |                                                                                                                       | non-default-vrf - in-band  |         |
|           |                                                                                                                       | mgmt0- out-of-band         |         |
+-----------+-----------------------------------------------------------------------------------------------------------------------+----------------------------+---------+

The following are the parameters that you can set for each community:

- system snmp community view

- system snmp community access

- system snmp community client-list

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# community MySnmpCommunity vrf default
    dnRouter(cfg-system-snmp-community)# view MySnmpView
    dnRouter(cfg-system-snmp-community)# access read-only
    dnRouter(cfg-system-snmp-community)# clients 192.168.0.0/24
    dnRouter(cfg-system-snmp-community)# clients 172.17.0.0/16
    dnRouter(cfg-system-snmp-community)# clients 2001:db8:2222::/48
    dnRouter(cfg-system-snmp-community)# access read-write

    dnRouter(cfg-system-snmp)# community MySnmpCommunity vrf my_vrf
    dnRouter(cfg-system-snmp-community)# view MySnmpView1
    dnRouter(cfg-system-snmp-community)# access read-only
    dnRouter(cfg-system-snmp-community)# clients 192.168.1.0/24
    dnRouter(cfg-system-snmp-community)# clients 172.17.1.0/16
    dnRouter(cfg-system-snmp-community)# clients 2001:db8:3333::/48


**Removing Configuration**

To remove the SNMP community configuration:
::

	dnRouter(cfg-system-snmp)# no community MySnmpCommunity vrf default


.. **Help line:** Configure system snmp server

**Command History**

+---------+--------------------------------------------------------------------+
| Release | Modification                                                       |
+=========+====================================================================+
| 5.1.0   | Command introduced                                                 |
+---------+--------------------------------------------------------------------+
| 6.0     | no system snmp community command reverts to default configuration. |
|         | Applied new hierarchy for SNMP                                     |
+---------+--------------------------------------------------------------------+
| 9.0     | Applied new hierarchy for community                                |
+---------+--------------------------------------------------------------------+
| 13.1    | Added support for out-of-band community                            |
+---------+--------------------------------------------------------------------+

---

## system snmp compatibility-mode cisco.rst

system snmp compatibility-mode cisco
------------------------------------

**Minimum user role:** operator

To configure the SNMP compatibility mode with Cisco:

**Command syntax: cisco [admin-state]**

**Command mode:** config

**Hierarchies**

- system snmp compatibility-mode

**Parameter table**

+-------------+-------------------------------+--------------+---------+
| Parameter   | Description                   | Range        | Default |
+=============+===============================+==============+=========+
| admin-state | SNMP Cisco compatibility-mode | | enabled    | enabled |
|             |                               | | disabled   |         |
+-------------+-------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# compatibility-mode
    dnRouter(cfg-system-snmp-compatibility)# cisco enabled

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# compatibility-mode
    dnRouter(cfg-system-snmp-compatibility)# cisco disabled


**Removing Configuration**

To revert the SNMP compatibility with Cisco configuration to default:
::

    dnRouter(cfg-system-snmp-compatibility)# no cisco

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## system snmp compatibility-mode.rst

system snmp compatibility-mode
------------------------------

**Minimum user role:** operator

To configure SNMP compatibility mode:

**Command syntax: compatibility-mode**

**Command mode:** config

**Hierarchies**

- system snmp

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# compatibility-mode
    dnRouter(cfg-system-snmp-compatibility)#


**Removing Configuration**

To revert the compatibility-mode configuration to its default value:
::

    dnRouter(cfg-system-snmp)# no compatibility-mode

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.0    | Command introduced |
+---------+--------------------+

---

## system snmp packet-size.rst

system snmp packet-size
----------------------------

**Minimum user role:** operator

You can configure the maximum packet size (in bytes) for all outgoing SNMP packets.

**Command syntax: packet-size [packet-size]**

**Command mode:** config

**Hierarchies**

- system snmp 

.. **Note**

	- Configuration is global for all outgoing SNMP responses and traps.

	- Value includes 20 bytes for IPv4 header and 8 bytes for UDP header.

	- 'no' command reverts the value to default.

**Parameter table**

+-------------+----------------------------------------+-----------+---------+
| Parameter   | Description                            | Range     | Default |
+=============+========================================+===========+=========+
| packet-size | The size of the SNMP packet (in bytes) | 100..9300 | 1500    |
+-------------+----------------------------------------+-----------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# packet-size 1000
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp)# no packet-size

.. **Help line:** Configure SNMP maximum outgoing packet size in bytes.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system snmp trap-server admin-state.rst

system snmp trap-server admin-state
-----------------------------------

**Minimum user role:** operator

Configure system snmp trap-server admin state.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Note:**

no command reverts the admin-state configuration to its default value

Validation: fail commit if more than one in-band management non-default VRF is configured with admin-state enabled knob.


**Parameter table:**

+--------------+------------------------+---------------+
| Parameter    | Values                 | Default value |
+==============+========================+===============+
| admin-state  | enabled/disabled       | enabled       |
+--------------+------------------------+---------------+

**Example:**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
	dnRouter(cfg-system-snmp-trap-server)# admin-state enabled
	
	dnRouter(cfg-system-snmp)# trap-server 1.1.1.1 vrf my_vrf
	dnRouter(cfg-system-snmp-trap-server)# admin-state disabled
	
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.5 vrf mgmt0
	dnRouter(cfg-system-snmp-trap-server)# admin-state disabled
	


**Command History**

+---------+---------------------------------------+
| Release | Modification                          |
+=========+=======================================+
| 16.2    | Command introduced                    |
+---------+---------------------------------------+



---

## system snmp trap-server community.rst

system snmp trap-server community
---------------------------------

**Minimum user role:** operator

To configure the SNMP trap-server community used for communicating with the remote agent:

**Command syntax: community [community-value]**

**Command mode:** config

**Hierarchies**

- system snmp trap-server

.. **Note**

	- community parameter is mandatory for snmp trap server configuration

	- Only one community can be configured per trap server

	- it is not possible to remove community configuration from trap server

	- This community field is not related to "snmp community [community-value]" command

**Parameter table**

+-----------+----------------------------------------------------------------------------------------------------------+--------+---------+
| Parameter | Description                                                                                              | Range  | Default |
+===========+==========================================================================================================+========+=========+
| community | Mandatory. The community string used to communicate with the remote agent.                               | string | \-      |
|           | Relevant only to SNMP version 1 or 2c and is mandatory. Only one community can be configured per server. |        |         |
+-----------+----------------------------------------------------------------------------------------------------------+--------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
	dnRouter(cfg-system-snmp-trap-server)# community MySnmpCommunity 
	
	dnRouter(cfg-system-snmp)# trap-server 1.1.1.1 vrf mgmt0
	dnRouter(cfg-system-snmp-trap-server)# community MySnmpCommunity 
	
	

**Removing Configuration**

You cannot remove the community configuration. To delete the community, run the command with a new community string: 
::

	dnRouter(cfg-system-snmp-trap-server)# community MyNewSnmpCommunity

.. **Help line:** Configure system snmp trap server community

**Command History**

+---------+----------------------------------+
| Release | Modification                     |
+=========+==================================+
| 5.1.0   | Command introduced               |
+---------+----------------------------------+
| 6.0     | Applied new hierarchy for SNMP   |
+---------+----------------------------------+
| 9.0     | Applied new hierarchy for server |
+---------+----------------------------------+



---

## system snmp trap-server max-throughput.rst

system snmp trap-server max-throughput
--------------------------------------

**Minimum user role:** operator

To configure the SNMP max-throughput. This is the maximum number of traps that are send to the server in one second. If the generated traps are larger then this, then the rest of the traps will be discared.

**Command syntax: max-throughput [max-throughput]**

**Command mode:** config

**Hierarchies**

- system snmp trap-server

**Parameter table**

+----------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter      | Description                                                                      | Range  | Default |
+================+==================================================================================+========+=========+
| max-throughput | Maximum numbers of traps that can be sent to the server in one second. If there  | 1-1000 | 100     |
|                | is a larger number of traps generated then everything above the value of the     |        |         |
|                | throughput will be discarded                                                     |        |         |
+----------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
    dnRouter(cfg-system-snmp-trap-server)# max-throughput 1000
    dnRouter(cfg-system-snmp)# trap-server 1.2.3.5 vrf mgmt0
    dnRouter(cfg-system-snmp-trap-server)# max-throughput 300


**Removing Configuration**

To revert the max throughput to default
::

    dnRouter(cfg-system-snmp-trap-server)# no max-throughput

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 15.2.3  | Command introduced |
+---------+--------------------+

---

## system snmp trap-server port.rst

system snmp trap-server port
----------------------------

**Minimum user role:** operator

To configure the SNMP port to which the remote device is connected:

**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system snmp trap-server

.. **Note**

	- no command reverts the port configuration to its default value

**Parameter table**

+-----------+-----------------------------------------------------------------------+----------+---------+
| Parameter | Description                                                           | Range    | Default |
+===========+=======================================================================+==========+=========+
| port      | The port on the local device to which the remote device is connected. | 0..65535 | 162     |
+-----------+-----------------------------------------------------------------------+----------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
	dnRouter(cfg-system-snmp-trap-server)# port 123
	
	dnRouter(cfg-system-snmp)# trap-server 1.1.1.1 vrf default
	dnRouter(cfg-system-snmp-trap-server)# port 444
	
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.5 vrf mgmt0
	dnRouter(cfg-system-snmp-trap-server)# port 43
	
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp-trap-server)# no port

.. **Help line:** Configure system snmp trap server port

**Command History**

+---------+----------------------------------+
| Release | Modification                     |
+=========+==================================+
| 5.1.0   | Command introduced               |
+---------+----------------------------------+
| 6.0     | Applied new hierarchy for SNMP   |
+---------+----------------------------------+
| 9.0     | Applied new hierarchy for server |
+---------+----------------------------------+



---

## system snmp trap-server source-interface.rst

system snmp trap-server source-interface
----------------------------------------

**Minimum user role:** operator

This command is applicable to the following interfaces:

physical interfaces logical interfaces (sub-interfaces) bundle interfaces bundle sub-interfaces loopback interfaces

By default, the source-interface for SNMP sessions is the system in-band-management source-interface. To override the default behavior and configure a different source-interface for SNMP sessions:

**Command syntax: source-interface [source-interface]**

**Description:** configure system snmp source interface for outgoing snmp sessions per server per VRF.

	- Validation that ip address must be configured on the interface configuration.

	- source-interface must be configured with the same address type as the remote snmp server otherwise the trap won't be sent.

**Parameter table**

+----------------+---------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------+---------+
| Parameter      | Description                                                                                                                     | Range                                               | Default |
+================+=================================================================================================================================+=====================================================+=========+
| interface-name | The name of the interface whose source IP address will be used for all SNMP sessions.                                           | A configured interface:                             | \-      |
|                | This interface must be configured with an IPv4 address.                                                                         |                                                     |         |
|                | The source-interface must be configured with the same address type as the remote snmp server, otherwise the trap won't be sent. | ge<interface speed>-<A>/<B>/<C>                     |         |
|                |                                                                                                                                 |                                                     |         |
|                |                                                                                                                                 | ge<interface speed>-<A>/<B>/<C>.<sub-interface id>  |         |
|                |                                                                                                                                 |                                                     |         |
|                |                                                                                                                                 | bundle-<bundle id>                                  |         |
|                |                                                                                                                                 |                                                     |         |
|                |                                                                                                                                 | bundle-<bundle id>.<sub-interface id>               |         |
|                |                                                                                                                                 |                                                     |         |
|                |                                                                                                                                 | lo<lo-interface id>                                 |         |
+----------------+---------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
    dnRouter(cfg-snmp-trap-server)# source-interface lo100
    dnRouter(cfg-snmp-trap-server)# source-interface bundle-1
    dnRouter(cfg-snmp-trap-server)# source-interface ge100-0/0/0

    dnRouter(cfg-system-snmp)# trap-server 1.1.1.1 vrf mgmt0
    dnRouter(cfg-snmp-trap-server)# source-interface mgmt0

    dnRouter(cfg-system-snmp-trap-server)#  no source-interface

**Command mode:** config

**TACACS role:** operator

**Removing Configuration**

Configuration is per server per VRF for all outgoing snmp applications (trap-server output etc).

-  By default used global configuration for source interface is used "system inband source-interface" for VRF default and "network-services vrf management-plane source-interface" for non-default in-band management VRF.
    - in case source-interface under trap-server is specified it will override the global source-interface config for that server.
    - Validation: source-interface is associated with the same VRF as the trap server, otherwise commit will fail validation

-  Only mgmt0 source-interface can be supported for mgmt0 VRF and it is the default value.

.. **Help line:** Configure system snmp source interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## system snmp trap-server trap-source-port.rst

system snmp trap-server trap-source-port
----------------------------------------

**Minimum user role:** operator

To configure system SNMP source port for all outgoing SNMP traps:

**Command syntax: trap-source-port [port]**

**Description:** configure system snmp source port for per server per VRF for outgoing snmp traps

	- no command reverts the port configuration to its default value.

**Parameter table**

+-----------+-------------------------------------------------------------------------+-------------+--------------------------------------+
| Parameter | Description                                                             | Range       | Default                              |
+===========+=========================================================================+=============+======================================+
| port      | Set the port that will be used as a source for all outgoing SNMP traps. | 1024..65535 | Ephemerally allocated from the range |
+-----------+-------------------------------------------------------------------------+-------------+--------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
    dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
    dnRouter(cfg-snmp-trap-server)# trap-source-port 1900

	dnRouter(cfg-system-snmp-server)# no trap-source-port

**Command mode:** config

**Removing Configuration**

To revert the router-id to default: 
::

    dnRouter(cfg-system-snmp)# no trap-source-port

Configuration of SNMP traps source port per SNMP trap server per VRF for outgoing snmp traps.

.. **Help line:** Configure system snmp trap source port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 14.0    | Command introduced |
+---------+--------------------+



---

## system snmp trap-server version.rst

system snmp trap-server version
-------------------------------

**Minimum user role:** operator

To configure the trap-server SNMP version:

**Command syntax: version [version]**

**Command mode:** config

**Hierarchies**

- system snmp trap-server

.. **Note**

	- No command reverts snmp version to its default value

**Parameter table**

+-----------+------------------+-------+---------+
| Parameter | Description      | Range | Default |
+===========+==================+=======+=========+
| version   | The SNMP version | 1     | 2c      |
|           |                  | 2c    |         |
+-----------+------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# trap-server 1.1.1.1 vrf default
	dnRouter(cfg-system-snmp-trap-server)# version 1
	
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf mgmt0
	dnRouter(cfg-system-snmp-trap-server)# version 2c
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp-trap-server)# no version

.. **Help line:** Configure system snmp trap server version

**Command History**

+---------+----------------------------------+
| Release | Modification                     |
+=========+==================================+
| 5.1.0   | Command introduced               |
+---------+----------------------------------+
| 6.0     | Applied new hierarchy for SNMP   |
+---------+----------------------------------+
| 9.0     | Applied new hierarchy for server |
+---------+----------------------------------+



---

## system snmp trap-server.rst

system snmp trap-server
-----------------------

**Minimum user role:** operator

Configures the system snmp trap-server. The system supports up to 5 different trap-servers.
To configure the system snmp trap-server:

**Command syntax: trap-server [server-ip] vrf [vrf-name]** parameter [parameter-value]

**Removing Configuration**

**Note:**

Creation of a new snmp trap server requires configuration of server-ip & community.

vrf "default" represents the in-band management, while vrf "mgmt0" represents the out-of-band management.

Up to 5 snmp servers are allowed to be configured in total on all VRFs (mgmt0, default and non-default VRF).

snmp trap source address type will be set according to the destination server IP address type.


**Parameter table**

+-----------+-----------------------------------------------------------------------------------------------------------+---------------------------+---------+
| Parameter | Description                                                                                               | Range                     | Default |
+===========+===========================================================================================================+===========================+=========+
| server-ip | Mandatory. The IP address of the SNMP server                                                              | A.B.C.D                   | \-      |
|           |                                                                                                           | x:x::x:x                  |         |
+-----------+-----------------------------------------------------------------------------------------------------------+---------------------------+---------+
| vrf-name  | Defines whether the trap-server listens to in-band or out-of-band interfaces for snmp-client get messages | default - in-band         | \-      |
|           |                                                                                                           | non-default-vrf - in-band |         |
|           |                                                                                                           | mgmt0 - out-of-band       |         |
+-----------+-----------------------------------------------------------------------------------------------------------+---------------------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# trap-server 1.2.3.4 vrf default
	dnRouter(cfg-system-snmp-trap-server)# community MySnmpCommunity 
	dnRouter(cfg-system-snmp-trap-server)# version 2c
	dnRouter(cfg-system-snmp-trap-server)# port 123

	dnRouter(cfg-system-snmp)# trap-server 2004:3221::1  vrf my_vrf
	dnRouter(cfg-system-snmp-trap-server)# community MyPrivateSnmpCommunity
	dnRouter(cfg-system-snmp-trap-server)# version 2c
	dnRouter(cfg-system-snmp-trap-server)# port 123

	dnRouter(cfg-system-snmp)# trap-server 2003:3221::1  vrf mgmt0
	dnRouter(cfg-system-snmp-trap-server)# community MyNewSnmpCommunity
	dnRouter(cfg-system-snmp-trap-server)# version 2c
	dnRouter(cfg-system-snmp-trap-server)# port 123
	
**Removing Configuration**

To remove the SNMP trap-server configuration:
::

	dnRouter(cfg-system-snmp)# no trap-server 1.2.3.4 vrf default

.. **Help line:** Configure system snmp trap server

**Command History**

+---------+-----------------------------------------------+
| Release | Modification                                  |
+=========+===============================================+
| 5.1.0   | Command introduced                            |
+---------+-----------------------------------------------+
| 6.0     | Applied new hierarchy for SNMP                |
+---------+-----------------------------------------------+
| 9.0     | Applied new hierarchy for server              |
+---------+-----------------------------------------------+
| 10.0    | Changed syntax from "server" to "trap-server" |
+---------+-----------------------------------------------+
| 13.1    | Added trap-server out-of-band support         |
+---------+-----------------------------------------------+
| 15.1    | Added support for IPV6 address format         |
+---------+-----------------------------------------------+

---

## system snmp trap.rst

system snmp trap
----------------

**Minimum user role:** operator

All traps are enabled by default. You can disable a trap, or enable a disabled trap, as follows:

**Command syntax: trap [trap-type] [trap-name] enabled \| disabled**

**Command mode:** config

**Hierarchies**

- system snmp

**Note**

- When multiple SNMP servers are configured, all enabled traps are sent to all SNMP servers.

.. - all traps are enabled by default

	- no command removes the trap configuration - essentially enables the trap

	- trap-type includes all supported trap-names children (see supported snmp suppressed traps)

**Parameter table**

+--------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter          | Description                                                                                                                                      |
+====================+==================================================================================================================================================+
| trap-type          | Groups traps together, allowing you to enable/disable the entire group with one command, to control and limit the scale of SMNP traps generated. |
+--------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+
| trap-name          | The name of the trap to be enabled/disabled.                                                                                                     |
+--------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+
| enabled | disabled | Select whether to enable or disable the specified trap. All traps are enabled by default.                                                        |
+--------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# trap interface disabled
	dnRouter(cfg-system-snmp)# trap interface linkUp enabled
	dnRouter(cfg-system-snmp)# trap interface linkDown enabled
	dnRouter(cfg-system-snmp)# trap system coldStart enabled



**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp)# no trap bgp
	dnRouter(cfg-system-snmp)# no trap bgp bgpEstablishedNotification

.. **Help line:** Configure system snmp traps

**Command History**

+---------+------------------------------------------------------+
| Release | Modification                                         |
+=========+======================================================+
| 5.1.0   | Command introduced                                   |
+---------+------------------------------------------------------+
| 6.0     | New BFD traps added                                  |
|         | Applied new hierarchy                                |
+---------+------------------------------------------------------+
| 11.4    | Updated BGP traps and added RSVP traps               |
+---------+------------------------------------------------------+
| 11.5    | Renamed bgpEstablished as bgpEstablishedNotification |
+---------+------------------------------------------------------+



---

## system snmp user view.rst

system snmp user view
---------------------

**Minimum user role:** operator

To configure SNMP user authentication:

**Command syntax: view [view-name]**

**Command mode:** config

**Hierarchies**

- system snmp

.. **Note**

	- validation: snmp view must be pre-configured in "system snmp view" for the user view configuration to apply (values for this command should be auto-complete)

	- by default, a user has view value of "viewdefault"(default snmp view in the system)

	- no command removes the specific view configuration

**Parameter table**

+-----------+-----------------------------------------------------------------------------+--------+-------------+
| Parameter | Description                                                                 | Range  | Default     |
+===========+=============================================================================+========+=============+
| view-name | The name of the view collection allowed for the user. See system snmp view. | String | viewdefault |
+-----------+-----------------------------------------------------------------------------+--------+-------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# user MySnmpUser2 
	dnRouter(cfg-system-snmp-user)# view MyAllView
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp-user)# no view

.. **Help line:** Configure system snmp user view

**Command History**

+---------+--------------------------------+
| Release | Modification                   |
+=========+================================+
| 5.1.0   | Command introduced             |
+---------+--------------------------------+
| 6.0     | Applied new hierarchy for SNMP |
+---------+--------------------------------+
| 9.0     | Applied new hierarchy for user |
+---------+--------------------------------+


---

## system snmp user.rst

system snmp user
-----------------

**Minimum user role:** operator

To configure a user for SNMP and enter the SNMP user configuration mode:

**Command syntax: user [user-name] parameter** [parameter-value]

**Command mode:** config

**Hierarchies**

- system snmp

**Note**

- Notice the change in prompt.

.. - Creation of a user must include auth-type and auth-password

	- password will be displayed as encrypted text. (enc-xxxx)

	- The same password is used for encryption and authentication

**Parameter table**

+-----------+-----------------------------------------------------------------------------------------+-----------+
| Parameter | Description                                                                             | Range     |
+===========+=========================================================================================+===========+
| user-name | Enter a user name. If the user name does not already exist, a new user will be created. | String    |
+-----------+-----------------------------------------------------------------------------------------+-----------+

When creating an SNMP user, you must set the authentication (type of authentication and password are both required) for the user. See system snmp user authentication.

For each user, you can optionally set encryption and view options. The same password is used for authentication and for encryption. See system snmp user encryption and system snmp user view, respectively.

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# user MySnmpUser2
	dnRouter(cfg-system-snmp-user)# authentication md5 password enc-#dsddsd546
	dnRouter(cfg-system-snmp-user)# encryption des
	dnRouter(cfg-system-snmp-user)# view MyView

	dnRouter(cfg-system-snmp)# user MySnmpUser3
	dnRouter(cfg-system-snmp-user)# authentication sha
	dnRouter(cfg-system-snmp-user)# password enc-234asds$#5



**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-snmp)# no user MySnmpUser1

.. **Help line:** Configure system snmp user authentication

**Command History**

+---------+--------------------------------+
| Release | Modification                   |
+=========+================================+
| 5.1.0   | Command introduced             |
+---------+--------------------------------+
| 6.0     | Applied new hierarchy for SNMP |
+---------+--------------------------------+
| 9.0     | Applied new hierarchy for user |
+---------+--------------------------------+

---

## system snmp view.rst

system snmp view
----------------

**Minimum user role:** operator

A view is a collection of MIB object types that you want to group together to restrict or provide access to SNMP objects. The system has a single default view named "viewdefault". This view includes all MIBs in the system (i.e. no exclusions). You can configure 10 different views with 10 different OIDs.

To configure an SNMP View:

**Command syntax: mib {[oid \| mib-name]} {include \| exclude}**

**Command mode:** config

**Hierarchies**

- system snmp

**Note**

- Notice the change in prompt.

.. - view can contain multiple include/exclude mibs/oid

	- By default, the system holds a single view named "viewdefault". this view includes all mibs in the system

	- Per view, Matching include/exclude is done using longest-prefix-match while exclude > include

	- (excluded oids have prioirty vs included oids).

	- For example:

	- INCLUDE: 1.3.6.1.2.1.2.2.1.2 (ifDescr)

	- EXCLUDE: 1.3.6.1.2.1.2 (ifTable)

	- The results of doing a walk on ifTable will produce only ifDescr.

	- If the same OID is both included and excluded, then it is excluded.

	- no command removes the snmp view configuration, or the specific mib configuration

	- There should be 3 OIDs that should be excluded by default:

	- 1.3.6.1.6.3.15 (snmpUsmMIB)

	- 1.3.6.1.6.3.16 (snmpVacmMIB)

	- 1.3.6.1.6.3.18 (snmpCommunityMIB)

	- Rest of the OIDs are included.

**Parameter table**

+-----------+-----------------------------------------+
| Parameter | Description                             |
+===========+=========================================+
| view-name | Provide a name for the view collection. |
+-----------+-----------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# snmp
	dnRouter(cfg-system-snmp)# view MyViewName 
	dnRouter(cfg-system-snmp-view)# mib 1.3.6.1.2.1.1 include
	dnRouter(cfg-system-snmp-view)# mib 1.3.6.1.2.1.1.5 exclude
	dnRouter(cfg-system-snmp-view)# mib BGP4-MIB include
	

	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-system-snmp)# no view MyViewName
	dnRouter(cfg-system-snmp-view)# no mib 1.3.6.1.2.1.1 
	dnRouter(cfg-system-snmp-view)# no mib BGP4-MIB

.. **Help line:** Configure system snmp view

**Command History**

+---------+-------------------------------------+
| Release | Modification                        |
+=========+=====================================+
| 5.1.0   | Command introduced                  |
+---------+-------------------------------------+
| 6.0     | Applied new hierarchy for SNMP      |
+---------+-------------------------------------+
| 9.0     | Applied new hierarchy for SNMP view |
+---------+-------------------------------------+



---

## system ssh security.rst

system ssh security
-------------------

**Minimum user role:** operator

Configure SSH security parameters:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system ssh

**Note**

- Security affects both SSH Server and Netconf servers on all vrfs

- Security does not affect SSH Client

- Notice the change in prompt.

- no commands removes configuration/set the default value.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# security
    dnRouter(cfg-system-ssh-security)# mac hmac-sha2-512
    dnRouter(cfg-system-ssh-security)# !
    dnRouter(cfg-system-ssh)# security ciphers chacha20-poly1305-openssh.com,aes256-gcm-openssh.com


**Removing Configuration**

To revert to default algorithms
::

    dnRouter(cfg-system-ssh)# no security

**Command History**

+---------+---------------------------------------------+
| Release | Modification                                |
+=========+=============================================+
| 19.1.3  | Command introduced as part of new hierarchy |
+---------+---------------------------------------------+
| TBD     | Fix prompt from cli_examples                |
+---------+---------------------------------------------+

---

## system ssh server max-attempts.rst

system ssh server max-attempts
------------------------------

**Minimum user role:** operator

Configure the maximal number of SSH connection attempts within the defined time window.

**Command syntax: max-attempts [max-attempts]**

**Command mode:** config

**Hierarchies**

- system ssh server

**Parameter table**

+--------------+----------------------------------------------------------+-------+---------+
| Parameter    | Description                                              | Range | Default |
+==============+==========================================================+=======+=========+
| max-attempts | maximum number of connection attempts within time-window | 1-50  | 10      |
+--------------+----------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)# max-attempts 20


**Removing Configuration**

To revert ssh server max-attempts to default: 
::

    dnRouter(cfg-system-ssh-server)# no max-attempts

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1.3  | Command introduced |
+---------+--------------------+

---

## system ssh server time-window.rst

system ssh server time-window
-----------------------------

**Minimum user role:** operator

To configure the time window for SSH connections rate limiting:

**Command syntax: time-window [time-window]**

**Command mode:** config

**Hierarchies**

- system ssh server

**Parameter table**

+-------------+-----------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                     | Range  | Default |
+=============+=================================================================+========+=========+
| time-window | length of time window for SSH sessions connection rate limiting | 1-3600 | 60      |
+-------------+-----------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# ssh
    dnRouter(cfg-system-ssh)# server
    dnRouter(cfg-system-ssh-server)# time-window 100


**Removing Configuration**

To revert ssh server time-window to default: 
::

    dnRouter(cfg-system-ssh-server)# no time-window

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1.3  | Command introduced |
+---------+--------------------+

---

## system ssh.rst

system ssh
-----------

**Minimum user role:** operator

Secure shell (SSH) is a generic connection protocol used to provide remote access to a device and provide secured file transfer protocol. DNOS enables to configure an SSH Server to enable access to the system via SSH (CLI) and also multiple SSH Clients, to enable to access remote devices from the system via SSH.

SSH Server/Client must be available via in-band management (default VRF) or out-of-band (mgmt0 interface) only.

To manage SSH sessions:

**Command syntax: ssh [parameters]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt from dnRouter(cfg-system)# to dnRouter(cfg-system-ssh)# (system SSH configuration mode).

.. - no command returns the state to default.

**Parameter table**

+-------------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
| Parameter               | Description                                                                                                   | Reference                              |
+=========================+===============================================================================================================+========================================+
| client admin-state      | Enable or disable the client SSH functionality                                                                | system ssh client admin-state          |
+-------------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
| server client-list      | Configure a list of incoming IP addresses that will or will not be permitted access to an in-band SSH server. | system ssh server vrf client-list      |
+-------------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
| server client-list type | Sets the server client-list as a white-list or black-list.                                                    | system ssh server vrf client-list type |
+-------------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
| server max-sessions     | Configure the maximum number of concurrent SSH sessions                                                       | system ssh server max-sessions         |
+-------------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+
| server admin-state      | Enable/disable the SSH server                                                                                 | system ssh server admin-state          |
+-------------------------+---------------------------------------------------------------------------------------------------------------+----------------------------------------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# ssh
	dnRouter(cfg-system-ssh)# client admin-state enabled
	dnRouter(cfg-system-ssh)# server
	dnRouter(cfg-system-ssh-server)#



**Removing Configuration**

To revert the router-id to default:
::

	dnRouter(cfg-system-ssh)# no client admin-state

.. **Help line:** configure ssh server and client functionality.

**Command History**

+---------+--------------------------------------+
| Release | Modification                         |
+=========+======================================+
| 6.0     | Command introduced for new hierarchy |
+---------+--------------------------------------+

---

## system telnet server vrf client-list type.rst

system telnet server vrf client-list type
-----------------------------------------

**Minimum user role:** operator

This command defines whether the configured client-list (see system telnet server vrf client-list) is a white list or a black list. This will determine if the listed clients will be granted access to the system in-band telnet server.

**Command syntax: server vrf client-list type [list-type]**

**Command mode:** config

**Hierarchies**

- system telnet server 

**Note**

- If client-list type is set to "allow", the client-list must not be empty.

.. - no command return the list type to its default value

	- if client-list type is set to "allow", client-list must not be empty

**Parameter table**

+-----------+-------------------------------------------+-------+---------+
| Parameter | Description                               | Range | Default |
+===========+===========================================+=======+=========+
| list-type | The type of list of incoming IP addresses | allow | deny    |
|           |                                           | deny  |         |
+-----------+-------------------------------------------+-------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# telnet 
	dnRouter(cfg-system-telnet)# server vrf default
	dnRouter(cfg-telnet-server-vrf)# client-list type allow
	
	
	

**Removing Configuration**

To revert the router-id to default: 
::

	dnRouter(cfg-telnet-server-vrf)# no client-list type

.. **Help line:** configure black or white list of incoming IP-addresses for system in-band telnet server.

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+



---

## system timezone.rst

system timezone
---------------

**Minimum user role:** operator
System timezone provides a full sync for dates and times between all the containers in all the clusters or Standalone components.

To set the system time-zone, use the following command:

**Command syntax: timezone [timezone]**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Changing the time-zone will affect the displayed system uptime, logs, traces, debug files, and CLI transactions.

.. - No system timezone return timezone parameter to default value (UTC)

**Parameter table**

+-----------+-----------------------------------+---------------------------------------------------------------+---------+
| Parameter | Description                       | Range                                                         | Default |
+===========+===================================+===============================================================+=========+
| timezone  | Sets the time-zone for the system | Linux time-zone list, use the 'tab' help key to view the list | UTC     |
+-----------+-----------------------------------+---------------------------------------------------------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# timezone UTC



**Removing Configuration**

To revert the timezone to default:
::

	dnRouter(cfg-system)# no timezone

.. **Help line:** Configure system timezone

**Command History**

+---------+---------------------------------------------------------+
| Release | Modification                                            |
+=========+=========================================================+
| 5.1.0   | Command introduced                                      |
+---------+---------------------------------------------------------+
| 6.0     | Applied new hierarchy                                   |
+---------+---------------------------------------------------------+
| 13.1    | Added timezone configuration for formats other than UTC |
+---------+---------------------------------------------------------+

---

## system timing-mode.rst

system timing-mode 
-------------------

**Minimum user role:** operator

Set the timing mode to "NTP" to enable NTP functionality.

**Command syntax: timing-mode [mode]**

**Command mode:** config

**Hierarchies**

- system 

**Note**

- The system's timing mode must match that of DNOR. If you manually set the system's date-time value to 10 years higher or lower than date-time value on DNOR, DNOR cluster management may be lost. It will not be possible to add/remove NCC nodes from the cluster.

.. - no command returns timing-mode to default.

	- When system timing mode "NTP" is set, the system time source from remote server via NTP protocol is used. If no remote NTP server was configured as time source for the system, the system will operate in a free-running state using the time that was set during DNOS cluster creation.

	- When system timing mode "manual" is set, user may set the time & date to any value using "set system datetime" CLI command. If manually set date-time value is 10 years higher or 10 years lower than date-time value on DNOR, cluster management by DNOR may be lost. In this case, NCC add/remove from cluster functionality will not be available.

	- When system timing-mode "manual" is set, NTP functionalities are disabled.

**Parameter table**

+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+
| Parameter | Description                  | Range                                                                                                                                                                                                                                  | Default |
+===========+==============================+========================================================================================================================================================================================================================================+=========+
| mode      | The timing mode of operation | NTP - enables the NTP functionality (see system ntp server). If no remote NTP server is configured as time source for the system, the system will operate in a free-running state using the time that was set during cluster creation. | NTP     |
|           |                              | manual - disables the NTP functionality and uses the manually set time (see set system datetime).                                                                                                                                      |         |
+-----------+------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+

**Example**
::

	dnRouter# configure
	dnRouter(cfg)# system
	dnRouter(cfg-system)# timing-mode ntp
	dnRouter(cfg-system)# timing-mode manual
	WARNING: System and Conductor must be in the same time domain. By setting system date and time manually, you may lose the ability to add and remove nodes to cluster!
	
	
	

**Removing Configuration**

To revert the timing-mode to default: 
::

	dnRouter(cfg-system)# no timing-mode

.. **Help line:** Configure system timing mode.

**Command History**

+---------+-----------------------+
| Release | Modification          |
+=========+=======================+
| 5.1.0   | Command introduced    |
+---------+-----------------------+
| 6.0     | Applied new hierarchy |
+---------+-----------------------+



---

## sztp/admin-state.rst

system sztp admin-state
-----------------------

**Minimum user role:** admin

To enable/disable SZTP.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system sztp

**Note**

- admin-state enabled will take place only after a reboot. admin-state disabled will take place immediately.

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter   | Description                                                                      | Range        | Default  |
+=============+==================================================================================+==============+==========+
| admin-state | controls whether SZTP bootstrapping is enabled or disabled. disabled state takes | | enabled    | disabled |
|             | effect immediately. enabled state takes effect after a restart                   | | disabled   |          |
+-------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# admin-state enabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-sztp)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/bootstrap-server/bootstrap-server.rst

system sztp bootstrap-server
----------------------------

**Minimum user role:** admin

To configure the bootstrap server:

**Command syntax: bootstrap-server [bootstrap-server]**

**Command mode:** config

**Hierarchies**

- system sztp

**Note**

- Up to 16 bootstrap servers can be configured in general.

- Bootstrap servers cannot be modified during SZTP flow. If the user needs to change servers, they need to stop any SZTP flow (By changing admin-state to disabled) and then make the desired changes.

**Parameter table**

+------------------+------------------+-------+---------+
| Parameter        | Description      | Range | Default |
+==================+==================+=======+=========+
| bootstrap-server | bootstrap-server | \-    | \-      |
+------------------+------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# bootstrap-server ::1
    dnRouter(cfg-system-sztp-bootsrv)# !
    dnRouter(cfg-system-sztp)# bootstrap-server 2001:1:2:3:4:5:6:7
    dnRouter(cfg-system-sztp-bootsrv)# !


**Removing Configuration**

To delete the configuration under bootstrap-server:
::

    dnRouter(cfg-system-sztp)# no bootstrap-server 2001:1:2:3:4:5:6:7

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/bootstrap-server/port.rst

system sztp bootstrap-server port
---------------------------------

**Minimum user role:** admin

To configure the port on which the bootstrap server listens to bootstrap information requests and progress updates from the client.

**Command syntax: port [port]**

**Command mode:** config

**Hierarchies**

- system sztp bootstrap-server

**Parameter table**

+-----------+----------------------------------------------------------------------------------+---------+---------+
| Parameter | Description                                                                      | Range   | Default |
+===========+==================================================================================+=========+=========+
| port      | The port number the bootstrap server listens on.  If no port is specified, the   | 0-65535 | 443     |
|           | IANA-assigned port for 'https' (443) is used.                                    |         |         |
+-----------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# bootstrap-server ::1
    dnRouter(cfg-system-sztp-bootsrv)# port 9339


**Removing Configuration**

To revert port to default:
::

    dnRouter(cfg-system-sztp-bootsrv)# no port

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/bootstrap-server/priority.rst

system sztp bootstrap-server priority
-------------------------------------

**Minimum user role:** admin

The configure priority of the bootstrap server. The priority is used to determine the order in which the bootstrap server is used by the client. The lower the priority, the first the bootstrap server is used by the client. If priority is equal, the client will use the bootstrap server with the lowest IP address.

**Command syntax: priority [priority]**

**Command mode:** config

**Hierarchies**

- system sztp bootstrap-server

**Parameter table**

+-----------+----------------------------------------------------------------------------------+-------+---------+
| Parameter | Description                                                                      | Range | Default |
+===========+==================================================================================+=======+=========+
| priority  | bootstrap server priority. When multiple servers are set, DNOS accesses          | 1-255 | 255     |
|           | bootstrap servers according to their priority. I.e. first DNOS will attempt      |       |         |
|           | bootstrap server with lowest priority                                            |       |         |
+-----------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# bootstrap-server ::1
    dnRouter(cfg-system-sztp-bootsrv)# priority 2


**Removing Configuration**

To revert priority to default:
::

    dnRouter(cfg-system-sztp-bootsrv)# no priority

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/bootstrap-server/trust-anchor-list.rst

system sztp bootstrap-server trust-anchor-list
----------------------------------------------

**Minimum user role:** admin


Configure the list of trust-anchors to authenticate the bootstrap-servers in the TLS connection. 
Each item in the list is the name of the certificate chain file that is stored in the /security/cert folder.
To upload the certificate chain file refer to \"request file download\".
The trust-anchor will be used to authenticate the bootsrap-server. If the trust-anchor-list is configured for a given bootstrap-server, the trust-anchor-list will override the trust-anchor-list defined in the global configuration.
The bootstrap-server is considered authenticated if the certificate chain of the bootstrap-server is signed by one of the trust-anchors in the list.

**Command syntax: trust-anchor-list [trust-anchor-list]** [, trust-anchor-list, trust-anchor-list]

**Command mode:** config

**Hierarchies**

- system sztp bootstrap-server

**Note**

- User can define for a given bootstrap-server different trust-anchors that will override those trust-anchors defined in the global configuration.

- You can add up to 12 trust-anchors in global configuration.

**Parameter table**

+-------------------+--------------------------------------------------------------------------+-------+---------+
| Parameter         | Description                                                              | Range | Default |
+===================+==========================================================================+=======+=========+
| trust-anchor-list | The filename of trust anchor certificate within the device's file system | \-    | \-      |
+-------------------+--------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# bootstrap-server ::1
    dnRouter(cfg-system-sztp-bootsrv)# trust-anchor-list anchor1
    dnRouter(cfg-system-sztp-bootsrv)# trust-anchor-list anchor2


**Removing Configuration**

To Remove all trust-anchor-list items
::

    dnRouter(cfg-system-sztp-bootsrv)# no trust-anchor-list

To Remove specific trust-anchor-list item
::

    dnRouter(cfg-system-sztp-bootsrv)# no trust-anchor-list anchor1

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/class_of_service.rst

system sztp class-of-service
----------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to different traffic so that when congestion occurs, you can control which packets receive priority.

To configure the DSCP value for all locally generated sZTP packets:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system sztp

**Parameter table**

+------------------+-------------------------------------------------------------+-------+---------+
| Parameter        | Description                                                 | Range | Default |
+==================+=============================================================+=======+=========+
| class-of-service | This parameter specifies the DSCP of generated sZTP packets | 0-56  | 48      |
+------------------+-------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# class-of-service 15


**Removing Configuration**

To revert the class-of-service to the default value:
::

    dnRouter(cfg-system-sztp)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| TBD     | Command introduced |
+---------+--------------------+

---

## sztp/custom-input-parameter/custom-input-parameter.rst

system sztp custom-input-parameter
----------------------------------

**Minimum user role:** admin

To Configure an custom input parameter that will be included in the get-bootstrap-data RPC input:

**Command syntax: custom-input-parameter [custom-input-parameter]**

**Command mode:** config

**Hierarchies**

- system sztp

**Note**

- custom input parameter MUST NOT conflict with existing input parameters according to RFC

**Parameter table**

+------------------------+------------------------------+------------------+---------+
| Parameter              | Description                  | Range            | Default |
+========================+==============================+==================+=========+
| custom-input-parameter | Name of the custom parameter | | string         | \-      |
|                        |                              | | length 1-255   |         |
+------------------------+------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# custom-input-parameter my-parameter
    dnRouter(cfg-system-sztp-custin)# !
    dnRouter(cfg-system-sztp)# custom-input-parameter second-parameter
    dnRouter(cfg-system-sztp-custin)# !


**Removing Configuration**

To remove the configuration of SZTP custom input parameter:
::

    dnRouter(cfg-system-sztp)# no custom-input-parameter my-parameter

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/custom-input-parameter/value.rst

system sztp custom-input-parameter value
----------------------------------------

**Minimum user role:** admin

To configure the value of the custom parameter

**Command syntax: value [value]**

**Command mode:** config

**Hierarchies**

- system sztp custom-input-parameter

**Parameter table**

+-----------+-------------------------------+------------------+---------+
| Parameter | Description                   | Range            | Default |
+===========+===============================+==================+=========+
| value     | Value of the custom parameter | | string         | \-      |
|           |                               | | length 0-255   |         |
+-----------+-------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# custom-input-parameter my-parameter
    dnRouter(cfg-system-sztp-custin)# value "hello"


**Removing Configuration**

To remove value to default:
::

    dnRouter(cfg-system-sztp-custin)# no value

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/retry-timer.rst

system sztp retry-timer
-----------------------

**Minimum user role:** admin

The retry timer specifies the waiting period before reattempting the SZTP flow after a failed attempt to complete it in all the configured Bootstrap servers.

**Command syntax: retry-timer [retry-timer]**

**Command mode:** config

**Hierarchies**

- system sztp

**Parameter table**

+-------------+----------------------------------------------------------------------------------+--------+---------+
| Parameter   | Description                                                                      | Range  | Default |
+=============+==================================================================================+========+=========+
| retry-timer | controls the interval in seconds between attempts to contact the bootstrap       | 5-3600 | 60      |
|             | server                                                                           |        |         |
+-------------+----------------------------------------------------------------------------------+--------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# retry-timer 20


**Removing Configuration**

To revert retry-timer to default:
::

    dnRouter(cfg-system-sztp)# no retry-timer

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/security/authentication-type.rst

system sztp security authentication-type
----------------------------------------

**Minimum user role:** admin

To configure the authentication-type for the bootstrap server. The following configuration will take affect on both the global authentication, as stated under security config, and also on the per bootstrap server.

**Command syntax: authentication-type [authentication-type]**

**Command mode:** config

**Hierarchies**

- system sztp security

**Parameter table**

+---------------------+------------------------------------------------------------------+--------------------------------+-----------------------+
| Parameter           | Description                                                      | Range                          | Default               |
+=====================+==================================================================+================================+=======================+
| authentication-type |  the authentication type for connecting to the bootstrap server. | | mutual-authentication        | mutual-authentication |
|                     |                                                                  | | server-authentication-only   |                       |
|                     |                                                                  | | no-authentication            |                       |
+---------------------+------------------------------------------------------------------+--------------------------------+-----------------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# security
    dnRouter(cfg-system-sztp-sec)# authentication-type server-authentication-only


**Removing Configuration**

To revert authentication-type to default:
::

    dnRouter(cfg-system-sztp-sec)# no authentication-type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.2    | Command introduced |
+---------+--------------------+

---

## sztp/security/device-certificate.rst

system sztp security device-certificate
---------------------------------------

**Minimum user role:** admin

The transport layer security (TLS) protocol uses a digital certificate authenticating the identity of the certificate holder and allowing to encrypt the communication using a public key.

If a TLS device-certificate is not configured, https will establish unsecured sessions.

To configure a TLS device-certificate for the SZTP on the system:

1. Upload the certificate to the /security/cert folder. To see how, refer to \"request file download\".

2. Configure the certificate to use for SZTP:

**Command syntax: device-certificate [device-certificate]**

**Command mode:** config

**Hierarchies**

- system sztp security

**Parameter table**

+--------------------+------------------------------------------------------------------------+-------+---------+
| Parameter          | Description                                                            | Range | Default |
+====================+========================================================================+=======+=========+
| device-certificate | The filename of the device certificate within the device's file system | \-    | \-      |
+--------------------+------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# security
    dnRouter(cfg-system-sztp-sec)# device-certificate my-device-cert


**Removing Configuration**

To remove the configuration of the device certificate for SZTP:
::

    dnRouter(cfg-system-sztp-sec)# no device-certificate

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/security/security.rst

system sztp security
--------------------

**Minimum user role:** admin

SZTP requires security configuration of the client, both for mutal authentication of the server and traffic encryption. 

To configure global security parameters, enter the SZTP security configuration mode:

**Command syntax: security**

**Command mode:** config

**Hierarchies**

- system sztp

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# security


**Removing Configuration**

To remove all global security configuration for SZTP:
::

    dnRouter(cfg-system-sztp)# no security

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/security/trust-anchor-list.rst

system sztp security trust-anchor-list
--------------------------------------

**Minimum user role:** admin


Configure the list of trust-anchors to authenticate bootstrap-servers in the TLS connection. 

Each item in the list is the name of the certificate chain file that is stored in the /security/cert folder.

To Upload certificate chain file refer to \"request file download\".

The trust-anchor will be used to authenticate the bootsrap-server, unless the bootstrap-server has its own trust-anchor list.

The bootstrap-server is considered authenticated if the certificate chain of the bootstrap-server is signed by one of the trust-anchors in the list.

**Command syntax: trust-anchor-list [trust-anchor-list]** [, trust-anchor-list, trust-anchor-list]

**Command mode:** config

**Hierarchies**

- system sztp security

**Note**

- The user can define for a given bootstrap-server different trust-anchors that will override those trust-anchors defined in the global configuration.

- You can add up to 12 trust-anchors in global configuration.

**Parameter table**

+-------------------+--------------------------------------------------------------------------+-------+---------+
| Parameter         | Description                                                              | Range | Default |
+===================+==========================================================================+=======+=========+
| trust-anchor-list | The filename of trust anchor certificate within the device's file system | \-    | \-      |
+-------------------+--------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter#(cfg) system
    dnRouter#(cfg-sys) sztp
    dnRouter#(cfg-sys-sztp) security
    dnRouter#(cfg-sys-sztp-sec) trust-anchor anchor1
    dnRouter#(cfg-sys-sztp-sec) trust-anchor anchor2


**Removing Configuration**

To revert trust-anchor to default:
::

    dnRouter(cfg-sztp)# no trust-anchor

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/security/verify-hostname.rst

system sztp security verify-hostname
------------------------------------

**Minimum user role:** admin

To enable/disable verification of hostname in the bootstrap-server certificate

**Command syntax: verify-hostname [verify-hostname]**

**Command mode:** config

**Hierarchies**

- system sztp security

**Parameter table**

+-----------------+----------------------------------------------------------------------------------+--------------+----------+
| Parameter       | Description                                                                      | Range        | Default  |
+=================+==================================================================================+==============+==========+
| verify-hostname | Indicates whether the hostname in the certificate received by the bootstrap      | | enabled    | disabled |
|                 | server is checked for a match against the known hostname. If this is set as      | | disabled   |          |
|                 | 'enabled', the server's hostname in the received server certificate will be      |              |          |
|                 | compared against known hostname during the SZTP process. Setting it as           |              |          |
|                 | 'disabled' will skip this check.                                                 |              |          |
+-----------------+----------------------------------------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)# security
    dnRouter(cfg-system-sztp-sec)# verify-hostname enabled


**Removing Configuration**

To revert verify-hostname to default:
::

    dnRouter(cfg-system-sztp-sec)# no verify-hostname

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## sztp/sztp.rst

system sztp
-----------

**Minimum user role:** admin

Configure SZTP (Secure Zero Touch Provisioning).

Allows the router to be provisioned by remote server that implements the SZTP protocol (RFC 8572).

To configure SZTP, enter the SZTP configuration mode:

**Command syntax: sztp**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# sztp
    dnRouter(cfg-system-sztp)#


**Removing Configuration**

To revert all SZTP configuration to default:
::

    dnRouter(cfg-system)# no sztp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.1    | Command introduced |
+---------+--------------------+

---

## tcp/path-mtu-discovery/host/admin-state.rst

system tcp path-mtu-discovery host admin-state
----------------------------------------------

**Minimum user role:** operator

Administratively enable/disable the path-mtu-discovery for 'from-us' control protocols that run over TCP. 
When enabled, packets are sent with the DF (Don't Fragment) bit set. If an intermediate router returns
an ICMP 'Fragmentation Needed' message, the sender will reduce the packet size accordingly to adjust to the path MTU

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system tcp path-mtu-discovery host

**Parameter table**

+-------------+-----------------------------------------------+--------------+---------+
| Parameter   | Description                                   | Range        | Default |
+=============+===============================================+==============+=========+
| admin-state | Configure the state of the path-mtu-discovery | | enabled    | enabled |
|             |                                               | | disabled   |         |
+-------------+-----------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)# path-mtu-discovery
    dnRouter(cfg-system-tcp-pmtud)# host
    dnRouter(system-tcp-pmtud-host)# admin-state disabled


**Removing Configuration**

To revert the tcp PMTUD host admin-state to default:
::

    dnRouter(system-tcp-pmtud-host)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## tcp/path-mtu-discovery/host/host.rst

system tcp path-mtu-discovery host
----------------------------------

**Minimum user role:** operator

Configure the path-mtu-discovery for 'from-us' control protocols that run over TCP.

**Command syntax: host**

**Command mode:** config

**Hierarchies**

- system tcp path-mtu-discovery

**Note**

- Notice the change in prompt.

- No command returns the all path-mtu-discovery host configurations to default.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)# path-mtu-discovery
    dnRouter(cfg-system-tcp-pmtud)# host
    dnRouter(cfg-system-tcp-pmtud-host)#


**Removing Configuration**

To revert the host config to default
::

    dnRouter(cfg-system-tcp-pmtud)#  no host

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## tcp/path-mtu-discovery/path-mtu-discovery.rst

system tcp path-mtu-discovery
-----------------------------

**Minimum user role:** operator

Configure the maximum transmission unit (MTU) size on a network path between two IPs.
Path MTU Discovery (PMTUD) is a technique to determine the smallest Maximum Transmission Unit (MTU)
along the path between a source and destination, ensuring packets are not fragmented. It works by
sending packets with the "Don't Fragment" (DF) bit set and reducing their size until they reach the
destination without being dropped.

**Command syntax: path-mtu-discovery**

**Command mode:** config

**Hierarchies**

- system tcp

**Note**

- Notice the change in prompt.

- No command returns the all path-mtu-discovery configurations to default.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)# path-mtu-discovery
    dnRouter(cfg-system-tcp-pmtud)#


**Removing Configuration**

To revert tcp and udp port range to default:
::

    dnRouter(cfg-system-tcp)#  no path-mtu-discovery

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## tcp/path-mtu-discovery/tcp-probing/admin-state.rst

system tcp path-mtu-discovery tcp-probing admin-state
-----------------------------------------------------

**Minimum user role:** operator

Enable/disable packet-layer path-mtu-discovery probing for 'from-us' control
protocols that run over TCP (as per RFC4821). 
When enabled, the sender gradually increases the size of TCP segments and monitors
for acknowledgments to detect the maximum usable path MTU without relying on ICMP messages.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system tcp path-mtu-discovery tcp-probing

**Parameter table**

+-------------+--------------------------------------------------------+--------------+---------+
| Parameter   | Description                                            | Range        | Default |
+=============+========================================================+==============+=========+
| admin-state | Enable/disable packet-layer path-mtu-discovery probing | | enabled    | enabled |
|             |                                                        | | disabled   |         |
+-------------+--------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)# path-mtu-discovery
    dnRouter(cfg-system-tcp-pmtud)# tcp-probing
    dnRouter(system-tcp-pmtud-probing)# admin-state disabled


**Removing Configuration**

To revert the tcp-probing admin-state to default:
::

    dnRouter(system-tcp-pmtud-host)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## tcp/path-mtu-discovery/tcp-probing/tcp-probing.rst

system tcp path-mtu-discovery tcp-probing
-----------------------------------------

**Minimum user role:** operator

Configuration per packet-layer path-mtu-discovery for 'from-us' control protocols that run over TCP.

**Command syntax: tcp-probing**

**Command mode:** config

**Hierarchies**

- system tcp path-mtu-discovery

**Note**

- Notice the change in prompt.

- No command returns the all path-mtu-discovery tcp-probing configurations to default.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)# path-mtu-discovery
    dnRouter(cfg-system-tcp-pmtud)# tcp-probing
    dnRouter(cfg-system-tcp-pmtud-probing)#


**Removing Configuration**

To revert the tcp-probing to default
::

    dnRouter(cfg-system-tcp-pmtud)#  no tcp-probing

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## tcp/port-range.rst

system tcp port-range
---------------------

**Minimum user role:** operator

Configure the range of tcp and udp ports

**Command syntax: port-range [port-range]**

**Command mode:** config

**Hierarchies**

- system tcp

**Note**

- To set TCP and UDP available port range for source port assignment.

- The lowest port number that can be assigned is 16384.

- The highest port number that can be assigned is 65535.

- The minimum port range is of at least 16384 ports.

- Active sessions will not be affected as a result of port range changes.

- Port range configuration applies both to in-band and out-of-band ports.

- No command returns the port range to default.

**Parameter table**

+------------+-----------------------------------------------------------------+-------------+-------------+
| Parameter  | Description                                                     | Range       | Default     |
+============+=================================================================+=============+=============+
| port-range | Minimum TCP and UDP port number Maximum TCP and UDP port number | 16384-65535 | 32768-60999 |
+------------+-----------------------------------------------------------------+-------------+-------------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)# port-range 16384-65535
    dnRouter(cfg-system-tcp)# port-range 16384-30000
    Error: invalid port range


**Removing Configuration**

To revert tcp and udp port range to default:
::

    dnRouter(cfg-system-tcp)# no port-range

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.1    | Command introduced |
+---------+--------------------+

---

## tcp/tcp.rst

system tcp
----------

**Minimum user role:** operator

The Transmission Control Protocol (TCP) is used to connect network devices over the internet.
TCP defines the behavior of data exchange over the internet. It determines the way data is
addressed, transmitted and received.

**Command syntax: tcp**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.

- No command returns the all tcp configurations to default.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# tcp
    dnRouter(cfg-system-tcp)#


**Removing Configuration**

To revert tcp config to default
::

    dnRouter(cfg-system)#  no tcp

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.0    | Command introduced |
+---------+--------------------+

---

## telemetry/admin-state.rst

system telemetry admin-state
----------------------------

**Minimum user role:** operator

To enable/disable system wide dial-out telemetry:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system telemetry

**Parameter table**

+-------------+---------------------------------------------------------------------+--------------+---------+
| Parameter   | Description                                                         | Range        | Default |
+=============+=====================================================================+==============+=========+
| admin-state | Set whether system wide telemetry dial-out feature enabled/disabled | | enabled    | enabled |
|             |                                                                     | | disabled   |         |
+-------------+---------------------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# admin-state disabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-telemetry)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/class-of-service.rst

system telemetry class-of-service
---------------------------------

**Minimum user role:** operator

Set the DSCP values for DNOS dial-out telemetry:

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system telemetry

**Parameter table**

+------------------+-------------------------------------+-------+---------+
| Parameter        | Description                         | Range | Default |
+==================+=====================================+=======+=========+
| class-of-service | DSCP of generated telemetry packets | 0-63  | 16      |
+------------------+-------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# class-of-service 32


**Removing Configuration**

To revert DSCP to default:
::

    dnRouter(cfg-system-telemetry)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination-group.rst

system telemetry destination-group
----------------------------------

**Minimum user role:** operator

To configure a destination group:

**Command syntax: destination-group [destination-group]**

**Command mode:** config

**Hierarchies**

- system telemetry

**Note**

- Up to 32 destination groups can be configured.

**Parameter table**

+-------------------+--------------------------------+------------------+---------+
| Parameter         | Description                    | Range            | Default |
+===================+================================+==================+=========+
| destination-group | Name of the destination group. | | string         | \-      |
|                   |                                | | length 1-255   |         |
+-------------------+--------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-dstgrp)#
    dnRouter(cfg-system)# telemetry destination-group production
    dnRouter(cfg-system-telemetry-dstgrp)#
    dnRouter(cfg-system)# telemetry destination-group staging
    dnRouter(cfg-system-telemetry-dstgrp)#


**Removing Configuration**

To delete the configuration under destination-group group:
::

    dnRouter(cfg-system-telemetry)# no destination-group lab

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/compression.rst

system telemetry destination-group destination port compression
---------------------------------------------------------------

**Minimum user role:** operator

To configure telemetry compression to a destination:

**Command syntax: compression [compression]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Parameter table**

+-------------+----------------------------------------------------------------------------------+----------+---------+
| Parameter   | Description                                                                      | Range    | Default |
+=============+==================================================================================+==========+=========+
| compression | The compression type to use on the data. If no value is entered, no compression  | | none   | none    |
|             | is used.                                                                         | | gzip   |         |
+-------------+----------------------------------------------------------------------------------+----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination ip 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)#
    dnRouter(cfg-telemetry-dstgrp-dest)# compression gzip
    dnRouter(cfg-telemetry-dstgrp-dest)# compression none


**Removing Configuration**

To revert compression to default:
::

    dnRouter(cfg-telemetry-dstgrp-dest)# no compression

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/destination.rst

system telemetry destination-group destination port
---------------------------------------------------

**Minimum user role:** operator

To configure the destination address where dial-out telemetry data is transmitted:

**Command syntax: destination [ip] port [port]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group

**Note**

- Up to 4 destinations can be configured in destination group.

**Parameter table**

+-----------+-----------------------+--------------+---------+
| Parameter | Description           | Range        | Default |
+===========+=======================+==============+=========+
| ip        | IPv4 or IPv6 address. | | A.B.C.D    | \-      |
|           |                       | | X:X::X:X   |         |
+-----------+-----------------------+--------------+---------+
| port      | Port number.          | 0-65535      | \-      |
+-----------+-----------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)#
    {'dnRouter(cfg-system-telemetry-destgrp)# destination a1b:2c:2f4c:1:': 'port 7503'}
    dnRouter(cfg-telemetry-dstgrp-dest)#


**Removing Configuration**

To remove destination from destination group:
::

    dnRouter(cfg-system-telemetry-destgrp)# # no destination ip a1b:2c:2f4c:1:: port 7503

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/encoding.rst

system telemetry destination-group destination port encoding
------------------------------------------------------------

**Minimum user role:** operator

To configure telemetry encoding to a destination:

**Command syntax: encoding [encoding]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Parameter table**

+-----------+--------------------------------------+--------------+---------+
| Parameter | Description                          | Range        | Default |
+===========+======================================+==============+=========+
| encoding  | Encoding of data sent to destination | | json       | json    |
|           |                                      | | protobuf   |         |
+-----------+--------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination ip 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)#
    dnRouter(cfg-telemetry-dstgrp-dest)# encoding json
    dnRouter(cfg-telemetry-dstgrp-dest)# encoding protobuf


**Removing Configuration**

To revert encoding to default:
::

    dnRouter(cfg-telemetry-dstgrp-dest)# no encoding

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 25.2    | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/heartbeat-interval.rst

system telemetry destination-group destination port heartbeat-interval
----------------------------------------------------------------------

**Minimum user role:** operator

To configure the heartbeat-interval for a telemetry destination:

**Command syntax: heartbeat-interval [heartbeat-interval]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Parameter table**

+--------------------+-----------------------------------------------------------------------+---------+---------+
| Parameter          | Description                                                           | Range   | Default |
+====================+=======================================================================+=========+=========+
| heartbeat-interval | Heartbeat interval per destination in seconds (0 means no heartbeat)  | 0-86400 | 0       |
+--------------------+-----------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination ip 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)#
    dnRouter(cfg-telemetry-dstgrp-dest)# heartbeat-interval 20


**Removing Configuration**

To revert heartbeat-interval to default:
::

    dnRouter(cfg-system-telemetry-dest-group-dest)# no heartbeat-interval

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/retry-timer.rst

system telemetry destination-group destination port retry-timer
---------------------------------------------------------------

**Minimum user role:** operator

To configure the retry-timer for a telemetry destination:

**Command syntax: retry-timer [retry-timer]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Parameter table**

+-------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter   | Description                                                                      | Range   | Default |
+=============+==================================================================================+=========+=========+
| retry-timer | Time before another connection is used to the destination after a failure to     | 10-1200 | 30      |
|             | establish the connection.                                                        |         |         |
+-------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination ip 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)#
    dnRouter(cfg-telemetry-dstgrp-dest)# retry-timer 20


**Removing Configuration**

To revert retry-timer to default:
::

    dnRouter(cfg-system-telemetry-dest-group-dest)# no retry-timer

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/send-timeout.rst

system telemetry destination-group destination port send-timeout
----------------------------------------------------------------

**Minimum user role:** operator

To configure the send-timeout for a telemetry destination:

**Command syntax: send-timeout [send-timeout]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Parameter table**

+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+
| Parameter    | Description                                                                                                                                               | Range | Default |
+==============+===========================================================================================================================================================+=======+=========+
| send-timeout | The duration in seconds that the system waits for acknowledgment of a sent packet before considering it lost and retransmitting it. 0 means no timeout.   | 0-30  | 30      |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination ip 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)#
    dnRouter(cfg-telemetry-dstgrp-dest)# send-timeout 20


**Removing Configuration**

To revert send-timeout to default:
::

    dnRouter(cfg-system-telemetry-dest-group-dest)# no send-timeout

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/source-interface.rst

system telemetry destination-group destination port source-interface
--------------------------------------------------------------------

**Minimum user role:** operator

To configure a source-interface for a telemetry destination:

**Command syntax: source-interface [source-interface]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Note**
- "This command is applicable to the following interfaces: physical interfaces, logical interfaces (sub-interfaces), bundle interfaces, bundle sub-interfaces, and loopback interfaces."
- "The source-interface must have an IP address configured as the packets sent include the source-interface IP address."
- "By default, the global configuration for the source interface uses "system inband source-interface" for VRF default and "network-services vrf management-plane source-interface" for non-default in-band management VRFs."
- "If the source-interface under destination is specified it overrides the global VRF source-interface configuration for that server."
- "The source-interface must be associated with the same VRF as the destination."
- "You cannot modify source-interfaces for mgmt0 VRFs."


**Parameter table**

+------------------+--------------------------------------------+------------------+---------+
| Parameter        | Description                                | Range            | Default |
+==================+============================================+==================+=========+
| source-interface | The source interface for the subscription. | | string         | \-      |
|                  |                                            | | length 1-255   |         |
+------------------+--------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry destination-group lab
    dnRouter(cfg-system-telemetry-destgrp)# destination ip 100.0.0.2 port 5000
    dnRouter(cfg-telemetry-dstgrp-dest)# source-interface bundle-1.1


**Removing Configuration**

To revert source-interface to default:
::

    dnRouter(cfg-telemetry-dstgrp-dest)# no source-interface

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/destination-group/destination/vrf.rst

system telemetry destination-group destination port vrf
-------------------------------------------------------

**Minimum user role:** operator

To configure a VRF for use to the telemetry destination:

**Command syntax: vrf [vrf]**

**Command mode:** config

**Hierarchies**

- system telemetry destination-group destination port

**Parameter table**

+-----------+------------------------------------+------------------+---------+
| Parameter | Description                        | Range            | Default |
+===========+====================================+==================+=========+
| vrf       | VRF to use for destination session | | string         | default |
|           |                                    | | length 1-255   |         |
+-----------+------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# destination-group lab
    dnRouter(cfg-system-telemetry-dest-group)# destination ip 1.1.1.1 port 34000
    dnRouter(cfg-system-telemetry-dest-group-dest)# vrf default


**Removing Configuration**

To revert vrf to default:
::

    dnRouter(cfg-system-telemetry-dest-group-dest)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/sensor-group/sensor-group.rst

system telemetry sensor-group
-----------------------------

**Minimum user role:** operator

A sensor group enables targeted monitoring of specific YANG model elements. It allows users to specify which portions of the YANG model are of interest and should be included in the telemetry subscription. A sensor group can encompass a range of YANG paths representing containers, lists, or leaf nodes.

**Command syntax: sensor-group [sensor-group]**

**Command mode:** config

**Hierarchies**

- system telemetry

**Note**

- Up to 512 sensor-groups groups can be configured.

**Parameter table**

+--------------+--------------------------+------------------+---------+
| Parameter    | Description              | Range            | Default |
+==============+==========================+==================+=========+
| sensor-group | Name of the sensor group | | string         | \-      |
|              |                          | | length 1-255   |         |
+--------------+--------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# sensor-group default
    dnRouter(cfg-system-telemetry-snsrgrp)#
    dnRouter(cfg-system-telemetry)# sensor-group bundle-collection
    dnRouter(cfg-system-telemetry-snsrgrp)#


**Removing Configuration**

To delete the configuration under sensor group:
::

    dnRouter(cfg-system-telemetry)# no sensor-group bundle-collection

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/sensor-group/sensor-path.rst

system telemetry sensor-group sensor-path
-----------------------------------------

**Minimum user role:** operator

To configure a sensor-path to collect data from the system:

**Command syntax: sensor-path [sensor-path]** [, sensor-path, sensor-path]

**Command mode:** config

**Hierarchies**

- system telemetry sensor-group

**Note**

- Up to 16 sensor paths can be configured in a sensor group.

- The YANG path can point to a container, list, or leaf node.

- The YANG path can target specific elements, such as "/drivenets-top/interfaces/interface[name='bundle-1']/oper-items/counters/forwarding-counters", pinpointing an individual interface forwarding counters.

- Wildcards ("\*") can be used to select multiple elements that match a pattern, such as "/drivenets-top/interfaces/interface[name='bundle-\*']", to monitor all interfaces with names starting with "bundle".

- It is recommended to select specific, granular YANG paths for the sensor group to ensure minimal and relevant telemetry data is monitored. Avoid high-level hierarchy selections to prevent excess data transmission and maintain system performance.

**Parameter table**

+-------------+------------------------------------------+-------+---------+
| Parameter   | Description                              | Range | Default |
+=============+==========================================+=======+=========+
| sensor-path | List of sensor paths in the sensor group | \-    | \-      |
+-------------+------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# sensor-group default
    dnRouter(cfg-system-telemetry-snsrgrp)# sensor-path "/drivenets-top/interface/interface[name='bundle*'']/oper-items/counters/forwarding-counters"
    dnRouter(cfg-system-telemetry-snsrgrp)# sensor-path "/drivenets-top/interface/interface[name='ge100-0/0/1']/oper-items/counters/ethernet-counters/rx-octets"
    dnRouter(cfg-system-telemetry-snsrgrp)# sensor-path "/drivenets-top/interface/interface[name='ge100-0/0/1']"


**Removing Configuration**

To delete sensor path from sensor group:
::

    dnRouter(cfg-system-telemetry-snsrgrp)# no sensor-path "/drivenets-top/interface/interface[name='ge100-0/0/1']"

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/sensor-group/sensor-path/sensor-path.rst

system telemetry sensor-group sensor-path
-----------------------------------------

**Minimum user role:** operator

This command configures a sensor-path to collect data from the system.

**Command syntax: sensor-path [sensor-path]**

**Command mode:** config

**Hierarchies**

- system telemetry sensor-group

**Note**

- Up to 16 sensor paths can be configured in a sensor group.

- The YANG path can point to a container, list, or leaf node.

- The YANG path can target specific elements, such as "/drivenets-top/interfaces/interface[name='bundle-1']/oper-items/counters/forwarding-counters", pinpointing an individual interface forwarding counters.

- Wildcards ("\*") can be used to select multiple elements that match a pattern, such as "/drivenets-top/interfaces/interface[name='bundle-\*']", to monitor all interfaces with names starting with "bundle".

- It is recommended to select specific, granular YANG paths for the sensor group to ensure minimal and relevant telemetry data is monitored. Avoid high-level hierarchy selections to prevent excess data transmission and maintain system performance.

**Parameter table**

+-------------+---------------------------+-------+---------+
| Parameter   | Description               | Range | Default |
+=============+===========================+=======+=========+
| sensor-path | The YANG path to a sensor | \-    | \-      |
+-------------+---------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# sensor-group default
    dnRouter(cfg-system-telemetry-snsrgrp)# sensor-path "/drivenets-top/interface/interface[name='bundle*'']/oper-items/counters/forwarding-counters"
    dnRouter(cfg-telemetry-snsrgrp-snsrpth)#
    dnRouter(cfg-system-telemetry-snsrgrp)# sensor-path "/drivenets-top/interface/interface[name='ge100-0/0/1']/oper-items/counters/ethernet-counters/rx-octets"
    dnRouter(cfg-telemetry-snsrgrp-snsrpth)#
    dnRouter(cfg-system-telemetry-snsrgrp)# sensor-path "/drivenets-top/interface/interface[name='ge100-0/0/1']"
    dnRouter(cfg-telemetry-snsrgrp-snsrpth)#


**Removing Configuration**

To delete sensor path from sensor group:
::

    dnRouter(cfg-system-telemetry)# no sensor-path "/drivenets-top/interface/interface[name='ge100-0/0/1']"

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/subscription/admin-state.rst

system telemetry subscription admin-state
-----------------------------------------

**Minimum user role:** operator

To enable/disable a telemetry subscription:

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system telemetry subscription

**Parameter table**

+-------------+----------------------------------------------+--------------+---------+
| Parameter   | Description                                  | Range        | Default |
+=============+==============================================+==============+=========+
| admin-state | Set whether subscription is enabled/disabled | | enabled    | enabled |
|             |                                              | | disabled   |         |
+-------------+----------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# subscription my-subscription
    dnRouter(cfg-system-telemetry-subscription)# admin-state disabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-telemetry-subscription)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/subscription/destination-profile.rst

system telemetry subscription destination-profile
-------------------------------------------------

**Minimum user role:** operator

The Destination Profile is the attachment of a Destination Group to a subscription:

**Command syntax: destination-profile [destination-profile]**

**Command mode:** config

**Hierarchies**

- system telemetry subscription

**Parameter table**

+---------------------+-----------------------------------------------+------------------+---------+
| Parameter           | Description                                   | Range            | Default |
+=====================+===============================================+==================+=========+
| destination-profile | Destination Group to link to the Subscription | | string         | \-      |
|                     |                                               | | length 1-255   |         |
+---------------------+-----------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# subscription my-subscription
    dnRouter(cfg-system-telemetry-subscription)# destination-profile DGroup
    dnRouter(cfg-system-telemetry-subscription)#


**Removing Configuration**

To remove a specific destination-profile from the subscription:
::

    dnRouter(cfg-system-telemetry-subscription)# no destination-profile DGroup

To remove all clients from the client-list:
::

    dnRouter(cfg-system-telemetry-subscription)# no destination-profile

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/subscription/sensor-profile/sample-interval.rst

system telemetry subscription sensor-profile sample-interval
------------------------------------------------------------

**Minimum user role:** operator

To configure a sample-interval for a sensor-profile, which is the interval between two consecutive samples for the sensor-profile:

**Command syntax: sample-interval [sample-interval]**

**Command mode:** config

**Hierarchies**

- system telemetry subscription sensor-profile

**Parameter table**

+-----------------+-----------------------------+---------+---------+
| Parameter       | Description                 | Range   | Default |
+=================+=============================+=========+=========+
| sample-interval | Sample interval in seconds. | 5-86400 | \-      |
+-----------------+-----------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# subscription my-subscription
    dnRouter(cfg-system-telemetry-subscription)# sensor-profile bundle-collection
    dnRouter(cfg-telemetry-subscription-snsrprof)# sample-interval 30


**Removing Configuration**

To remove sample-interval from sensor profile:
::

    dnRouter(cfg-telemetry-subscription-snsrprof)# no sample-interval

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/subscription/sensor-profile/sensor-profile.rst

system telemetry subscription sensor-profile
--------------------------------------------

**Minimum user role:** operator

Sensor Profile is the attachment of a Sensor Group to a subscription:

**Command syntax: sensor-profile [sensor-profile]**

**Command mode:** config

**Hierarchies**

- system telemetry subscription

**Note**

- Up to 16 sensor profiles can be configured in subscription.

**Parameter table**

+----------------+--------------------------------------------------+------------------+---------+
| Parameter      | Description                                      | Range            | Default |
+================+==================================================+==================+=========+
| sensor-profile | The Sensor Group that links to the subscription. | | string         | \-      |
|                |                                                  | | length 1-255   |         |
+----------------+--------------------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# subscription my-subscription
    dnRouter(cfg-system-telemetry-subscription)# sensor-profile bundle-collection
    dnRouter(cfg-telemetry-subscription-snsrprof)#


**Removing Configuration**

To delete the configuration under sensor profile:
::

    dnRouter(cfg-system-telemetry)# no sensor-profile bundle-collection

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/subscription/subscription.rst

system telemetry subscription
-----------------------------

**Minimum user role:** operator

To configure a dial-out telemetry subscription:

**Command syntax: subscription [subscription]**

**Command mode:** config

**Hierarchies**

- system telemetry

**Note**

- Up to 16 subscriptions can be configured.

**Parameter table**

+--------------+-----------------------------------------+------------------+---------+
| Parameter    | Description                             | Range            | Default |
+==============+=========================================+==================+=========+
| subscription | Unique identifier for the subscription. | | string         | \-      |
|              |                                         | | length 1-255   |         |
+--------------+-----------------------------------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)# subscription my-subscription
    dnRouter(cfg-system-telemetry-subscription)#


**Removing Configuration**

To delete the configuration under subscription:
::

    dnRouter(cfg-system-telemetry)# no subscription my-subscription

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telemetry/telemetry.rst

system telemetry
----------------

**Minimum user role:** operator


"Dial-out telemetry enables the transmission of performance monitoring counters and operational state parameters in a real-time and scalable manner. Unlike conventional performance monitoring gathering methods like SNMP polling, dial-out telemetry employs an outbound approach to transport performance monitoring  data from the router, to the PM collector.

With dial-out telemetry, the collector is given the ability to specify precisely which metrics or operational items should be streamed by the device. Furthermore, it allows the determination of a specific destination for data transmission. Dial-out telemetry also caters to the control of connection parameters such as the Virtual Routing and Forwarding (VRF) and the source interface from which data is sent. A multitude of other parameters also exist, which provides granular control over the data transmission and connectivity. To configure dial-out telemetry, enter telemetry configuration mode:"

**Command syntax: telemetry**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telemetry
    dnRouter(cfg-system-telemetry)#


**Removing Configuration**

To revert all dial-out telemetry configuration to default:
::

    dnRouter(cfg-system)# no telemetry

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 19.10   | Command introduced |
+---------+--------------------+

---

## telnet/client/admin-state.rst

system telnet client admin-state
--------------------------------

**Minimum user role:** operator

To configure the admin-state for the telnet client.

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system telnet client

**Note**

- Active sessions are immediately disconnected when configuration is set to "disabled"

.. - no command returns the state to default.

  - Active sessions are immediately disconnected upon configuration of "disabled".

**Parameter table**

+-------------+---------------------------------------+--------------+---------+
| Parameter   | Description                           | Range        | Default |
+=============+=======================================+==============+=========+
| admin-state | The admin-state for the telnet client | | enabled    | enabled |
|             |                                       | | disabled   |         |
+-------------+---------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# client admin-state enabled
    dnRouter(cfg-system-telnet)# client admin-state disabled


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-telnet)# no client admin-state

**Command History**

+---------+----------------------------------------+
| Release | Modification                           |
+=========+========================================+
| 13.1    | Command introduced                     |
+---------+----------------------------------------+
| 17.1    | Default admin-state changed to enabled |
+---------+----------------------------------------+

---

## telnet/client/client.rst

system telnet client
--------------------

**Minimum user role:** operator

To configure the Telnet client parameters.

**Command syntax: client**

**Command mode:** config

**Hierarchies**

- system telnet

**Note**

- Notice the change in prompt.

.. - no command returns the configuration to default.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# client
    dnRouter(cfg-system-telnet-client)#


**Removing Configuration**

Removes telnet client configuration:
::

    dnRouter(cfg-system-telnet)# no client

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/admin-state.rst

system telnet server admin-state
--------------------------------

**Minimum user role:** operator

The Telnet server supports connections on the following interfaces:

This command is applicable to the following interfaces:

- physical interfaces

- logical interfaces (sub-interfaces)

- bundle interfaces

- bundle sub-interfaces

- loopback interfaces

- mgmt-ncc interfaces

**Command syntax: admin-state [admin-state]**

**Command mode:** config

**Hierarchies**

- system telnet server

**Note**

- Telnet is supported on the both default and mgmt0 VRFs.

- Active sessions are not disconnected when the configuration is set to "disabled".

.. - no command returns the admin-state to default value.

  - Active sessions are not disconnected upon configuration of "disable".

  - Only new sessions can not be established

  - Telnet server supports connections on the following interfaces

  - physical

  - bundle

  - sub-interface(physical.vlan, bundle.vlan)

  - loopback

  - mgmt

  - Support Telnet for default VRF only

**Parameter table**

+-------------+------------------------------------------------+--------------+----------+
| Parameter   | Description                                    | Range        | Default  |
+=============+================================================+==============+==========+
| admin-state | The administrative state for the telnet server | | enabled    | disabled |
|             |                                                | | disabled   |          |
+-------------+------------------------------------------------+--------------+----------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server
    dnRouter(cfg-system-telnet-server)# admin-state disable


**Removing Configuration**

To revert admin-state to default:
::

    dnRouter(cfg-system-telnet-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/class-of-service.rst

system telnet server class-of-service
-------------------------------------

**Minimum user role:** operator

With class of service (CoS) you can classify traffic to provide different service levels to
different traffic so that when congestion occurs, you can control which packets receive priority.

To configure the system class-of-service for telnet packets generated by the Telnet server or by DNOS.

**Command syntax: class-of-service [class-of-service]**

**Command mode:** config

**Hierarchies**

- system telnet server

**Note**

- system telnet server

.. **Note**

  - Value is the dscp value on the ip header

**Parameter table**

+------------------+---------------------------------------------------+-------+---------+
| Parameter        | Description                                       | Range | Default |
+==================+===================================================+=======+=========+
| class-of-service | The class-of-service for generated telnet packets | 0-56  | 16      |
+------------------+---------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server
    dnRouter(cfg-system-telnet-server)# class-of-service 54


**Removing Configuration**

To remove class-of-service:
::

    dnRouter(cfg-system-telnet-server)# no class-of-service

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/max-sessions.rst

system telnet server max-sessions
---------------------------------

**Minimum user role:** operator

The system supports up to 32 concurrent Telnet sessions. To change the number of concurrent sessions allowed on the system:

**Command syntax: max-sessions [max-sessions]**

**Command mode:** config

**Hierarchies**

- system telnet server

**Note**

-  no command returns the number of maximum sessions to default

**Parameter table**

+--------------+--------------------------------------------------+-------+---------+
| Parameter    | Description                                      | Range | Default |
+==============+==================================================+=======+=========+
| max-sessions | The maximum number of concurrent telnet sessions | 1-32  | 10      |
+--------------+--------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server
    dnRouter(cfg-system-telnet-server)# max-sessions 5


**Removing Configuration**

To remove max-sessions:
::

    dnRouter(cfg-system-telnet-server)# no max-sessions

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/server.rst

system telnet server
--------------------

**Minimum user role:** operator

To configure the telnet server parameters.

**Command syntax: server**

**Command mode:** config

**Hierarchies**

- system telnet

**Note**

- Notice the change in prompt.

.. - no commands removes configuration/set the default value.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server vrf default
    dnRouter(cfg-telnet-server-vrf)# client-list 2001:ab12::1/128
    dnRouter(cfg-telnet-server-vrf)# client-list type deny
    dnRouter(cfg-system-telnet-server-vrf)# !
    dnRouter(cfg-system-telnet-server)# max-sessions 5
    dnRouter(cfg-system-telnet-server)# admin-state disable


**Removing Configuration**

Removes telnet server configuration:
::

    dnRouter(cfg-telnet-server-vrf)# no client-list

dnRouter(cfg-system-telnet-server)# no max-sessions

dnRouter(cfg-system-telnet-server)# no admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/vrf/client-list_type.rst

system telnet server vrf client-list type
-----------------------------------------

**Minimum user role:** operator

This command defines whether the configured client-list (see system telnet server vrf client-list)
is a white list or a black list. This will determine if the listed clients will be granted access
to the system in-band telnet server.

**Command syntax: client-list type [list-type]**

**Command mode:** config

**Hierarchies**

- system telnet server vrf

**Note**

- If client-list type is set to "allow", the client-list must not be empty.

.. - no command return the list type to its default value

  - if client-list type is set to "allow", client-list must not be empty

**Parameter table**

+-----------+-------------------------------------------+-----------+---------+
| Parameter | Description                               | Range     | Default |
+===========+===========================================+===========+=========+
| list-type | The type of list of incoming IP addresses | | allow   | deny    |
|           |                                           | | deny    |         |
+-----------+-------------------------------------------+-----------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server vrf default
    dnRouter(cfg-telnet-server-vrf)# client-list type allow


**Removing Configuration**

To revert the list type to its default value:
::

    dnRouter(cfg-telnet-server-vrf)# no client-list type

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/vrf/client-list.rst

system telnet server vrf client-list
------------------------------------

**Minimum user role:** operator

To configure a list of IP addresses that will or will not be permitted access to Telnet server sessions (black or white list):

**Command syntax: client-list [IP-address]** [, IP-address, IP-address]

**Command mode:** config

**Hierarchies**

- system telnet server vrf

**Note**

- A client-list configured under VRF mgmt0 will be implicitly attached and applied on the host out-of-band interfaces (mgmt-ncc-0 and mgmt-ncc-1).

.. - no command without value removes all the IP addresses from the list.

  - no command with value removes the specified IP addresses from the list.

  Scale validation:

  - up to 1000 clients (for both of addresses together) per vrf

  - if client-list type is set to "allow", client-list must not be empty

**Parameter table**

+------------+----------------------------------------------------------------------------------+----------------+---------+
| Parameter  | Description                                                                      | Range          | Default |
+============+==================================================================================+================+=========+
| IP-address | Configure incoming IP addresses that will or will not be permitted access to     | | A.B.C.D/x    | \-      |
|            | Telnet server sessions.                                                          | | X:X::X:X/x   |         |
+------------+----------------------------------------------------------------------------------+----------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server vrf default
    dnRouter(cfg-telnet-server-vrf)# client-list 200.10.10.6/32
    dnRouter(cfg-telnet-server-vrf)# client-list 2001:ab12::1/128
    dnRouter(cfg-telnet-server-vrf)# client-list 50.1.22.0/24
    dnRouter(cfg-telnet-server-vrf)# client-list 2001:db8:2222::/48


**Removing Configuration**

To remove IP address(es) from the list:
::

    dnRouter(cfg-telnet-server-vrf)# no client-list 2001:ab12::1/128

dnRouter(cfg-telnet-server-vrf)# no client-list

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/server/vrf/vrf.rst

system telnet server vrf
------------------------

**Minimum user role:** operator

To set Telnet client-list attachment per VRF:

**Command syntax: vrf [vrf-name]**

**Command mode:** config

**Hierarchies**

- system telnet server

**Note**

- Notice the change in prompt.

.. -  vrf definition level is introduced for attaching client-list.

  - vrf "default" represents the in-band management, while vrf "mgmt0" represents the out-of-band management.

  - no command deletes the configuration under the specific vrf.

**Parameter table**

+-----------+---------------------------------------------------------------------------------+-------------------------+---------+
| Parameter | Description                                                                     | Range                   | Default |
+===========+=================================================================================+=========================+=========+
| vrf-name  | Allows to define separate Telnet client-lists per VRF (in-band and out-of-band) | | default - in-band     | \-      |
|           |                                                                                 | | mgmt0 - out-of-band   |         |
+-----------+---------------------------------------------------------------------------------+-------------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# server vrf default
    dnRouter(cfg-telnet-server-vrf)# !
    dnRouter(cfg-system-telnet)#
    dnRouter(cfg-system-telnet)# server vrf mgmt0
    dnRouter(cfg-telnet-server-vrf)# !


**Removing Configuration**

To delete the configuration under a specific vrf:
::

    dnRouter(cfg-system-telnet-server)# no vrf

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## telnet/telnet.rst

system telnet
-------------

**Minimum user role:** operator

The Telnet server enables interaction with a Telnet client through the telnet protocol. It allows
to manage the system over telnet via in-band and via out-of-band management networks.
To enter Telnet configuration mode:

**Command syntax: telnet**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# telnet
    dnRouter(cfg-system-telnet)# client admin-state enabled
    dnRouter(cfg-system-telnet)# server
    dnRouter(cfg-system-telnet-server)#


**Removing Configuration**

Removes telnet configuration:
::

    dnRouter(cfg-system-telnet)# no client admin-state

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 13.1    | Command introduced |
+---------+--------------------+

---

## utilization.rst

system utilization
------------------

**Minimum user role:** operator

Enter the resource utilization related threshold configuration options.

To configure the resource utilization parameters:


**Command syntax: utilization**

**Command mode:** config

**Hierarchies**

- system

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)#


**Removing Configuration**

Remove all configured thresholds
::

    dnRouter(cfg-system-util)# 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type.rst

system utilization node-type
----------------------------

**Minimum user role:** operator

Enter the node type for setting the resource utilization options.

To configure the node type for the resource utilization parameters:


**Command syntax: node-type [node-type]**

**Command mode:** config

**Hierarchies**

- system utilization

**Note**

- Notice the change in prompt.

**Parameter table**

+-----------+-------------+---------+---------+
| Parameter | Description | Range   | Default |
+===========+=============+=========+=========+
| node-type | Node type   | | ncc   | \-      |
|           |             | | ncp   |         |
|           |             | | ncf   |         |
+-----------+-------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)#


**Removing Configuration**

Not applicable
::

    dnRouter(cfg-system-util-ncp)# 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/cpu.rst

system utilization node-type cpu
--------------------------------

**Minimum user role:** operator

Enter the resource utilization cpu related threshold configuration options.

To configure resource utilization cpu parameters:


**Command syntax: cpu**

**Command mode:** config

**Hierarchies**

- system utilization node-type

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# cpu
    dnRouter(cfg-system-util-ncp-cpu)#


**Removing Configuration**

Remove all configured thresholds
::

    dnRouter(cfg-system-util-ncp-cpu)# 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/cpu/max-cpu-util-threshold.rst

system utilization node-type cpu cpu-util-threshold
---------------------------------------------------

**Minimum user role:** operator

To configure the CPU utilization rate threshold:


**Command syntax: cpu-util-threshold [cpu-util-threshold]**

**Command mode:** config

**Hierarchies**

- system utilization node-type cpu

**Note**
- The command is applicable to the platform CPU utilization threshold.


**Parameter table**

+--------------------+-------------+-------+---------+
| Parameter          | Description | Range | Default |
+====================+=============+=======+=========+
| cpu-util-threshold | percentage  | 0-100 | 90      |
+--------------------+-------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# cpu
    dnRouter(cfg-system-util-ncp-cpu)# cpu-util-threshold 90


**Removing Configuration**

To set cpu utilization rate threshold to default:
::

    dnRouter(cfg-system-util-ncp-cpu)# no cpu-util-threshold

**Command History**

+---------+-------------------------------------------------------+
| Release | Modification                                          |
+=========+=======================================================+
| 18.1    | Command introduced                                    |
+---------+-------------------------------------------------------+
| 18.2    | Hierarchy changed from interfaces util-rate-threshold |
+---------+-------------------------------------------------------+

---

## utilization/node-type/disk.rst

system utilization node-type disk
---------------------------------

**Minimum user role:** operator

Enter the resource utilization storage disk related threshold configuration options.

To configure the resource utilization disk parameters:


**Command syntax: disk**

**Command mode:** config

**Hierarchies**

- system utilization node-type

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# disk
    dnRouter(cfg-system-util-ncp-disk)#


**Removing Configuration**

Remove all configured thresholds
::

    dnRouter(cfg-system-util-ncp-disk)# 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/disk/max-disk-util-threshold.rst

system utilization node-type disk disk-util-threshold
-----------------------------------------------------

**Minimum user role:** operator

"To configure the disk utilization threshold:"


**Command syntax: disk-util-threshold [disk-util-threshold]**

**Command mode:** config

**Hierarchies**

- system utilization node-type disk

**Note**
- "The command is applicable to the platform disk utilization threshold."


**Parameter table**

+---------------------+-------------+-------+---------+
| Parameter           | Description | Range | Default |
+=====================+=============+=======+=========+
| disk-util-threshold | percentage  | 0-100 | 80      |
+---------------------+-------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# disk
    dnRouter(cfg-system-util-ncp-disk)# disk-util-threshold 90


**Removing Configuration**

To set disk utilization threshold to default:
::

    dnRouter(cfg-system-util-ncp-disk)# no disk-util-threshold

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/disk/max-disk-write-bw-util-threshold.rst

system utilization node-type disk disk-write-bw-util-threshold
--------------------------------------------------------------

**Minimum user role:** operator

"To configure the disk max write bandwidth utilization threshold:"


**Command syntax: disk-write-bw-util-threshold [disk-write-bw-util-threshold]**

**Command mode:** config

**Hierarchies**

- system utilization node-type disk

**Note**
- "The command is applicable to the platform disk write bandwidth utilization threshold."


**Parameter table**

+------------------------------+-------------+-------+---------+
| Parameter                    | Description | Range | Default |
+==============================+=============+=======+=========+
| disk-write-bw-util-threshold | percentage  | 0-100 | 90      |
+------------------------------+-------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# disk
    dnRouter(cfg-system-util-ncp-disk)# disk-write-bw-util-threshold 90


**Removing Configuration**

To set disk write bandwidth utilization threshold to default:
::

    dnRouter(cfg-system-util-ncp-disk)# no disk-write-bw-util-threshold

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/fd.rst

system utilization node-type fd
-------------------------------

**Minimum user role:** operator

Enter the resource utilization file-descriptors related threshold configuration options.

To configure resource utilization file descriptors parameters:


**Command syntax: fd**

**Command mode:** config

**Hierarchies**

- system utilization node-type

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# fd
    dnRouter(cfg-system-util-ncp-fd)#


**Removing Configuration**

Remove all configured thresholds
::

    dnRouter(cfg-system-util-ncp-fd)#

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/memory.rst

system utilization node-type memory
-----------------------------------

**Minimum user role:** operator

Enter the resource utilization memory related threshold configuration options.

To configure the resource utilization memory parameters:


**Command syntax: memory**

**Command mode:** config

**Hierarchies**

- system utilization node-type

**Note**

- Notice the change in prompt.

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# memory
    dnRouter(cfg-system-util-ncp-memory)#


**Removing Configuration**

Remove all configured thresholds
::

    dnRouter(cfg-system-util-ncp-memory)# 

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/memory/critical-threshold.rst

system utilization node-type memory process critical-threshold
--------------------------------------------------------------

**Minimum user role:** operator

"Configure the critical level memory utilization threshold of a specific process per node type in MBytes."


**Command syntax: critical-threshold [critical-threshold]**

**Command mode:** config

**Hierarchies**

- system utilization node-type memory process

**Parameter table**

+--------------------+---------------------------------------------------------+--------------+---------+
| Parameter          | Description                                             | Range        | Default |
+====================+=========================================================+==============+=========+
| critical-threshold | Memory utilization per process critical level threshold | 0-4294967295 | \-      |
+--------------------+---------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# memory
    dnRouter(cfg-system-util-ncp-memory)# proc bgpd
    dnRouter(cfg-system-util-ncp-memory-bgpd)# critical-threshold 34


**Removing Configuration**

To remove specific process threshold
::

    dnRouter(cfg-system-util-ncp-memory-bgpd) no critical-threshold

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/memory/max-mem-util-threshold.rst

system utilization node-type memory mem-util-threshold
------------------------------------------------------

**Minimum user role:** operator

To configure the memory utilization rate threshold:


**Command syntax: mem-util-threshold [mem-util-threshold]**

**Command mode:** config

**Hierarchies**

- system utilization node-type memory

**Note**
- The command is applicable to the platform memory utilization threshold.


**Parameter table**

+--------------------+-------------+-------+---------+
| Parameter          | Description | Range | Default |
+====================+=============+=======+=========+
| mem-util-threshold | percentage  | 0-100 | 90      |
+--------------------+-------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# memory
    dnRouter(cfg-system-util-ncp-memory)# mem-util-threshold 90


**Removing Configuration**

To set memory utilization rate threshold to default:
::

    dnRouter(cfg-system-util-ncp-memory)# no mem-util-threshold

**Command History**

+---------+---------------------------------------------------------------+
| Release | Modification                                                  |
+=========+===============================================================+
| 18.1    | Command introduced                                            |
+---------+---------------------------------------------------------------+
| 18.2    | Hierarchy changed from system ncp hardware mem-util-threshold |
+---------+---------------------------------------------------------------+

---

## utilization/node-type/memory/process-abnormal-behavior.rst

system utilization node-type memory process process-abnormal-behavior
---------------------------------------------------------------------

**Minimum user role:** operator

"Disable the triggering memory abnormal events  for this process."


**Command syntax: process-abnormal-behavior [process-abnormal-behavior]**

**Command mode:** config

**Hierarchies**

- system utilization node-type memory process

**Parameter table**

+---------------------------+------------------------+--------------+---------+
| Parameter                 | Description            | Range        | Default |
+===========================+========================+==============+=========+
| process-abnormal-behavior | Disable process alerts | | enabled    | enabled |
|                           |                        | | disabled   |         |
+---------------------------+------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# memory
    dnRouter(cfg-system-util-ncp-memory)# proc bgpd
    dnRouter(cfg-system-util-ncp-memory-bgp)# process-abnormal-behavior disabled


**Removing Configuration**

To revert to the default value:
::

    dnRouter(cfg-system-util-ncp-memory-bgp)# no process-abnormal-behavior

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/memory/process.rst

system utilization node-type memory process
-------------------------------------------

**Minimum user role:** operator

"Configure the specific process memory resource utilization threshold per node type."


**Command syntax: process [process]**

**Command mode:** config

**Hierarchies**

- system utilization node-type memory

**Parameter table**

+-----------+--------------+------------------+---------+
| Parameter | Description  | Range            | Default |
+===========+==============+==================+=========+
| process   | Process name | | string         | \-      |
|           |              | | length 1-255   |         |
+-----------+--------------+------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# memory
    dnRouter(cfg-system-util-ncp-memory)# process bgpd
    dnRouter(cfg-system-util-ncp-memory-bgpd)#


**Removing Configuration**

To remove specific process threshold
::

    dnRouter(cfg-system-util-ncp-memory) no bgpd

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

## utilization/node-type/memory/warning-threshold.rst

system utilization node-type memory process warning-threshold
-------------------------------------------------------------

**Minimum user role:** operator

"Configure the warning level memory utilization threshold of a specific process per node type in MBytes."


**Command syntax: warning-threshold [warning-threshold]**

**Command mode:** config

**Hierarchies**

- system utilization node-type memory process

**Parameter table**

+-------------------+--------------------------------------------------------+--------------+---------+
| Parameter         | Description                                            | Range        | Default |
+===================+========================================================+==============+=========+
| warning-threshold | Memory utilization per process warning level threshold | 0-4294967295 | \-      |
+-------------------+--------------------------------------------------------+--------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# utilization
    dnRouter(cfg-system-util)# node-type ncp
    dnRouter(cfg-system-util-ncp)# memory
    dnRouter(cfg-system-util-ncp-memory)# proc bgpd
    dnRouter(cfg-system-util-ncp-memory-bgpd)# warning-threshold 34


**Removing Configuration**

To remove specific process threshold
::

    dnRouter(cfg-system-util-ncp-memory-bgpd) no warning-threshold

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 18.2    | Command introduced |
+---------+--------------------+

---

---

# SECTION 2: HIGH-AVAILABILITY

Files from High-availability folder:       12 files

## disable-recovery-mode.rst

system high-availability disable-recovery-mode
----------------------------------------------

**Minimum user role:** operator

Configure whether or not system should enter recovery-mode. Once set, recovery mode is disabled in the system.
System will avoid recovery mode, resulting in NCC restart.

**Command syntax: disable-recovery-mode**

**Command mode:** config

**Hierarchies**

- system high-availability

**Note**

- no command remove 'disable-recovery-mode' settings and return system to allow entering recovery-mode

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# disable-recovery-mode


**Removing Configuration**

To revert to default configuration:
::

    dnRouter(cfg-system-high-availability)# no disable-recovery-mode

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## high-availability.rst

system high-availability
------------------------

**Minimum user role:** operator

High-availability configuration control system behavior upon software failure.

To enter the high-availability configuration level:


**Command syntax: high-availability**

**Command mode:** config

**Hierarchies**

- system

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)#


**Removing Configuration**

To remove all high-availability configuration and return to default high-availability behavior:
::

    dnRouter(cfg-system)# no high-availability

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/container/container.rst

system high-availability policy ncc container
---------------------------------------------

**Minimum user role:** operator

Define high-availability policy behavior for software components that reside in the DNOS NCC container.
To enter the container configuration level:


**Command syntax: container [container]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc

**Parameter table**

+-----------+----------------+-------+---------+
| Parameter | Description    | Range | Default |
+===========+================+=======+=========+
| container | container name | \-    | \-      |
+-----------+----------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)# ncc
    dnRouter(cfg-system-high-availability-policy-ncc)# container routing-engine
    dnRouter(cfg-system-high-availability-policy-ncc-container)#


**Removing Configuration**

To revert all container high-availability container configuration to default values:
::

    dnRouter(cfg-system-high-availability-policy-ncc)# no container routing-engine

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/container/process/failure-period.rst

system high-availability policy ncc container process failure-period
--------------------------------------------------------------------

**Minimum user role:** operator

Defines the time period (in minutes) process failures are accumulated in order to trigger process HA violation.
If the number of process failures in the last failure-period minutes exceed max-failures, process HA violation is triggered.

To configure the failure period:

**Command syntax: failure-period [failure-period]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc container process

**Note**

- Reconfiguration will lead to mitigations counter and mitigation-period-timer reset

- Reconfiguration will not change current process state (i.e bring it up if process is down)

- for max-failures = 0 failure-period has no effect.

**Parameter table**

+----------------+----------------------------------------------------------+---------+---------+
| Parameter      | Description                                              | Range   | Default |
+================+==========================================================+=========+=========+
| failure-period | time window in minute where process failures are counted | 1-65535 | \-      |
+----------------+----------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)# ncc
    dnRouter(cfg-system-high-availability-policy-ncc)# container routing-engine
    dnRouter(cfg-system-high-availability-policy-ncc-container)# process routing:pimd
    dnRouter(cfg-system-high-availability-policy-ncc-container-process)# failure-period 5


**Removing Configuration**

To revert failure-period configuration to default value:
::

    dnRouter(cfg-system-high-availability-policy-ncc-container-process)# no failure-period

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/container/process/max-failures.rst

system high-availability policy ncc container process max-failures
------------------------------------------------------------------

**Minimum user role:** operator

Defines the amount of failures a process may have in a given failure-period before declaring process HA violation.
Each allowed failure will be handled by the process defined mitigation (process restart).
For 0 value, the process will have an HA violation upon first failure.
To configure max-failures:

**Command syntax: max-failures [max-failures]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc container process

**Note**

- Reconfiguration will lead to mitigations counter and mitigation-period-timer reset

- Reconfiguration will not change current process state (i.e bring it up if process is down)

**Parameter table**

+--------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter    | Description                                                                      | Range   | Default |
+==============+==================================================================================+=========+=========+
| max-failures | number of allowed process failure in a defined time period before declaring      | 0-65535 | \-      |
|              | high-availability violation.                                                     |         |         |
+--------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)# ncc
    dnRouter(cfg-system-high-availability-policy-ncc)# container routing-engine
    dnRouter(cfg-system-high-availability-policy-ncc-container)# process routing:pimd
    dnRouter(cfg-system-high-availability-policy-ncc-container-process)# max-failures 1


**Removing Configuration**

To revert max-failures configuration to default value:
::

    ddnRouter(cfg-system-high-availability-policy-ncc-container-process)# no max-failures

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/container/process/process.rst

system high-availability policy ncc container process
-----------------------------------------------------

**Minimum user role:** operator

Defines the high-availability policy behavior for processes residing in the DNOS NCC container.
To enter the process configuration level:


**Command syntax: process [process]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc container

**Parameter table**

+-----------+--------------+-------+---------+
| Parameter | Description  | Range | Default |
+===========+==============+=======+=========+
| process   | process name | \-    | \-      |
+-----------+--------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)# ncc
    dnRouter(cfg-system-high-availability-policy-ncc)# container routing-engine
    dnRouter(cfg-system-high-availability-policy-ncc-container)# process routing:pimd
    dnRouter(cfg-system-high-availability-policy-ncc-container-process)#


**Removing Configuration**

To revert all high-availability process configuration to default values:
::

    dnRouter(cfg-system-high-availability-policy-ncc-container)# no process routing:pimd

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/container/process/violation-action.rst

system high-availability policy ncc container process violation-action
----------------------------------------------------------------------

**Minimum user role:** operator

Defines the high-availablity action expected to take place upon process HA violation.

Possible actions:
- hold-down  Process is stopped, system continues to run. SYSTEM_PROCESS_HELD_DOWN syslog is expected
- always-escalate - Escalate violation to parent entity, and declare failure at parent container level, which will reset the parent container (default, similar to 13.3 today). SYSTEM_PROCESS_HA_VIOLATION syslog is expected.

**Command syntax: violation-action [violation-action]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc container process

**Note**

- Reconfiguration will lead to mitigations counter and mitigation-period-timer reset

- Reconfiguration will not change current process state (i.e bring it up if process is down)

**Parameter table**

+------------------+----------------------------------------------------------------------------------+---------------------+---------+
| Parameter        | Description                                                                      | Range               | Default |
+==================+==================================================================================+=====================+=========+
| violation-action | Expected action to take place once process reach high-availability violation and | | hold-down         | \-      |
|                  | no more mitigations are allowed                                                  | | always-escalate   |         |
|                  |                                                                                  | | escalate-stop     |         |
+------------------+----------------------------------------------------------------------------------+---------------------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)# ncc
    dnRouter(cfg-system-high-availability-policy-ncc)# container routing-engine
    dnRouter(cfg-system-high-availability-policy-ncc-container)# process routing:pimd
    dnRouter(cfg-system-high-availability-policy-ncc-container-process)# violation-action hold-down


**Removing Configuration**

To revert violation-action configuration to default value:
::

    ddnRouter(cfg-system-high-availability-policy-ncc-container-process)# no violation-action

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/escalation-stop-failovers/escalation-stop-failovers.rst

system high-availability policy ncc escalation-stop-failovers
-------------------------------------------------------------

**Minimum user role:** operator

For escalation-stop high-availability violation actions, when a process reaches a high-availability violation, the number of failovers performed in the past failover-period time window is checked.
If the number is smaller than the max-failover, the DNOS high-availability policy escalates to a higher level mitigation (e.g., container reset). Otherwise the process is kept down.

To configure escalation-stop-failovers parameters, enter the escalation-stop-failovers configuration level:

**Command syntax: escalation-stop-failovers**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-ha)# policy
    dnRouter(cfg-system-ha-policy)# ncc
    dnRouter(cfg-ha-policy-ncc)# escalation-stop-failovers
    dnRouter(cfg-policy-ncc-es-failovers)#


**Removing Configuration**

To revert all escalation-stop-failovers configuration to default:
::

    dnRouter(cfg-ha-policy-ncc)# no escalation-stop-failovers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/escalation-stop-failovers/failover-period.rst

system high-availability policy ncc escalation-stop-failovers failover-period
-----------------------------------------------------------------------------

**Minimum user role:** operator

To configure the failover time period that DNOS allows max-failovers, for the escalation-stop logic:

**Command syntax: failover-period [failover-period]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc escalation-stop-failovers

**Note**

- for max-failovers = 0 failover-period has no effect.

**Parameter table**

+-----------------+----------------------------------------------------------------------------------+---------+---------+
| Parameter       | Description                                                                      | Range   | Default |
+=================+==================================================================================+=========+=========+
| failover-period | time window in minutes, for which NCC failovers are counted for escalate-stop    | 1-65535 | 30      |
|                 | decision                                                                         |         |         |
+-----------------+----------------------------------------------------------------------------------+---------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-ha)# policy
    dnRouter(cfg-system-ha-policy)# ncc
    dnRouter(cfg-ha-policy-ncc)# escalation-stop-failovers
    dnRouter(cfg-policy-ncc-es-failovers)# failover-period 10


**Removing Configuration**

To revert failover-period to default:
::

    dnRouter(cfg-policy-ncc-es-failovers)# no failover-period

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/escalation-stop-failovers/max-failovers.rst

system high-availability policy ncc escalation-stop-failovers max-failovers
---------------------------------------------------------------------------

**Minimum user role:** operator

To configure the maximum amount of allowed NCC failovers in a failover period:

**Command syntax: max-failovers [max-failovers]**

**Command mode:** config

**Hierarchies**

- system high-availability policy ncc escalation-stop-failovers

**Note**

- Any user operation that causes an NCC to restart or switchover will result in resetting the failover counter.

**Parameter table**

+---------------+----------------------------------------------------------------------------------+-------+---------+
| Parameter     | Description                                                                      | Range | Default |
+===============+==================================================================================+=======+=========+
| max-failovers | maximum number of allowed failovers in a failover period. When number of         | 0-255 | 2       |
|               | failover reach maximum value, escalate-stop flow will result in stopping the     |       |         |
|               | failed process                                                                   |       |         |
+---------------+----------------------------------------------------------------------------------+-------+---------+

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-ha)# policy
    dnRouter(cfg-system-ha-policy)# ncc
    dnRouter(cfg-ha-policy-ncc)# escalation-stop-failovers
    dnRouter(cfg-policy-ncc-es-failovers)#  max-failovers 1


**Removing Configuration**

To revert max-failovers to default:
::

    dnRouter(cfg-policy-ncc-es-failovers)# no max-failovers

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/ncc/ncc.rst

system high-availability policy ncc
-----------------------------------

**Minimum user role:** operator

Defines the high-availability policy behavior for software components that reside in the DNOS NCC.
To enter the ncc configuration level:


**Command syntax: ncc**

**Command mode:** config

**Hierarchies**

- system high-availability policy

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)# ncc
    dnRouter(cfg-system-high-availability-policy-ncc)#


**Removing Configuration**

To revert all ncc high-availability policy configuration to default values:
::

    dnRouter(cfg-system-high-availability-policy)# no ncc

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---

## policy/policy.rst

system high-availability policy
-------------------------------

**Minimum user role:** operator

The High-availability policy configuration controls the system behavior upon software failure.
A user can define a specific behavior per process, for process recovery and actions upon process failure that exceed the planned amount.

To enter the policy configuration level:


**Command syntax: policy**

**Command mode:** config

**Hierarchies**

- system high-availability

**Example**
::

    dnRouter# configure
    dnRouter(cfg)# system
    dnRouter(cfg-system)# high-availability
    dnRouter(cfg-system-high-availability)# policy
    dnRouter(cfg-system-high-availability-policy)#


**Removing Configuration**

To remove all high-availability policy configuration and return to default policy behavior:
::

    dnRouter(cfg-system-high-availability)# no policy

**Command History**

+---------+--------------------+
| Release | Modification       |
+=========+====================+
| 16.2    | Command introduced |
+---------+--------------------+

---


---

Total files: 635
